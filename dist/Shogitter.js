!function(e,t){for(var o in t)e[o]=t[o]}(exports,function(e){var t={};function o(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=35)}([function(e,t){e.exports=require("react")},function(e,t,o){"use strict";function a(e,t){for(var o=arguments.length,a=new Array(o>2?o-2:0),r=2;r<o;r++)a[r-2]=arguments[r];if(!e){var n;if(void 0===t)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;(n=new Error(t.replace(/%s/g,(function(){return a[i++]})))).name="Invariant Violation"}throw n.framesToPop=1,n}}o.d(t,"a",(function(){return a}))},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t,o){return void 0===o&&(o=0),e.call(this,t+" "+o)||this}return r(t,e),t}(Error);t.Exception=n,t.array_diff=function(e,t){var o=[],a=[];a=e.concat(t);for(var r=0;r<a.length;r++)a.indexOf(a[r])==a.lastIndexOf(a[r])&&o.push(a[r]);return o},t.shuffle=function(e){var t,o,a;for(a=e.length-1;a>0;a--)t=Math.floor(Math.random()*(a+1)),o=e[a],e[a]=e[t],e[t]=o;return e}},function(e,t,o){"use strict";function a(e,t,o,a){var r=o?o.call(a,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),s=0;s<n.length;s++){var m=n[s];if(!c(m))return!1;var p=e[m],u=t[m];if(!1===(r=o?o.call(a,p,u,m):void 0)||void 0===r&&p!==u)return!1}return!0}o.d(t,"a",(function(){return a}))},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.abstract="説明"}return e.prototype.setCommonSetting=function(e){void 0===e&&(e={}),this.commonSetting=e},e.prototype.checkDirection=function(e){var t=this.commonSetting.directions;return!t||t.indexOf(e)>=0},e.prototype.toHTML=function(){return"strategy"},e.prototype.serialize=function(e){return e},e.prototype.deserialize=function(e){},e}();t.default=i;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){throw"shouldn't be called"},t}(i);t.BeforeAfterDropStrategy=c;var s=function(){function e(){this.arrayStrategies=[]}return e.prototype.execute=function(){var e,t;try{for(var o=n(this.arrayStrategies),a=o.next();!a.done;a=o.next()){var r=a.value;r.checkDirection(this.ban.parent.fromDirection)&&r.execute.apply(r,arguments)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.add=function(e){this.arrayStrategies.push(e)},e.prototype.toHTML=function(){var e,t,o=[];try{for(var a=n(this.arrayStrategies),r=a.next();!r.done;r=a.next()){var i=r.value;null!==i.toHTML()&&o.push(i.toHTML())}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o.length>=2?"<ul>"+o.filter((function(e){return null!==e})).map((function(e){return"<li>"+e})).join("")+"</ul>":o[0]},e.prototype.getAbstract=function(){return this.abstract},e.prototype.deserialize=function(e){var t,o;try{for(var a=n(this.arrayStrategies),r=a.next();!r.done;r=a.next()){e=r.value.deserialize(e)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}},e.prototype.serialize=function(e){var t,o;try{for(var a=n(this.arrayStrategies),r=a.next();!r.done;r=a.next()){e=r.value.serialize(e)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}return e},e.defaultSetting={},e}();t.StrategyContainer=s;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e,t){var o,a;void 0===e&&(e=null),void 0===t&&(t=null);try{for(var r=n(this.arrayStrategies),i=r.next();!i.done;i=r.next()){var c=i.value;c.checkDirection(this.ban.parent.fromDirection)&&c.executeBefore(e,t)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.executeAfter=function(e,t){var o,a;void 0===e&&(e=null),void 0===t&&(t=!1);try{for(var r=n(this.arrayStrategies),i=r.next();!i.done;i=r.next()){var c=i.value;c.checkDirection(this.ban.parent.fromDirection)&&c.executeAfter(e,t)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.executeDrop=function(e,t,o){var a,r;void 0===e&&(e=null);try{for(var i=n(this.arrayStrategies),c=i.next();!c.done;c=i.next()){var s=c.value;s.checkDirection(this.ban.parent.fromDirection)&&s.executeDrop(e,t,o)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}},t}(s);t.BeforeAfterDropStrategyContainer=m},function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var a=o(0),r="undefined"!=typeof window?a.useLayoutEffect:a.useEffect},function(e,t,o){"use strict";var a,r,n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var a,r,n=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return i};Object.defineProperty(t,"__esModule",{value:!0});var c,s=o(2),m=o(14),p=o(26);!function(e){e[e.TATEYOKO=1]="TATEYOKO",e[e.ALLROUND=2]="ALLROUND",e[e.HALFROUND=3]="HALFROUND"}(c=t.RelativeType||(t.RelativeType={})),t.XYMatcher=function(e,t){return function(o){return o.x==e&&o.y==t}};var u=function(){function e(e,t){this.x=e,this.y=t}return e.getVector=function(t){return e.constants[t]},e.fromArray=function(t){var o=i(t,2);return new e(o[0],o[1])},e.prototype.toString=function(){return"("+this.x+", "+this.y+") "},e.prototype.getHash=function(){return this.x+","+this.y},e.prototype.add=function(e,t){this.x+=e,this.y+=t},e.prototype.addRel=function(e,t){void 0===t&&(t=1),this.x+=e.x*t,this.y+=e.y*t},e.prototype.set=function(e,t){this.x=e,this.y=t},e.prototype.equals=function(e){return this.x==e.x&&this.y==e.y},e.prototype.getClone=function(t,o){void 0===t&&(t=0),void 0===o&&(o=0);var a=new e(this.x,this.y);return a.add(t,o),a},e.prototype.getCloneRel=function(t,o){void 0===o&&(o=1);var a=new e(this.x,this.y);return a.addRel(t,o),a},e.prototype.getArray=function(){return[this.x,this.y]},e.prototype.turn=function(e){var t,o;switch(e){case m.Direction.BLACK:t=this.x,o=this.y;break;case m.Direction.WHITE:t=-this.x,o=-this.y;break;case m.Direction.LEFT:t=this.y,o=-this.x;break;case m.Direction.RIGHT:t=-this.y,o=this.x;break;default:throw new s.Exception("駒の向き"+e+"が定義されていません。")}this.x=t,this.y=o},e.prototype.turnReverse=function(e){var t,o;switch(e){case m.Direction.BLACK:t=this.x,o=this.y;break;case m.Direction.WHITE:t=-this.x,o=-this.y;break;case m.Direction.LEFT:t=-this.y,o=this.x;break;case m.Direction.RIGHT:t=this.y,o=-this.x;break;default:throw new s.Exception("駒の向き"+e+"が定義されていません。",1)}this.x=t,this.y=o},e.prototype.unify=function(){var t;if(0==this.x)return 0==this.y?1:(t=Math.abs(this.y),this.y/=t,t);if(0==this.y)return t=Math.abs(this.x),this.x/=t,t;var o=e.gcd(Math.abs(this.x),Math.abs(this.y));return this.x/=o,this.y/=o,o},e.gcd=function(e,t){for(;e%t!=0;){var o=t;t=e%t,e=o}return t},e.prototype.getCloneFlipped=function(){var e=this.getClone();return e.x*=-1,e.y*=-1,e},e.constants=((r={})[c.TATEYOKO]=[new e(1,0),new e(-1,0),new e(0,1),new e(0,-1)],r[c.ALLROUND]=[new e(1,0),new e(-1,0),new e(0,1),new e(0,-1),new e(1,1),new e(1,-1),new e(-1,1),new e(-1,-1)],r[c.HALFROUND]=[new e(1,0),new e(1,1),new e(0,1),new e(-1,1)],r),e}();t.RelXY=u;var l=function(e){function t(t,o){return e.call(this,t,o)||this}return n(t,e),t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t.prototype.getFormat=function(){return this.x+p.num2kan_decimal(""+this.y)},t.prototype.turn=function(){throw new s.Exception("座標が回転できません。")},t.prototype.turnReverse=function(){throw new s.Exception("座標が回転できません。")},t.prototype.getDistance=function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},t.prototype.to=function(e){return new u(e.x-this.x,e.y-this.y)},t.prototype.from=function(e){return new u(this.x-e.x,this.y-e.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.getClone=function(e,o){void 0===e&&(e=0),void 0===o&&(o=0);var a=new t(this.x,this.y);return a.add(e,o),a},t.prototype.getCloneRel=function(e,o){void 0===o&&(o=1);var a=new t(this.x,this.y);return a.addRel(e,o),a},t}(u);t.default=l},function(e,t,o){e.exports=o(61)()},function(e,t,o){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=r(o(39)),c=r(o(40)),s=function(){function e(e){this.arrayRule={},this.arrayKoma={}}return e.prototype.getAllRules=function(){for(var e=[],t=0;t<110;t++)try{e.push(this.getRule(t))}catch(e){break}return e},e.prototype.getRule=function(e){return this.arrayRule[e]||this.loadRule(e),this.arrayRule[e]},e.prototype.loadRule=function(e){var t=c.default.get(e);if(!t)throw new n.Exception("指定されたルールID「"+e+"」が不正です。");if("extend"in t){var o=a({},this.getRule(t.extend.$id));for(var r in t){var i=t[r];"init"==r?o.init={ban:i.ban||o.init.ban,mochigoma:i.mochigoma||o.init.mochigoma}:o[r]=i}this.arrayRule[e]=o}else this.arrayRule[e]=t},e.prototype.getKoma=function(e,t){return this.arrayKoma[e]||this.loadKoma(e),null==t?this.arrayKoma[e]:this.arrayKoma[e][t]},e.prototype.loadKoma=function(e){var t=i.default.get(e);if(null==t)throw new n.Exception("駒 "+e+" が不明です．1");this.arrayKoma[e]=t},e}();try{t.shogitterDB=new s(null)}catch(e){throw"データベースエラー"}},function(e,t,o){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(14);var c=function(){function e(e){this.max=e}return e.prototype.get=function(){return this.num},e.prototype.set=function(e){this.num=e},e.prototype.getMax=function(){return this.max},e.prototype.setMax=function(e){this.max=e},e.prototype.inc=function(){return this.num++,this.num==this.max&&(this.num=0,!0)},e}();!function(e){e[e.WIN=0]="WIN",e[e.LOSE=1]="LOSE"}(t.Result||(t.Result={}));var s=function(){function e(e,t,o,a,n){var i,s;void 0===a&&(a=0),void 0===n&&(n=1),this.flags={},this.arrayPlayerInfo=[],this.teban=new c(t.length),this.teban.set(e),this.turn=new c(n),this.turn.set(a),this.arrayTeban=t,this.arrayUniqueDirection=this.arrayTeban,this.arrayPlayerInfo=[];try{for(var m=r(t),p=m.next();!p.done;p=m.next()){var u=p.value;this.arrayPlayerInfo[u]={user:[]}}}catch(e){i={error:e}}finally{try{p&&!p.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}this.shogi=o}return e.prototype.getIterator=function(){return this.arrayUniqueDirection},e.prototype.getMaxTeban=function(){return this.teban.getMax()},e.prototype.getMaxTurn=function(){return this.turn.getMax()},e.prototype.setMaxTurn=function(e){this.turn.setMax(e)},e.prototype.changeDirection=function(){var e=this.arrayPlayerInfo[0].user;this.arrayPlayerInfo[0].user=this.arrayPlayerInfo[1].user,this.arrayPlayerInfo[1].user=e},e.prototype.setArrayPlayerInfo=function(e){this.arrayPlayerInfo=e},e.prototype.shufflePlayers=function(){if(this.shogi.isPlaying())throw new n.Exception("対局中は振り駒できません",1);this.arrayPlayerInfo},e.prototype.setResultToPlayer=function(e,t){this.arrayPlayerInfo[e].result=t},e.prototype.getArrayPlayerInfo=function(){return this.arrayPlayerInfo},e.prototype.setPlayerName=function(e,t,o){this.arrayPlayerInfo[e].user[t].name=o},e.prototype.getPlayerName=function(e,t){return this.arrayPlayerInfo[e].user[t].name},e.prototype.getNowPlayerName=function(){return this.getPlayerName(this.getNowDirection(),this.getTurn())},e.prototype.getJoinedPlayerName=function(e){var t,o,a=[];try{for(var n=r(this.arrayPlayerInfo[e].user),i=n.next();!i.done;i=n.next()){var c=i.value;a.push("@"+c.name)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return a.join(", ")},e.prototype.getPlayerId=function(e,t){return this.arrayPlayerInfo[e].user[t].id},e.prototype.getPlayerIds=function(e){var t,o,a=[];try{for(var n=r(this.arrayPlayerInfo[e].user),i=n.next();!i.done;i=n.next()){var c=i.value;a.push(c.id)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return a},e.prototype.getDirectionById=function(e){var t,o,a,i;try{for(var c=r(this.getIterator()),s=c.next();!s.done;s=c.next()){var m=s.value;try{for(var p=(a=void 0,r(this.getPlayerIds(m))),u=p.next();!u.done;u=p.next()){if(u.value==e)return m}}catch(e){a={error:e}}finally{try{u&&!u.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}throw new n.Exception("あなたはプレイヤーではありません．")},e.prototype.setFlags=function(e){this.flags=a(a({},this.flags),e)},e.prototype.__toString=function(){return this.teban.get()},e.prototype.get=function(){return this.teban.get()},e.prototype.getTurn=function(){return this.turn.get()},e.prototype.set=function(e){this.teban.set(e)},e.prototype.setTurn=function(e){this.turn.set(e)},e.prototype.getNowDirection=function(){return this.arrayTeban[this.teban.get()]},e.getMark=function(t){if(null==t)throw new n.Exception("getMark",1);return e.tebanMark[t]},e.prototype.getNowMark=function(){return e.getMark(this.getNowDirection())},e.prototype.getName=function(t){return e.tebanName[this.flags.komaochi?1:0][t]},e.prototype.getNowName=function(){return this.getName(this.getNowDirection())},e.prototype.isNowId=function(e,t){void 0===t&&(t=!1);var o=this.getPlayerIds(this.getNowDirection());return t?o[this.getTurn()]==e:o.indexOf(e)>=0},e.prototype.getNowId=function(){return this.getPlayerId(this.getNowDirection(),this.getTurn())},e.prototype.rotate=function(){this.teban.inc()&&this.turn.inc()},e.prototype.isDirection=function(e){return this.getNowDirection()==e},e.prototype.ensureDirection=function(e){if(!this.isDirection(e))throw new n.Exception("手番が守られていません。")},e.reverse=function(e){switch(e){case i.Direction.BLACK:return i.Direction.WHITE;case i.Direction.WHITE:return i.Direction.BLACK;case i.Direction.LEFT:return i.Direction.RIGHT;case i.Direction.RIGHT:return i.Direction.LEFT;default:throw new n.Exception("その向きは定義されていません。",1)}},e.mark2direction=function(e){switch(e){case"▲":return 0;case"△":return 1}throw new n.Exception("unknown direction mark: "+e)},e.tebanName=[["先手","後手","左手","右手"],["下手","上手"]],e.tebanMark=["☗","☖","←","→"],e}();t.Teban=s},function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var a=o(0),r=o(1),n=o(11);function i(){var e=Object(a.useContext)(n.a).dragDropManager;return Object(r.a)(null!=e,"Expected drag drop context"),e}},function(e,t,o){"use strict";o.d(t,"a",(function(){return Le})),o.d(t,"b",(function(){return Ye}));var a=o(0),r=o(23),n=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+n(),REPLACE:"@@redux/REPLACE"+n(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+n()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,o){var a;if("function"==typeof t&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var n=e,m=t,p=[],u=p,l=!1;function f(){u===p&&(u=p.slice())}function y(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return m}function d(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),u.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var o=u.indexOf(e);u.splice(o,1),p=null}}}function v(e){if(!c(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,m=n(m,e)}finally{l=!1}for(var t=p=u,o=0;o<t.length;o++){(0,t[o])()}return e}function h(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");n=e,v({type:i.REPLACE})}function b(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function o(){e.next&&e.next(y())}return o(),{unsubscribe:t(o)}}})[r.a]=function(){return this},e}return v({type:i.INIT}),(a={dispatch:v,subscribe:d,getState:y,replaceReducer:h})[r.a]=b,a}var m="dnd-core/INIT_COORDS",p="dnd-core/BEGIN_DRAG",u="dnd-core/PUBLISH_DRAG_SOURCE",l="dnd-core/HOVER",f="dnd-core/DROP",y="dnd-core/END_DRAG",d=function(e,t){return e===t};function v(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function h(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(!o(e[a],t[a]))return!1;return!0}function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function g(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(Object(o),!0).forEach((function(t){k(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var $={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,o=t.payload;switch(t.type){case m:case p:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case l:return v(e.clientOffset,o.clientOffset)?e:g({},e,{clientOffset:o.clientOffset});case y:case f:return $;default:return e}}var x="dnd-core/ADD_SOURCE",C="dnd-core/ADD_TARGET",_="dnd-core/REMOVE_SOURCE",O="dnd-core/REMOVE_TARGET";function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,o){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:o||null}),e)}function T(e,t){return e.filter((function(e){return e!==t}))}function E(e){return"object"===j(e)}function M(e,t){var o=new Map,a=function(e){return o.set(e,o.has(e)?o.get(e)+1:1)};e.forEach(a),t.forEach(a);var r=[];return o.forEach((function(e,t){1===e&&r.push(t)})),r}function D(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function P(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?D(Object(o),!0).forEach((function(t){I(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function I(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var N={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,o=t.payload;switch(t.type){case p:return P({},e,{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case u:return P({},e,{isSourcePublic:!0});case l:return P({},e,{targetIds:o.targetIds});case O:return-1===e.targetIds.indexOf(o.targetId)?e:P({},e,{targetIds:T(e.targetIds,o.targetId)});case f:return P({},e,{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case y:return P({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case C:return e+1;case _:case O:return e-1;default:return e}}var q=[],z=[];function L(e,t){return e!==q&&(e===z||void 0===t||(o=e,t.filter((function(e){return o.indexOf(e)>-1}))).length>0);var o}function Y(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:break;case x:case C:case O:case _:return q;case p:case u:case y:case f:default:return z}var t=e.payload,o=t.targetIds,a=void 0===o?[]:o,r=t.prevTargetIds,n=void 0===r?[]:r,i=M(a,n),c=i.length>0||!h(a,n);if(!c)return q;var s=n[n.length-1],m=a[a.length-1];return s!==m&&(s&&i.push(s),m&&i.push(m)),i}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function B(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function K(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?B(Object(o),!0).forEach((function(t){H(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function H(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Y(e.dirtyHandlerIds,{type:t.type,payload:K({},t.payload,{prevTargetIds:S(e,"dragOperation.targetIds",[])})}),dragOffset:w(e.dragOffset,t),refCount:A(e.refCount,t),dragOperation:R(e.dragOperation,t),stateId:X(e.stateId)}}q.__IS_NONE__=!0,z.__IS_ALL__=!0;var J=o(1);function U(e,t){return{type:m,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var W={type:m,payload:{clientOffset:null,sourceClientOffset:null}};function G(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},a=o.publishSource,r=void 0===a||a,n=o.clientOffset,i=o.getSourceClientOffset,c=e.getMonitor(),s=e.getRegistry();e.dispatch(U(n)),V(t,c,s);var m=ee(t,c);if(null!==m){var u=null;n&&(Q(i),u=i(m)),e.dispatch(U(n,u));var l=s.getSource(m),f=l.beginDrag(c,m);Z(f),s.pinSource(m);var y=s.getSourceType(m);return{type:p,payload:{itemType:y,item:f,sourceId:m,clientOffset:n||null,sourceClientOffset:u||null,isSourcePublic:!!r}}}e.dispatch(W)}}function V(e,t,o){Object(J.a)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Object(J.a)(o.getSource(e),"Expected sourceIds to be registered.")}))}function Q(e){Object(J.a)("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function Z(e){Object(J.a)(E(e),"Item must be an object.")}function ee(e,t){for(var o=null,a=e.length-1;a>=0;a--)if(t.canDragSource(e[a])){o=e[a];break}return o}function te(e){return function(){if(e.getMonitor().isDragging())return{type:u}}}function oe(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function ae(e){return function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.clientOffset;re(t);var r=t.slice(0),n=e.getMonitor(),i=e.getRegistry();ne(r,n,i);var c=n.getItemType();return ie(r,i,c),ce(r,n,i),{type:l,payload:{targetIds:r,clientOffset:a||null}}}}function re(e){Object(J.a)(Array.isArray(e),"Expected targetIds to be an array.")}function ne(e,t,o){Object(J.a)(t.isDragging(),"Cannot call hover while not dragging."),Object(J.a)(!t.didDrop(),"Cannot call hover after drop.");for(var a=0;a<e.length;a++){var r=e[a];Object(J.a)(e.lastIndexOf(r)===a,"Expected targetIds to be unique in the passed array.");var n=o.getTarget(r);Object(J.a)(n,"Expected targetIds to be registered.")}}function ie(e,t,o){for(var a=e.length-1;a>=0;a--){var r=e[a];oe(t.getTargetType(r),o)||e.splice(a,1)}}function ce(e,t,o){e.forEach((function(e){o.getTarget(e).hover(t,e)}))}function se(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function me(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?se(Object(o),!0).forEach((function(t){pe(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):se(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function pe(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ue(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.getMonitor(),a=e.getRegistry();le(o);var r=ye(o);r.forEach((function(r,n){var i=fe(r,n,a,o),c={type:f,payload:{dropResult:me({},t,{},i)}};e.dispatch(c)}))}}function le(e){Object(J.a)(e.isDragging(),"Cannot call drop while not dragging."),Object(J.a)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function fe(e,t,o,a){var r=o.getTarget(e),n=r?r.drop(a,e):void 0;return function(e){Object(J.a)(void 0===e||E(e),"Drop result must either be an object or undefined.")}(n),void 0===n&&(n=0===t?{}:a.getDropResult()),n}function ye(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function de(e){return function(){var t=e.getMonitor(),o=e.getRegistry();!function(e){Object(J.a)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var a=t.getSourceId();return o.getSource(a,!0).endDrag(t,a),o.unpinSource(),{type:y}}}function ve(e,t){return{x:e.x-t.x,y:e.y-t.y}}function he(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var be,ge=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=o}var t,o,a;return t=e,(o=[{key:"subscribeToStateChange",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},a=o.handlerIds;Object(J.a)("function"==typeof e,"listener must be a function."),Object(J.a)(void 0===a||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId,n=function(){var o=t.store.getState(),n=o.stateId;try{n===r||n===r+1&&!L(o.dirtyHandlerIds,a)||e()}finally{r=n}};return this.store.subscribe(n)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Object(J.a)("function"==typeof e,"listener must be a function.");var o=this.store.getState().dragOffset;return this.store.subscribe((function(){var a=t.store.getState().dragOffset;a!==o&&(o=a,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(J.a)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(J.a)(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&oe(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(J.a)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var o=t.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(e),r=this.getItemType();if(r&&!oe(a,r))return!1;var n=this.getTargetIds();if(!n.length)return!1;var i=n.indexOf(e);return o?i===n.length-1:i>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,a=e.clientOffset,r=e.initialClientOffset,n=e.initialSourceClientOffset,a&&r&&n?ve((o=n,{x:(t=a).x+o.x,y:t.y+o.y}),r):null;var e,t,o,a,r,n}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,o=e.initialClientOffset,t&&o?ve(t,o):null;var e,t,o}}])&&he(t.prototype,o),a&&he(t,a),e}(),ke=0;function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){t&&Array.isArray(e)?e.forEach((function(e){return we(e,!1)})):Object(J.a)("string"==typeof e||"symbol"===$e(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(be||(be={}));var xe=o(24),Ce=[],_e=[],Oe=xe.a.makeRequestCallFromTimer((function(){if(_e.length)throw _e.shift()}));function je(e){var t;(t=Ce.length?Ce.pop():new Se).task=e,Object(xe.a)(t)}var Se=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){je.onerror?je.onerror(e):(_e.push(e),Oe())}finally{this.task=null,Ce[Ce.length]=this}},e}();function Te(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Me(e){var t=(ke++).toString();switch(e){case be.SOURCE:return"S".concat(t);case be.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function De(e){switch(e[0]){case"S":return be.SOURCE;case"T":return be.TARGET;default:Object(J.a)(!1,"Cannot parse handler ID: ".concat(e))}}function Pe(e,t){var o=e.entries(),a=!1;do{var r=o.next(),n=r.done;if(Ee(r.value,2)[1]===t)return!0;a=!!n}while(!a);return!1}var Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,o,a;return t=e,(o=[{key:"addSource",value:function(e,t){we(e),function(e){Object(J.a)("function"==typeof e.canDrag,"Expected canDrag to be a function."),Object(J.a)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Object(J.a)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var o=this.addHandler(be.SOURCE,e,t);return this.store.dispatch(function(e){return{type:x,payload:{sourceId:e}}}(o)),o}},{key:"addTarget",value:function(e,t){we(e,!0),function(e){Object(J.a)("function"==typeof e.canDrop,"Expected canDrop to be a function."),Object(J.a)("function"==typeof e.hover,"Expected hover to be a function."),Object(J.a)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var o=this.addHandler(be.TARGET,e,t);return this.store.dispatch(function(e){return{type:C,payload:{targetId:e}}}(o)),o}},{key:"containsHandler",value:function(e){return Pe(this.dragSources,e)||Pe(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(J.a)(this.isSourceId(e),"Expected a valid source ID.");var o=t&&e===this.pinnedSourceId,a=o?this.pinnedSource:this.dragSources.get(e);return a}},{key:"getTarget",value:function(e){return Object(J.a)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Object(J.a)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Object(J.a)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return De(e)===be.SOURCE}},{key:"isTargetId",value:function(e){return De(e)===be.TARGET}},{key:"removeSource",value:function(e){var t=this;Object(J.a)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:_,payload:{sourceId:e}}}(e)),je((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Object(J.a)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:O,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Object(J.a)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Object(J.a)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,o){var a=Me(e);return this.types.set(a,t),e===be.SOURCE?this.dragSources.set(a,o):e===be.TARGET&&this.dropTargets.set(a,o),a}}])&&Te(t.prototype,o),a&&Te(t,a),e}();function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ae(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return s(F,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var qe=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ne(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var a=Ae(o);this.store=a,this.monitor=new ge(a,new Ie(a)),a.subscribe(this.handleRefCountChange)}var t,o,a;return t=e,(o=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,o=function(e){return{beginDrag:G(e),publishDragSource:te(e),hover:ae(e),drop:ue(e),endDrag:de(e)}}(this);return Object.keys(o).reduce((function(a,r){var n,i=o[r];return a[r]=(n=i,function(){for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];var i=n.apply(e,a);void 0!==i&&t(i)}),a}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Re(t.prototype,o),a&&Re(t,a),e}();function ze(e,t,o,a){var r=new qe(a),n=e(r,t,o);return r.receiveBackend(n),r}var Le=a.createContext({dragDropManager:void 0});function Ye(e,t,o,a){return{dragDropManager:ze(e,t,o,a)}}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),c=o(6),s=o(8);!function(e){e[e.NORMAL=1]="NORMAL"}(t.MoveType||(t.MoveType={})),function(e){e[e.FRONT=0]="FRONT",e[e.BACK=1]="BACK",e[e.FLIP=2]="FLIP"}(t.PromotionMode||(t.PromotionMode={}));var m=function(){function e(e,t,o,a){void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),void 0===a&&(a=null),this.species="_"===e?null:e,this.direction="_"===t||null===t?null:t,this.XY=null==o?void 0:o.clone(),this.ban=a}return e.getClass=function(t){return p[t]||e},e.prototype.clone=function(){return new e(this.species,this.direction,this.XY,this.ban)},e.prototype.toString=function(){return null===this.direction?"___":this.direction+this.species},e.prototype.toArray=function(){return[this.direction,this.species]},e.prototype.equals=function(e){return this.direction==e.direction&&this.species==e.species},e.prototype.get=function(e){return this.getData(this.species,e)},e.prototype.setXY=function(e){this.XY=e},e.prototype.setSpecies=function(e){this.species=e},e.prototype.setDirection=function(e){this.direction=e},e.getStatelessData=function(e,t){return""==e?null:s.shogitterDB.getKoma(e,t)},e.prototype.getData=function(t,o){if(""==t)return null;var a=s.shogitterDB.getKoma(t,"initial");if(a&&a[o]&&this.ban.parent.kifu.isInitial(this.XY))return a[o];if(this.status)switch(o){case"move":case"mustNotBeEmpty":case"mustBeEmpty":case"limit":case"change":case"jumpException":case"jumpLimit":var r=s.shogitterDB.getKoma(t,"status");return console.log(r,this.status,t,o),r[this.status][o]}return e.getStatelessData(t,o)},e.prototype.getDataByType=function(e,t,o){var a=this.getData(e,t);return null==a?void 0:a[o]},e.prototype.getShortName=function(){return this.get("shortname")||this.get("name")},e.prototype.isNull=function(){return null===this.species&&null===this.direction},e.prototype.getMovable=function(e){var t,o;void 0===e&&(e={});var a=[],r=e.ignoreOu,i=e.reverse;try{for(var c=n(this.ban.komaSuggest(this)),s=c.next();!s.done;s=c.next()){var m=s.value;a=a.concat(this.getMovableVirtual(m,this.direction,{ignoreOu:r,reverse:i}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}return a},e.prototype.getMovableVirtual=function(e,t,o){var a,r,i,s,m,p,u,l,f,y;void 0===o&&(o={});var d=[],v=[];try{for(var h=n(this.getData(e,"move")),b=h.next();!b.done;b=h.next()){var g=b.value,k=c.RelXY.fromArray(g.move);k.turn(t);try{e:for(var $=(i=void 0,n([].concat(g.type))),w=$.next();!w.done;w=$.next()){var x=w.value;switch(x){case 2:o={};break;case 3:o={noPick:!0,limit:1};break;case 4:o={noPick:!0};break;case 5:o={mustPick:!0,limit:1};break;case 6:case 100:o={limitJump:1e3};break;case 7:o={mustPick:!0,skipJump:1};break;default:o={limit:1}}var C=void 0;(C=this.getDataByType(e,"limit",x))&&(o.limit=C),(C=this.getDataByType(e,"jumpLimit",x))&&(o.limitJump=C),o.skip=this.getDataByType(e,"skip",x)||null,o.jumpException=this.getData(e,"jumpException");var _=void 0;if(_=this.getDataByType(e,"mustBeEmpty",x)){_.move&&(_=[_]);try{for(var O=(m=void 0,n(_)),j=O.next();!j.done;j=O.next()){var S=j.value,T=this.XY.getCloneRel(k.getClone((k.x>0?1:-1)*S.move[0],(k.y>0?1:-1)*S.move[1]));if(this.ban.isLegal(T)&&!this.ban.get(T).isNull()){v.push(this.XY.getCloneRel(k).getHash());continue e}}}catch(e){m={error:e}}finally{try{j&&!j.done&&(p=O.return)&&p.call(O)}finally{if(m)throw m.error}}}if(_=this.getDataByType(e,"mustNotBeEmpty",x)){_.move&&(_=[_]);try{for(var E=(u=void 0,n(_)),M=E.next();!M.done;M=E.next()){S=M.value;var D=k.getClone((k.x>0?1:-1)*S.move[0],(k.y>0?1:-1)*S.move[1]);T=this.XY.getCloneRel(D);if(this.ban.isLegal(T)){var P=this.ban.get(T);if(P.isNull()||1==S.type&&P.direction!=this.direction||2==S.type&&P.direction==this.direction){v.push(this.XY.getCloneRel(k).getHash());continue e}}}}catch(e){u={error:e}}finally{try{M&&!M.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}}try{for(var I=(f=void 0,n(this.ban.getScanIterator(this.XY,k,o))),N=I.next();!N.done;N=I.next()){var R=N.value;o.mustPick&&this.ban.get(R).isNull()||d.push({XY:R,type:x})}}catch(e){f={error:e}}finally{try{N&&!N.done&&(y=I.return)&&y.call(I)}finally{if(f)throw f.error}}}}catch(e){i={error:e}}finally{try{w&&!w.done&&(s=$.return)&&s.call($)}finally{if(i)throw i.error}}}}catch(e){a={error:e}}finally{try{b&&!b.done&&(r=h.return)&&r.call(h)}finally{if(a)throw a.error}}return d=d.filter((function(e){return-1===v.indexOf(e.XY.getHash())})),this.ban.moveFilter(d,this.XY,t,e,o)},e.prototype.getMovableTypes=function(e){var t,o,a=[];try{for(var r=n(this.getMovable()),i=r.next();!i.done;i=r.next()){var c=i.value;c.XY.equals(e)&&a.push(c.type)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}return a},e.prototype.ensureMovable=function(e){var t=this.getMovableTypes(e);if(!t)throw new i.Exception("{this.XY}から{to}へは移動できません。");return t},e.prototype.isFriend=function(e){return this.direction==e.direction},e.prototype.ensureFriend=function(e){if(!this.isFriend(e))throw new i.Exception("{this.XY}と{koma.XY}は味方同士でなくてはなりません。")},e.prototype.isEnemy=function(e){return this.direction!=e.direction},e.prototype.ensureEnemy=function(e){if(!this.isEnemy(e))throw new i.Exception("{this.XY}と{koma.XY}は敵同士でなくてはなりません。")},e.prototype.getPromoted=function(e){return this.ban.parent.getPromoted(this.species,e)},e.prototype.promote=function(e){this.species=this.getPromoted(e)},e.prototype.ensureLegal=function(){if(!this.isLegal())throw new i.Exception("{this.XY}: この駒は動けません。")},e.prototype.isLegal=function(){var e,t,o,a,r=this.species,i=this.direction,s=this.XY,m=!0;try{for(var p=n(this.getData(r,"move")),u=p.next();!u.done;u=p.next()){var l=u.value;m=!1;var f=c.RelXY.fromArray(l.move);f.turn(i);var y=s.getCloneRel(f);try{for(var d=(o=void 0,n([].concat(l.type))),v=d.next();!v.done;v=d.next()){if(0!=v.value&&this.ban.isLegal(y))return!0}}catch(e){o={error:e}}finally{try{v&&!v.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return m},e.prototype.changeStatus=function(e,t){var o,a;if(void 0===e&&(e=[]),t&&this.getData(this.species,"stopWhenCapture"))return this.status=null,void(this.ban.parent.moving=null);var r=this.get("change");if(r)try{for(var i=n(e),c=i.next();!c.done;c=i.next()){var s=c.value;void 0!==r[s]&&(-1===r[s]?(this.status=null,this.ban.parent.moving=null):(this.status=r[s],this.ban.parent.moving=this))}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}},e.prototype.flip=function(){this.direction=1-this.direction},e.name2species=function(e){switch(e){case"歩":return"aa";case"香":return"ab";case"桂":return"ac";case"銀":return"ad";case"金":return"ae";case"角":return"af";case"飛":return"ag";case"玉":case"王":return"ah";case"と":return"ai";case"成香":case"杏":return"aj";case"成桂":case"圭":return"ak";case"成銀":case"全":return"al";case"馬":return"am";case"龍":case"竜":return"an"}throw new i.Exception("unknown koma name: {name}")},e}();t.Koma=m;var p={"":m,Unmovable:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.isLegal=function(){return!0},t}(m),Jizaitenno:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.isLegal=function(){return!0},t.prototype.getMovable=function(){var e,o,a,r,i,c,s=[];try{for(var m=n(this.ban.getIterator()),p=m.next();!p.done;p=m.next()){if(!((h=p.value).isNull()||h instanceof t||this.isFriend(h)))try{for(var u=(a=void 0,n(h.getMovable())),l=u.next();!l.done;l=u.next()){var f=l.value;s[f.XY.x]||(s[f.XY.x]=[]),s[f.XY.x][f.XY.y]=!0}}catch(e){a={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(a)throw a.error}}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(o=m.return)&&o.call(m)}finally{if(e)throw e.error}}var y=[];try{for(var d=n(this.ban.getIterator()),v=d.next();!v.done;v=d.next()){var h;!(h=v.value).isNull()&&s[h.XY.x][h.XY.y]||y.push({XY:h.XY,type:1})}}catch(e){i={error:e}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(i)throw i.error}}return y},t}(m)}},function(e,t,o){"use strict";o.r(t),o.d(t,"DndContext",(function(){return a.a})),o.d(t,"createDndContext",(function(){return a.b})),o.d(t,"DndProvider",(function(){return r.a})),o.d(t,"DragPreviewImage",(function(){return i})),o.d(t,"useDrag",(function(){return M})),o.d(t,"useDrop",(function(){return z})),o.d(t,"useDragLayer",(function(){return L.a})),o.d(t,"DragSource",(function(){return de})),o.d(t,"DropTarget",(function(){return ke})),o.d(t,"DragLayer",(function(){return Te}));var a=o(11),r=o(28),n=o(0),i=n.memo((function(e){var t=e.connect,o=e.src;if("undefined"!=typeof Image){var a=new Image;a.src=o,a.onload=function(){return t(a)}}return null}));i.displayName="DragPreviewImage";var c=o(1),s=o(5),m=o(17);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t,o){var a=p(Object(m.a)(e,t,o),2),r=a[0],n=a[1];return Object(s.a)((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(n,{handlerIds:[t]})}),[e,n]),r}function l(e,t,o){var a=o.getRegistry(),r=a.addTarget(e,t);return[r,function(){return a.removeTarget(r)}]}function f(e,t,o){var a=o.getRegistry(),r=a.addSource(e,t);return[r,function(){return a.removeSource(r)}]}var y=o(10);function d(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var v=!1,h=!1,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,o,a;return t=e,(o=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Object(c.a)(!v,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return v=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{v=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Object(c.a)(!h,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return h=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{h=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&d(t.prototype,o),a&&d(t,a),e}();function g(e,t){"function"==typeof e?e(t):e.current=t}function k(e,t){var o=e.ref;return Object(c.a)("string"!=typeof o,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),o?Object(n.cloneElement)(e,{ref:function(e){g(o,e),g(t,e)}}):Object(n.cloneElement)(e,{ref:t})}function $(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function w(e){var t={};return Object.keys(e).forEach((function(o){var a=e[o];if(o.endsWith("Ref"))t[o]=e[o];else{var r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(n.isValidElement)(t)){var a=t;return e(a,o),a}var r=t;$(r);var i=o?function(t){return e(t,o)}:e;return k(r,i)}}(a);t[o]=function(){return r}}})),t}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return null!==e&&"object"===x(e)&&e.hasOwnProperty("current")}var _=o(3);function O(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var j=function(){function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=w({dragSource:function(e,t){o.clearDragSource(),o.dragSourceOptions=t||null,C(e)?o.dragSourceRef=e:o.dragSourceNode=e,o.reconnectDragSource()},dragPreview:function(e,t){o.clearDragPreview(),o.dragPreviewOptions=t||null,C(e)?o.dragPreviewRef=e:o.dragPreviewNode=e,o.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,o,a;return t=e,(o=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Object(_.a)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Object(_.a)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&O(t.prototype,o),a&&O(t,a),e}();function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function M(e){var t=Object(n.useRef)(e);t.current=e,Object(c.a)(null!=e.item,"item must be defined"),Object(c.a)(null!=e.item.type,"item type must be defined");var o,a=E((o=Object(y.a)(),[Object(n.useMemo)((function(){return new b(o)}),[o]),Object(n.useMemo)((function(){return new j(o.getBackend())}),[o])]),2),r=a[0],i=a[1];!function(e,t,o){var a=Object(y.a)(),r=Object(n.useMemo)((function(){return{beginDrag:function(){var o=e.current,a=o.begin,r=o.item;if(a){var n=a(t);return Object(c.a)(null==n||"object"===T(n),"dragSpec.begin() must either return an object, undefined, or null"),n||r||{}}return r||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(o,a){var r=e.current.isDragging;return r?r(t):a===o.getSourceId()},endDrag:function(){var a=e.current.end;a&&a(t.getItem(),t),o.reconnect()}}}),[]);Object(s.a)((function(){var n=S(f(e.current.item.type,r,a),2),i=n[0],c=n[1];return t.receiveHandlerId(i),o.receiveHandlerId(i),c}),[])}(t,r,i);var m=u(r,t.current.collect||function(){return{}},(function(){return i.reconnect()})),p=Object(n.useMemo)((function(){return i.hooks.dragSource()}),[i]),l=Object(n.useMemo)((function(){return i.hooks.dragPreview()}),[i]);return Object(s.a)((function(){i.dragSourceOptions=t.current.options||null,i.reconnect()}),[i]),Object(s.a)((function(){i.dragPreviewOptions=t.current.previewOptions||null,i.reconnect()}),[i]),[m,p,l]}function D(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var P=function(){function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=w({dropTarget:function(e,t){o.clearDropTarget(),o.dropTargetOptions=t,C(e)?o.dropTargetRef=e:o.dropTargetNode=e,o.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,o,a;return t=e,(o=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Object(_.a)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&D(t.prototype,o),a&&D(t,a),e}();function I(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var N=!1,R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,o,a;return t=e,(o=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Object(c.a)(!N,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return N=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{N=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&I(t.prototype,o),a&&I(t,a),e}();function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e){var t=Object(n.useRef)(e);t.current=e,Object(c.a)(null!=e.accept,"accept must be defined");var o,a=q((o=Object(y.a)(),[Object(n.useMemo)((function(){return new R(o)}),[o]),Object(n.useMemo)((function(){return new P(o.getBackend())}),[o])]),2),r=a[0],i=a[1];!function(e,t,o){var a=Object(y.a)(),r=Object(n.useMemo)((function(){return{canDrop:function(){var o=e.current.canDrop;return!o||o(t.getItem(),t)},hover:function(){var o=e.current.hover;o&&o(t.getItem(),t)},drop:function(){var o=e.current.drop;if(o)return o(t.getItem(),t)}}}),[t]);Object(s.a)((function(){var n=A(l(e.current.accept,r,a),2),i=n[0],c=n[1];return t.receiveHandlerId(i),o.receiveHandlerId(i),c}),[t,o])}(t,r,i);var m=u(r,t.current.collect||function(){return{}},(function(){return i.reconnect()})),p=Object(n.useMemo)((function(){return i.hooks.dropTarget()}),[i]);return Object(s.a)((function(){i.dropTargetOptions=e.options||null,i.reconnect()}),[e.options]),[m,p]}var L=o(29);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e){return"function"==typeof e}function B(){}function K(e){if(!function(e){return"object"===Y(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function H(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function F(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}var J=o(18),U=o.n(J);function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t,o){return t&&G(e.prototype,t),o&&G(e,o),e}var Q=function(){function e(t){W(this,e),this.isDisposed=!1,this.action=X(t)?t:B}return V(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return e&&X(e.dispose)}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();Q.empty={dispose:B};var Z=function(){function e(){W(this,e),this.isDisposed=!1;for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];this.disposables=o}return V(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var o=this.disposables.indexOf(e);-1!==o&&(t=!0,this.disposables.splice(o,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),o=0;o<e;o++)t[o]=this.disposables[o];this.disposables=[];for(var a=0;a<e;a++)t[a].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),o=0;o<e;o++)t[o]=this.disposables[o];this.disposables=[];for(var a=0;a<e;a++)t[a].dispose()}}}]),e}(),ee=function(){function e(){W(this,e),this.isDisposed=!1}return V(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var o=this.current;this.current=e,o&&o.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ae(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function re(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=e.DecoratedComponent,o=e.createHandler,r=e.createMonitor,i=e.createConnector,s=e.registerHandler,m=e.containerDisplayName,p=e.getType,u=e.collect,l=e.options.arePropsEqual,f=void 0===l?_.a:l,y=t,d=t.displayName||t.name||"Component",v=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=re(this,ne(t).call(this,e))).decoratedRef=n.createRef(),o.handleChange=function(){var e=o.getCurrentState();Object(_.a)(e,o.state)||o.setState(e)},o.disposable=new ee,o.receiveProps(e),o.dispose(),o}var m,l,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),m=t,(l=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return Object(c.a)(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!f(e,this.props)||!Object(_.a)(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new ee,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){f(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(p(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=oe(s(e,this.handler,this.manager),2),o=t[0],a=t[1];this.handlerId=o,this.handlerMonitor.receiveHandlerId(o),this.handlerConnector.receiveHandlerId(o);var r=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[o]});this.disposable.setDisposable(new Z(new Q(r),new Q(a)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?u(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return n.createElement(a.a.Consumer,null,(function(t){var o=t.dragDropManager;return e.receiveDragDropManager(o),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),n.createElement(y,Object.assign({},e.props,e.getCurrentState(),{ref:F(y)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(Object(c.a)(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",d,d),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=i(e.getBackend()),this.handler=o(this.handlerMonitor,this.decoratedRef)))}}])&&ae(m.prototype,l),v&&ae(m,v),t}(n.Component);return v.DecoratedComponent=t,v.displayName="".concat(m,"(").concat(d,")"),U()(v,t)}function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return"string"==typeof e||"symbol"===se(e)||!!t&&Array.isArray(e)&&e.every((function(e){return me(e,!1)}))}function pe(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ue=["canDrag","beginDrag","isDragging","endDrag"],le=["beginDrag"],fe=function(){function e(t,o,a){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(r.props)return r.spec.beginDrag(r.props,r.monitor,r.ref.current)},this.spec=t,this.monitor=o,this.ref=a}var t,o,a;return t=e,(o=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,H(this.ref))}}])&&pe(t.prototype,o),a&&pe(t,a),e}();function ye(e){return Object.keys(e).forEach((function(t){Object(c.a)(ue.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',ue.join(", "),t),Object(c.a)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),le.forEach((function(t){Object(c.a)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,o){return new fe(e,t,o)}}function de(e,t,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;"function"!=typeof e&&(Object(c.a)(me(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),r=function(){return e}),Object(c.a)(K(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var n=ye(t);return Object(c.a)("function"==typeof o,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o),Object(c.a)(K(a),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o),function(e){return ce({containerDisplayName:"DragSource",createHandler:n,registerHandler:f,createConnector:function(e){return new j(e)},createMonitor:function(e){return new b(e)},DecoratedComponent:e,getType:r,collect:o,options:a})}}function ve(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var he=["canDrop","hover","drop"],be=function(){function e(t,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=o,this.ref=a}var t,o,a;return t=e,(o=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,H(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&ve(t.prototype,o),a&&ve(t,a),e}();function ge(e){return Object.keys(e).forEach((function(t){Object(c.a)(he.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',he.join(", "),t),Object(c.a)("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,o){return new be(e,t,o)}}function ke(e,t,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;"function"!=typeof e&&(Object(c.a)(me(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),r=function(){return e}),Object(c.a)(K(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var n=ge(t);return Object(c.a)("function"==typeof o,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o),Object(c.a)(K(a),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o),function(e){return ce({containerDisplayName:"DropTarget",createHandler:n,registerHandler:l,createMonitor:function(e){return new R(e)},createConnector:function(e){return new P(e)},DecoratedComponent:e,getType:r,collect:o,options:a})}}function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ce(e,t,o){return t&&xe(e.prototype,t),o&&xe(e,o),e}function _e(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(c.a)("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),Object(c.a)(K(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(o){var r=o,i=t.arePropsEqual,s=void 0===i?_.a:i,m=r.displayName||r.name||"Component",p=function(t){function o(){var e;return we(this,o),(e=_e(this,Oe(o).apply(this,arguments))).isCurrentlyMounted=!1,e.ref=n.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();Object(_.a)(t,e.state)||e.setState(t)}},e}return je(o,t),Ce(o,[{key:"getDecoratedComponentInstance",value:function(){return Object(c.a)(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!s(e,this.props)||!Object(_.a)(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return n.createElement(a.a.Consumer,null,(function(t){var o=t.dragDropManager;return void 0===o?null:(e.receiveDragDropManager(o),e.isCurrentlyMounted?n.createElement(r,Object.assign({},e.props,e.state,{ref:F(r)?e.ref:null})):null)}))}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,Object(c.a)("object"===$e(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",m,m);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}]),o}(n.Component);return p.displayName="DragLayer(".concat(m,")"),p.DecoratedComponent=o,U()(p,o)}}},function(e,t,o){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var a,r,n=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),o(15);var s,m=c(o(6)),p=o(2),u=o(9),l=o(12),f=o(15),y=o(25);!function(e){e[e.BLACK=0]="BLACK",e[e.WHITE=1]="WHITE",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(s=t.Direction||(t.Direction={}));var d=["KomaSuggest","Nifu","Capture","Promotion","CaptureControl","TebanRotation","Destination"],v=["Judge","MoveControl","MoveFilter","MoveEffect"],h=function(){function e(e,t,o,a,n){var i,c,s,m;void 0===a&&(a={}),void 0===n&&(n={}),this.parent=o,this.x=e,this.y=t,this.arrayBan=[];for(var p=1;p<=e;p++)this.arrayBan[p]=[];this.strategy={};try{for(var u=r(d),l=u.next();!l.done;l=u.next()){var f=l.value;this.strategy[f]=y.generateStrategy(f,a[f],this)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}try{for(var h=r(v),b=h.next();!b.done;b=h.next()){var g=b.value;this.strategy[g]=y.generateStrategyContainer(g,a[g],this)}}catch(e){s={error:e}}finally{try{b&&!b.done&&(m=h.return)&&m.call(h)}finally{if(s)throw s.error}}var k="Normal",$=[];if(n.BanScan)for(var w in n.BanScan){k=w,$=n.BanScan[w];break}this.banScanIterator={name:k,option:$}}return e.prototype.__toString=function(){for(var e="",t=1;t<=this.y;t++){for(var o=this.x;o>=1;o--)e+=this.get(new m.default(o,t));e+="\n"}return e},e.prototype.deserialize=function(e){var t,o,a,n;try{for(var i=r(d),c=i.next();!c.done;c=i.next()){var s=c.value;this.strategy[s].deserialize(e)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}try{for(var m=r(v),p=m.next();!p.done;p=m.next()){var u=p.value;this.strategy[u].deserialize(e)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(n=m.return)&&n.call(m)}finally{if(a)throw a.error}}},e.prototype.serialize=function(){var e,t,o,a,n={};try{for(var i=r(d),c=i.next();!c.done;c=i.next()){var s=c.value;n=this.strategy[s].serialize(n)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}try{for(var m=r(v),p=m.next();!p.done;p=m.next()){var u=p.value;n=this.strategy[u].serialize(n)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}return n},e.prototype.komaSuggest=function(e){return this.strategy.KomaSuggest.execute(e)},e.prototype.moveFilter=function(e,t,o,a,r){return this.strategy.MoveFilter.execute(e,t,o,a,r)},e.prototype.getIterator=function(){return new f.NormalBanIterator(this.arrayBan,[this.x,this.y])},e.prototype.getScanIterator=function(e,t,o){return void 0===o&&(o={}),f.BanScanIterator.create(this.banScanIterator.name,this,e,t,a(a({},o),{iterator:this.banScanIterator.option}))},e.prototype.createKoma=function(e,t,o){return void 0===e&&(e=null),t?new(l.Koma.getClass(l.Koma.getStatelessData(t,"class")))(t,o,e,this):this.createNullKoma(e)},e.prototype.createNullKoma=function(e){return void 0===e&&(e=null),new l.Koma(null,null,e,this)},e.prototype.getDifference=function(e,t,o){void 0===o&&(o=null);for(var a,r,n=this.getArray(),c=[],s=1;s<=this.x;s++)for(var m=1;m<=this.y;m++){var p=e[s][m],u=n[s][m];if(!(0==p.length&&0==u.length||p[0]==u[0]&&p[1]==u[1])){var l=[s,m,p,u];s==t.x&&m==t.y?r=l:null!==o&&s==o.x&&m==o.y?a=l:c.push(l)}}if(!r){var f=n[t.x][t.y];r=[t.x,t.y,f,f]}if(!a&&null!==o){f=n[o.x][o.y];a=[o.x,o.y,f,f]}return null!=a&&c.unshift(a),i([r],c)},e.prototype.makePostfix=function(e,t){var o,a,n=this.get(e).species,i=this.get(e).direction,c=this.arrayKikiKoma(t,n,i);if(0==c.length)return"";var s=new m.RelXY(t.x-e.x,t.y-e.y);s.turnReverse(i);var p,u,l,f,y,d,v,h,b="",g="";try{for(var k=r(c),$=k.next();!$.done;$=k.next()){var w=$.value;if(!w.XY.equals(e)){var x=new m.RelXY(t.x-w.XY.x,t.y-w.XY.y);x.turnReverse(i),x.x>0&&(p=1),x.x<0&&(u=1),0==x.x&&(l=1),x.y>0&&(f=1),x.y<0&&(y=1),0==x.y&&(d=1)}}}catch(e){o={error:e}}finally{try{$&&!$.done&&(a=k.return)&&a.call(k)}finally{if(o)throw o.error}}return 0==s.x?((p||u)&&(b="直"),l||(v=1)):s.x<0?((p||l)&&(b="左"),u||(v=1)):((u||l)&&(b="右"),p||(v=1)),0==s.y?((f||y)&&(g="寄"),d||(h=1)):s.y>0?((y||d)&&(g="引"),f||(h=1)):((f||d)&&(g="上"),y||(h=1)),1==h?g:1==v?b:b+g},e.prototype.reset=function(){this.arrayBan=[]},e.prototype.update=function(e){for(var t=1;t<=this.x;t++)for(var o=1;o<=this.y;o++){var a=e[t-1][o-1];0==a.length?this.add(new m.default(t,o),null,null):this.add(new m.default(t,o),a[1],a[0])}},e.prototype.updateByJSON=function(e){for(var t=1;t<=this.x;t++)for(var o=1;o<=this.y;o++){var a=new m.default(t,o);0==e[t-1][o-1].length?this.add(a,null,null):this.add(a,e[t-1][o-1][1],e[t-1][o-1][0])}},e.prototype.calcDan=function(e,t){switch(t){case s.BLACK:return e.y;case s.WHITE:return this.y-e.y+1;case s.LEFT:return e.x;case s.RIGHT:return this.x-e.x+1}throw new p.Exception("illegal direction at calcDan")},e.prototype.add=function(e,t,o){this.arrayBan[e.x][e.y]=this.createKoma(e,t,o)},e.prototype.remove=function(e){this.arrayBan[e.x][e.y]=this.createNullKoma(e)},e.prototype.getSpecies=function(e){return this.get(e).species},e.prototype.getDirection=function(e){return this.get(e).direction},e.prototype.copy=function(e,t){if(this.exists(t)){var o=this.get(t);this.arrayBan[e.x][e.y]=this.createKoma(e,o.species,o.direction)}else this.remove(e)},e.prototype.move=function(e,t){this.set(e,this.cut(t))},e.prototype.setSpecies=function(e,t){this.ensureExists(e),this.get(e).species=t},e.prototype.setDirection=function(e,t){this.ensureExists(e),this.get(e).direction=t},e.prototype.get=function(e){return this.ensureLegal(e),this.arrayBan[e.x][e.y]},e.prototype.cut=function(e){var t=this.get(e);return this.remove(e),t},e.prototype.take=function(e){var t=this.get(e);if(t.isNull())throw new p.Exception("{XY}: 駒がありません。",1);return this.remove(e),t},e.prototype.set=function(e,t){this.ensureLegal(e),t.setXY(e),this.arrayBan[e.x][e.y]=t},e.prototype.setAdd=function(e,t,o){this.ensureLegal(e),this.arrayBan[e.x][e.y]=this.createKoma(e,t,o)},e.prototype.equals=function(e,t,o){if(!this.exists(e))return!1;var a=this.get(e);return(!t||a.species==t)&&!(o&&a.direction!=o)},e.prototype.exists=function(e){return this.ensureLegal(e),!this.get(e).isNull()},e.prototype.ensureExists=function(e){if(!this.exists(e))throw new p.Exception("{XY}に駒が存在しません。")},e.prototype.ensureNotExists=function(e){if(this.exists(e))throw new p.Exception("{XY}には駒が存在します。")},e.prototype.getArray=function(){for(var e=[],t=1;t<=this.x;t++){e[t]=[];for(var o=1;o<=this.y;o++){var a=this.arrayBan[t][o];e[t][o]=a.isNull()?[]:[a.direction,a.species]}}return e},e.prototype.count=function(){var e,t,o=[];try{for(var a=r(this.getIterator()),n=a.next();!n.done;n=a.next()){var i=n.value;i.isNull()||(o[i.direction]||(o[i.direction]=0),o[i.direction]++)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o},e.prototype.countSpecies=function(){var e,t,o=[];try{for(var a=r(this.getIterator()),n=a.next();!n.done;n=a.next()){var i=n.value;i.isNull()||(o[i.direction]||(o[i.direction]={}),o[i.direction][i.species]||(o[i.direction][i.species]=0),o[i.direction][i.species]++)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o},e.prototype.arrayKikiKoma=function(e,t,o){var a,n,i=[];try{for(var c=r(this.get(e).getMovableVirtual(t,u.Teban.reverse(o),{directionCalcingAllowed:o})),s=c.next();!s.done;s=c.next()){var m=s.value;this.getSpecies(m.XY)==t&&this.getDirection(m.XY)==o&&i.push(m)}}catch(e){a={error:e}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return i},e.prototype.mapKiki=function(e){var t,o,a,n,i={};try{for(var c=r(this.getIterator()),s=c.next();!s.done;s=c.next()){var m=s.value;if(!m.isNull())try{for(var p=(a=void 0,r(m.getMovable())),u=p.next();!u.done;u=p.next()){var l=u.value;i[m.direction==e?"friend":"enemy"]||(i[m.direction==e?"friend":"enemy"]=[]),i[m.direction==e?"friend":"enemy"][l.XY.x]||(i[m.direction==e?"friend":"enemy"][l.XY.x]=[]),i[m.direction==e?"friend":"enemy"][l.XY.x][l.XY.y]||(i[m.direction==e?"friend":"enemy"][l.XY.x][l.XY.y]=[]),i[m.direction==e?"friend":"enemy"][l.XY.x][l.XY.y].push(m.XY)}}catch(e){a={error:e}}finally{try{u&&!u.done&&(n=p.return)&&n.call(p)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}return i},e.prototype.existsMovable=function(e,t,o){var a,n,i,c;void 0===o&&(o={});try{for(var s=r(this.getIterator()),m=s.next();!m.done;m=s.next()){var p=m.value;if(!p.isNull()&&(!o.igai&&p.direction==t||o.igai&&p.direction!=t))try{for(var u=(i=void 0,r(p.getMovable({ignoreOu:!1}))),l=u.next();!l.done;l=u.next()){if(l.value.XY.equals(e))return!0}}catch(e){i={error:e}}finally{try{l&&!l.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}}}catch(e){a={error:e}}finally{try{m&&!m.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return!1},e.prototype.arrayKikiInSpeDir=function(e,t,o,a,n){var i,c,s=[];try{for(var m=r(this.getIterator()),p=m.next();!p.done;p=m.next()){var u=p.value;u.isNull()||(!a&&u.direction!=o||a&&u.direction==o||""!=e&&(!t&&u.species!=e||t&&u.species==e)||(s=s.concat(u.getMovable())))}}catch(e){i={error:e}}finally{try{p&&!p.done&&(c=m.return)&&c.call(m)}finally{if(i)throw i.error}}return s},e.prototype.checkOute=function(){var e,t,o,a,n=[];try{for(var i=r(this.getIterator()),c=i.next();!c.done;c=i.next()){var s=c.value;if(!s.isNull())try{for(var m=(o=void 0,r(s.getMovable())),p=m.next();!p.done;p=m.next()){var u=p.value,l=this.get(u.XY);l.isNull()||l.isFriend(s)||this.parent.rule.winkoma.indexOf(l.species)>=0&&(n[l.direction]=!0)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},e.prototype.checkOuteByDirection=function(e){var t,o,a,n;if(!this.parent.rule.winkoma)return!1;try{for(var i=r(this.getIterator()),c=i.next();!c.done;c=i.next()){var s=c.value;if(!s.isNull()&&s.direction!=e)try{for(var m=(a=void 0,r(s.getMovable())),p=m.next();!p.done;p=m.next()){var u=p.value,l=this.get(u.XY);if(!l.isNull()&&l.direction==e&&this.parent.rule.winkoma.indexOf(l.species)>=0)return!0}}catch(e){a={error:e}}finally{try{p&&!p.done&&(n=m.return)&&n.call(m)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return!1},e.prototype.getNipped=function(e,t,o){if(!this.isLegal(e))return[];if(void 0===o){var a=this.get(e);if(a.isNull())return[];o=a.direction}for(var r=e.clone(),n=[];;){if(r.addRel(t),!this.isLegal(r)||!this.exists(r))return[];if(this.get(r).direction==o)return n;n.push(r.clone())}},e.prototype.getNipped4=function(e){var t,o,a=[];try{for(var n=r(m.RelXY.getVector(m.RelativeType.TATEYOKO)),i=n.next();!i.done;i=n.next()){var c=i.value;a=a.concat(this.getNipped(e,c))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return a},e.prototype.getNipped8=function(e){var t,o,a=[];try{for(var n=r(m.RelXY.getVector(m.RelativeType.ALLROUND)),i=n.next();!i.done;i=n.next()){var c=i.value;a=a.concat(this.getNipped(e,c))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}return a},e.prototype.getInitPlace=function(e,t){for(var o=this.parent.rule.init.ban,a=[],r=1;r<=this.x;r++)for(var n=1;n<=this.y;n++){var i=o[r-1][n-1];0!=i.length&&(i[0]==e&&i[1]==t&&a.push(new m.default(r,n)))}return a},e.prototype.getNearestInitPlace=function(e,t,o){var a,n,i=null,c=null;try{for(var s=r(this.getInitPlace(e,t)),m=s.next();!m.done;m=s.next()){var p=m.value,u=o.getDistance(p);null===i||u<c?(i=[p],c=u):u===c&&(i.push(p),c=u)}}catch(e){a={error:e}}finally{try{m&&!m.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i},e.prototype.getSurroundedBySpace=function(e,t){var o,a,n,i;void 0===t&&(t=[]);try{for(var c=r(t),s=c.next();!s.done;s=c.next()){if((f=s.value).equals(e))return t}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}t.push(e);try{for(var p=r(m.RelXY.getVector(m.RelativeType.TATEYOKO)),u=p.next();!u.done;u=p.next()){var l=u.value,f=e.getCloneRel(l);if(!this.isLegal(f))return[];if(this.exists(f)&&0==(t=this.getSurroundedBySpace(f,t)).length)return[]}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return t},e.prototype.getSurroundedByEnemy=function(e,t){var o,a,n,i;void 0===t&&(t=[]);try{for(var c=r(t),s=c.next();!s.done;s=c.next()){if((f=s.value).equals(e))return t}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}t.push(e);try{for(var p=r(m.RelXY.getVector(m.RelativeType.TATEYOKO)),u=p.next();!u.done;u=p.next()){var l=u.value,f=e.getCloneRel(l);if(this.isLegal(f)){if(!this.exists(f))return[];if(this.getDirection(f)==this.getDirection(e)&&0==(t=this.getSurroundedByEnemy(f,t)).length)return[]}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return t},e.prototype.canOthello=function(e){var t,o,a,n,i,c,s=[];s=void 0===e?this.parent.teban.getIterator():[e];try{for(var p=r(this.getIterator()),u=p.next();!u.done;u=p.next()){var l=u.value;if(l.isNull())try{for(var f=(a=void 0,r(m.RelXY.getVector(m.RelativeType.ALLROUND))),y=f.next();!y.done;y=f.next()){var d=y.value;try{for(var v=(i=void 0,r(s)),h=v.next();!h.done;h=v.next()){var b=h.value;if(this.getNipped(l.XY,d,b).length>0)return!0}}catch(e){i={error:e}}finally{try{h&&!h.done&&(c=v.return)&&c.call(v)}finally{if(i)throw i.error}}}}catch(e){a={error:e}}finally{try{y&&!y.done&&(n=f.return)&&n.call(f)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(o=p.return)&&o.call(p)}finally{if(t)throw t.error}}return!1},e.prototype.getTenbined=function(e){var t,o,a,n,i=[],c=this.get(e);try{e:for(var s=r(m.RelXY.getVector(m.RelativeType.HALFROUND)),p=s.next();!p.done;p=s.next()){var u=p.value,l=[];try{for(var f=(a=void 0,r([u,u.getCloneFlipped()])),y=f.next();!y.done;y=f.next())for(var d=y.value,v=e.getCloneRel(d);;){if(!this.isLegal(v)||!this.exists(v))continue e;if(this.get(v).isEnemy(c)){l.push(v.getClone());break}v.addRel(d)}}catch(e){a={error:e}}finally{try{y&&!y.done&&(n=f.return)&&n.call(f)}finally{if(a)throw a.error}}i=i.concat(l)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(o=s.return)&&o.call(s)}finally{if(t)throw t.error}}return i},e.prototype.getHashiotoshied=function(e){var t,o,a=[],n=this.get(e);try{for(var i=r(m.RelXY.getVector(m.RelativeType.TATEYOKO)),c=i.next();!c.done;c=i.next())for(var s=c.value,p=[],u=e.getClone();;){if(u.addRel(s),!this.isLegal(u)){a=a.concat(p);break}if(p.push(u.getClone()),!this.exists(u)||!this.get(u).isEnemy(n))break}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return a},e.prototype.getEpoxied=function(e,t){var o,a,n,i;void 0===t&&(t=[]);try{for(var c=r(t),s=c.next();!s.done;s=c.next()){if((f=s.value).equals(e))return t}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}t.push(e);try{for(var p=r(m.RelXY.getVector(m.RelativeType.TATEYOKO)),u=p.next();!u.done;u=p.next()){var l=u.value,f=e.getCloneRel(l);this.isLegal(f)&&this.exists(f)&&(this.getDirection(f)!==this.getDirection(e)&&(t=this.getEpoxied(f,t)))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return t},e.prototype.isLegal=function(e){return e.x>0&&e.x<=this.x&&e.y>0&&e.y<=this.y},e.prototype.ensureLegal=function(e){if(!this.isLegal(e))throw new p.Exception(e.toString()+": 盤外です。",1)},e}();t.default=h},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),c=function(){function e(e,t){this.position=[1,1],this.arrayBan=null,this.size=[0,0],this.arrayBan=e,this.size=t}return e.prototype.key=function(){return this.position.join(",")},e.prototype.next=function(){if(!this.valid())return{done:!0,value:void 0};var e=this.arrayBan[this.position[0]][this.position[1]];return this.nextPlace(),{done:!1,value:e}},e.prototype.nextPlace=function(){++this.position[1]>this.size[1]&&(this.position[0]++,this.position[1]=1)},e.prototype.valid=function(){return this.position[0]<=this.size[0]&&this.position[1]<=this.size[1]},e.prototype[Symbol.iterator]=function(){return this},e}();t.BanIterator=c;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(c);t.NormalBanIterator=s;var m=function(){function e(e,t,o,a){if(void 0===a&&(a={}),this.size=[0,0],this.ban=e,this.size=[e.x,e.y],this.initPosition=t.getClone(),this.vector=o,0==this.vector.x&&0==this.vector.y)throw new i.Exception("探索ベクトルが零ベクトルです。");this.limit=a.limit||-1,this.limitJump=a.limitJump||0,this.jumpExceptions=a.jumpException||[],this.noPick=a.noPick,this.justStart=a.justStart,this.skip=a.skip||0,this.skipJump=a.skipJump||0,this.mustPick=a.mustPick||!1,this.iteratorOption=a.iterator,this.position=this.initPosition.getClone(),this.justStart||this.nextPlace(),this.cnt=this.cntJump=0;for(var r=0;r<this.skip;r++)this.nextPlace();for(var n=0;n<this.skipJump;){if(!this.ban.isLegal(this.position))return;this.ban.get(this.position).isNull()||n++,this.nextPlace()}}return e.getBetween=function(t,o,a){var r=a.getCloneRel(o,-1),n=r.unify()-1;return 0==n?[]:new e(t,o,r,{limit:n,limitJump:1e3})},e.prototype.next=function(){if(!this.valid())return{done:!0,value:void 0};var e=this.position.getClone();return this.count(),this.nextPlace(),{done:!1,value:e}},e.prototype.count=function(){this.ban.exists(this.position)&&9!=this.ban.get(this.position).direction&&this.cntJump++,this.cnt++},e.prototype.nextPlace=function(){this.position.addRel(this.vector)},e.prototype.valid=function(){return this.ban.isLegal(this.position)&&this.underJumpLimit()&&(!this.noPick||this.ban.get(this.position).isNull())&&this.underLimit()&&this.jumpException()&&!this.position.equals(this.initPosition)},e.prototype.underLimit=function(){return-1==this.limit||this.cnt<this.limit},e.prototype.underJumpLimit=function(){return-1==this.limitJump||this.cntJump<=this.limitJump},e.prototype.jumpException=function(){var e=this.ban.get(this.position);return e.isNull()||-1==this.jumpExceptions.indexOf(e.species)},e.prototype[Symbol.iterator]=function(){return this},e.create=function(e,t,o,a,r){return void 0===r&&(r={}),new(0,l[e])(t,o,a,r)},e}();t.BanScanIterator=m;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(m),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.nextPlace=function(){this.position.addRel(this.vector),this.iteratorOption.only&&-1==this.iteratorOption.only.indexOf(this.ban.get(this.initPosition).species)||(this.position.x<=0?this.position.add(this.size[0],0):this.size[0]<this.position.x&&this.position.add(-this.size[0],0))},t}(m),l={Normal:p,Loop:u,Donut:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.nextPlace=function(){this.position.addRel(this.vector),this.position.x<=0?this.position.add(this.size[0],0):this.position.x>this.size[0]&&this.position.add(-this.size[0],0),this.position.y<=0?this.position.add(0,this.size[1]):this.position.y>this.size[1]&&this.position.add(0,-this.size[1])},t}(u),Reflect:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.nextPlace=function(){this.position.addRel(this.vector),this.position.x<=0?(this.vector.x*=-1,this.position.x=2-this.position.x):this.position.x>this.size[0]&&(this.vector.x*=-1,this.position.x=2*this.size[0]-this.position.x),this.position.y<=0?(this.vector.y*=-1,this.position.y=2-this.position.y):this.position.y>this.size[1]&&(this.vector.y*=-1,this.position.y=2*this.size[1]-this.position.y)},t}(m),Diamond:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.valid=function(){return this.ban.isLegal(this.position)&&(1==this.cnt&&1==this.cntJump||0==this.cntJump&&this.underLimit())&&!this.position.equals(this.initPosition)},t}(m),Epoxy:function(e){function t(t,o,a,r){void 0===r&&(r={});var n=e.call(this,t,o,a,r)||this;return n.myPiece=n.ban.getEpoxied(o),n}return r(t,e),t.prototype.count=function(){var e,t;if(this.cnt++,this.ban.exists(this.position)&&9!=this.ban.get(this.position).direction){try{for(var o=n(this.myPiece),a=o.next();!a.done;a=o.next()){if(a.value.equals(this.position))return}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this.cntJump++}},t}(m)}},function(e,t,o){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(o(0));t.RuleContext=r.default.createContext(null),t.ZoomContext=r.default.createContext("lg"),t.ReverseContext=r.default.createContext(!1),t.ConfigContext=r.default.createContext({publicPath:""})},function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var a=o(3),r=o(0),n=o(5);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t,o){var c=i(Object(r.useState)((function(){return t(e)})),2),s=c[0],m=c[1],p=Object(r.useCallback)((function(){var r=t(e);Object(a.a)(s,r)||(m(r),o&&o())}),[s,e,o]);return Object(n.a)(p,[]),[s,p]}},function(e,t,o){"use strict";var a=o(59),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return a.isMemo(e)?i:c[e.$$typeof]||r}c[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[a.Memo]=i;var m=Object.defineProperty,p=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,o,a){if("string"!=typeof o){if(y){var r=f(o);r&&r!==y&&e(t,r,a)}var i=p(o);u&&(i=i.concat(u(o)));for(var c=s(t),d=s(o),v=0;v<i.length;++v){var h=i[v];if(!(n[h]||a&&a[h]||d&&d[h]||c&&c[h])){var b=l(o,h);try{m(t,h,b)}catch(e){}}}}return t}},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o},n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(o(0)),c=o(13),s=o(30),m=o(21),p=o(16),u=o(22),l=o(9);t.PiecePreview=function(){var e=u.usePreview(),t=e.display,o=(e.itemType,e.item),a=e.style;return t&&i.default.createElement(f,{direction:o.direction,species:o.species,style:a})},t.NullPiece=function(e){return i.default.createElement(f,a({},e))};var f=i.default.forwardRef((function(e,t){var o=e.direction,n=e.species,c=r(e,["direction","species"]),s=i.useContext(p.ZoomContext),u=i.useContext(p.ReverseContext),f=i.useContext(p.ConfigContext).publicPath;c.style||(c.style={}),c.style=a(a({},c.style),{width:m.zoomToPieceSizeX[s]+"px",height:m.zoomToPieceSizeY[s]+"px",verticalAlign:"middle"});var y="___";return n&&void 0!==o&&(y=(u?l.Teban.reverse(o):o)+n),i.default.createElement("img",a({src:f+"/img/koma/"+y+".png"},c,{ref:t}))}));t.default=function(e){var t=e.species,o=e.direction,r=e.onClick,n=e.onDrag,m=e.onClear,p=e.position,u=c.useDrag({item:{type:s.ItemTypes.PIECE_ON_BOARD,species:t,direction:o},begin:function(e){return n(p)},end:function(e,t){t&&!t.didDrop()&&m()},collect:function(e){return{isDragging:e.isDragging()}}}),l=u[0].isDragging,y=u[1];return i.default.createElement(f,a({},{direction:o,species:t},{onClick:function(){return r(p)},ref:y,style:{opacity:l?0:1}}))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.zoomToPieceSizeX={lg:43,md:33,sm:33},t.zoomToPieceSizeY={lg:48,md:37,sm:37},t.lgBreakPoint=15*(t.zoomToPieceSizeX.lg+1)+1+12,t.mdBreakPoint=15*(t.zoomToPieceSizeX.md+1)+1+12,t.minWidth=function(e,o){return"sm"==o?e*(t.zoomToPieceSizeX[o]+1)+1:(e+6)*(t.zoomToPieceSizeX[o]+1)+1},t.maxWidth=function(e,o){return(e+10)*(t.zoomToPieceSizeX[o]+1)+1},t.boardHeight=function(e,o){return e*(t.zoomToPieceSizeY[o]+1)+1+("sm"==o?2*t.zoomToPieceSizeY[o]*2:0)}},function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return f})),o.d(t,"HTML5DragTransition",(function(){return n})),o.d(t,"TouchTransition",(function(){return r})),o.d(t,"MouseTransition",(function(){return i})),o.d(t,"createTransition",(function(){return a})),o.d(t,"DndProvider",(function(){return $})),o.d(t,"Preview",(function(){return I})),o.d(t,"PreviewContext",(function(){return O})),o.d(t,"usePreview",(function(){return N}));var a=function(e,t){return{_isMBTransition:!0,event:e,check:t}},r=a("touchstart",(function(e){return null!=e.touches})),n=a("dragstart",(function(e){return!!e.type&&(-1!==e.type.indexOf("drag")||-1!==e.type.indexOf("drop"))})),i=a("mousedown",(function(e){return!!e.type&&(-1===e.type.indexOf("touch")&&-1!==e.type.indexOf("mouse"))}));function c(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return s(e,t)}(e))){var t=0,o=function(){};return{s:o,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r,n=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==a.return||a.return()}finally{if(i)throw r}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}var m=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){t.previews.push(e)},this.unregister=function(e){for(var o;-1!==(o=t.previews.indexOf(e));)t.previews.splice(o,1)},this.backendChanged=function(e){var o,a=c(t.previews);try{for(a.s();!(o=a.n()).done;){o.value.backendChanged(e)}}catch(e){a.e(e)}finally{a.f()}},this.previews=[]};function p(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}var l=function e(t,o,a){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setup=function(){if("undefined"!=typeof window){if(r.constructor.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");r.constructor.isSetUp=!0,r.addEventListeners(window),r.backends[r.current].instance.setup()}},this.teardown=function(){"undefined"!=typeof window&&(r.constructor.isSetUp=!1,r.removeEventListeners(window),r.backends[r.current].instance.teardown())},this.connectDragSource=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r.connectBackend("connectDragSource",t)},this.connectDragPreview=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r.connectBackend("connectDragPreview",t)},this.connectDropTarget=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r.connectBackend("connectDropTarget",t)},this.previewEnabled=function(){return r.backends[r.current].preview},this.addEventListeners=function(e){r.backends.forEach((function(t){t.transition&&e.addEventListener(t.transition.event,r.backendSwitcher,!0)}))},this.removeEventListeners=function(e){r.backends.forEach((function(t){t.transition&&e.removeEventListener(t.transition.event,r.backendSwitcher,!0)}))},this.backendSwitcher=function(e){var t=r.current,o=0;if(r.backends.some((function(t){return o!==r.current&&t.transition&&t.transition.check(e)?(r.current=o,!0):(o+=1,!1)})),r.current!==t){r.backends[t].instance.teardown(),Object.keys(r.nodes).forEach((function(e){var t=r.nodes[e];t.handler(),t.handler=r.callBackend(t.func,t.args)})),r.previews.backendChanged(r);var a=r.backends[r.current];if(a.instance.setup(),a.skipDispatchOnTransition)return;var n=null;try{n=new e.constructor(e.type,e)}catch(t){(n=document.createEvent("Event")).initEvent(e.type,e.bubbles,e.cancelable)}e.target.dispatchEvent(n)}},this.callBackend=function(e,t){var o;return(o=r.backends[r.current].instance)[e].apply(o,p(t))},this.connectBackend=function(e,t){var o="".concat(e,"_").concat(t[0]),a=r.callBackend(e,t);return r.nodes[o]={func:e,args:t,handler:a},function(){var e,t=(e=r.nodes[o]).handler.apply(e,arguments);return delete r.nodes[o],t}};var n=Object.assign({backends:[]},a||{});if(n.backends.length<1)throw new Error("You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx");this.current=0,this.previews=new m,this.backends=[],n.backends.forEach((function(e){if(!e.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(e));var a=e.transition;if(a&&!a._isMBTransition)throw new Error("You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: ".concat(e));r.backends.push({instance:e.backend(t,o,e.options),preview:e.preview||!1,transition:a,skipDispatchOnTransition:Boolean(e.skipDispatchOnTransition)})})),this.nodes={}},f=function(e,t,o){return new l(e,t,o)},y=o(0),d=o.n(y),v=o(7),h=o.n(v),b=o(28);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(this,arguments)}var k=d.a.createContext(null),$=function(e){var t=Object(y.useRef)();return d.a.createElement(k.Provider,{value:t.current},d.a.createElement(b.a,g({backend:f},e)),d.a.createElement("div",{ref:t}))};$.propTypes={manager:h.a.any,context:h.a.any,options:h.a.any,debugMode:h.a.bool};var w=o(34),x=o.n(w),C=o(29),_=function(){var e,t,o=Object(C.a)((function(e){return{currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging(),itemType:e.getItemType(),item:e.getItem()}}));return o.isDragging&&null!==o.currentOffset?{display:!0,itemType:o.itemType,item:o.item,style:(e=o.currentOffset,t="translate(".concat(e.x,"px, ").concat(e.y,"px)"),{pointerEvents:"none",position:"fixed",top:0,left:0,transform:t,WebkitTransform:t})}:{display:!1}},O=d.a.createContext();function j(e,t){if(null==e)return{};var o,a,r=function(e,t){if(null==e)return{};var o,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var S=function(e){var t,o=_(),a=o.display,r=j(o,["display"]);return a?(t=e.children&&"function"==typeof e.children?e.children(r):e.children?e.children:e.generator(r),d.a.createElement(O.Provider,{value:r},t)):null};S.propTypes={generator:h.a.func,children:h.a.oneOfType([h.a.node,h.a.func])};var T=S,E=o(11);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=new Array(t);o<t;o++)a[o]=e[o];return a}var P=function(){var e=M(Object(y.useState)(!1),2),t=e[0],o=e[1],a=Object(y.useContext)(E.a);return Object(y.useEffect)((function(){var e=a.dragDropManager.getBackend(),t={backendChanged:function(e){o(e.previewEnabled())}};return o(e.previewEnabled()),e.previews.register(t),function(){e.previews.unregister(t)}}),[a,o]),t},I=function(e){var t=P(),o=Object(y.useContext)(k);if(!t)return null;var a=d.a.createElement(T,e);return o?x.a.createPortal(a,o):a};I.Context=O,I.propTypes=T.propTypes;var N=function(){var e=P(),t=_();return e?t:{display:!1}}},function(e,t,o){"use strict";(function(e,a){var r,n=o(33);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:a;var i=Object(n.a)(r);t.a=i}).call(this,o(19),o(58)(e))},function(e,t,o){"use strict";(function(e){function a(e){n.length||(r(),!0),n[n.length]=e}o.d(t,"a",(function(){return a}));var r,n=[],i=0;function c(){for(;i<n.length;){var e=i;if(i+=1,n[e].call(),i>1024){for(var t=0,o=n.length-i;t<o;t++)n[t]=n[t+i];n.length-=i,i=0}}n.length=0,i=0,!1}var s,m,p,u=void 0!==e?e:self,l=u.MutationObserver||u.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(a,0),o=setInterval(a,50);function a(){clearTimeout(t),clearInterval(o),e()}}}"function"==typeof l?(s=1,m=new l(c),p=document.createTextNode(""),m.observe(p,{characterData:!0}),r=function(){s=-s,p.data=s}):r=f(c),a.requestFlush=r,a.makeRequestCallFromTimer=f}).call(this,o(19))},function(e,t,o){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(38),c=o(41),s=r(o(42)),m=r(o(43)),p=r(o(44)),u=n(o(45)),l=n(o(46)),f=n(o(47)),y=n(o(48)),d=r(o(49)),v=r(o(50)),h=r(o(51)),b=n(o(52)),g={CaptureControl:i.CaptureControlStrategy,Capture:m.default,Destination:p.default,KomaSuggest:s.default,Nifu:d.default,Promotion:v.default,TebanRotation:h.default,MochigomaIO:c.MochigomaIOStrategy,MochigomaControl:b.default,MoveControl:l.default,MoveEffect:f.default,MoveFilter:y.default,Judge:u.default};t.generateStrategy=function(e,t,o){var a,r={};if(t)if("string"!=typeof t)for(var n in t){a=n,r=t[n];break}else a=t;else a="Normal";var i=g[e].create(a,o,r);return i.setCommonSetting(r.common),i};var k={MochigomaIO:c.MochigomaIOStrategyContainer,MochigomaControl:b.MochigomaControlStrategyContainer,MoveControl:l.MoveControlStrategyContainer,MoveEffect:f.MoveEffectStrategyContainer,MoveFilter:y.MoveFilterStrategyContainer,Judge:u.JudgeStrategyContainer};t.generateStrategyContainer=function(e,o,r){var n,i=k[e],c=a(a({},i.defaultSetting),o),s=new i(o,r),m=!1;for(var p in c)m=!0,s.add(t.generateStrategy(e,((n={})[p]=c[p],n),r));return m||s.add(t.generateStrategy(e,null,r)),s.ban=r,s}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.num2kan_decimal=function(e){for(var t={0:"",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",".":"．","-":"－"},o={0:"",1:"十",2:"百",3:"千"},a={0:"",1:"万",2:"億",3:"兆",4:"京"},r="",n=(e=e.toString()).length,i=Math.floor(n/4),c=0;c<=i;c++){for(var s="",m=0;m<4;m++){var p=n-4*c-m-1;if(p>=0){var u=t[e.substr(p,1)]||"",l=o[m]||"";""!=u&&(s="一"==u&&""!=l?l+s:u+l+s)}}""!=s&&(r=s+a[c]+r)}return r}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.map={}}return e.prototype.ensureIndex=function(e){},e.prototype.insert=function(e){this.map[this.getKey(e)]=e},e.prototype.get=function(e){return this.map[e]},e}(),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getKey=function(e){return e.species},t}(n),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getKey=function(e){return e._id},t}(n),s=new i,m=new c;t.db={getCollection:function(e){switch(e){case"koma":return s;case"rule":return m}throw"unknown coll"}},t.ObjectId=function(e){return e}},function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return s}));var a=o(0),r=o(11);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){if(null==e)return{};var o,a,r=function(e,t){if(null==e)return{};var o,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var c=0,s=Object(a.memo)((function(e){var t=e.children,o=n(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=t;n[m]||(n[m]=Object(r.b)(e,t,o,a));return n[m]}(e.backend,e.context,e.options,e.debugMode),o=!e.context;return[t,o]}(i(e,["children"])),2),s=o[0],u=o[1];return a.useEffect((function(){return u&&c++,function(){u&&(0===--c&&(p()[m]=null))}}),[]),a.createElement(r.a.Provider,{value:s},t)}));s.displayName="DndProvider";var m=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function p(){return void 0!==e?e:window}}).call(this,o(19))},function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var a=o(0),r=o(10),n=o(17);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e){var t=Object(r.a)().getMonitor(),o=i(Object(n.a)(t,e),2),c=o[0],s=o[1];return Object(a.useEffect)((function(){return t.subscribeToOffsetChange(s)})),Object(a.useEffect)((function(){return t.subscribeToStateChange(s)})),c}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItemTypes={PIECE_ON_BOARD:"piece-on-board"}},function(e,t,o){"use strict";o.r(t),o.d(t,"css",(function(){return O})),o.d(t,"CacheProvider",(function(){return T})),o.d(t,"ClassNames",(function(){return Y})),o.d(t,"Global",(function(){return R})),o.d(t,"ThemeContext",(function(){return S})),o.d(t,"jsx",(function(){return N})),o.d(t,"keyframes",(function(){return q})),o.d(t,"withEmotionCache",(function(){return E}));var a=o(32),r=o.n(a),n=o(0);var i=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,o=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(o,t),this.tags.push(o)}var a=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(a);try{var n=105===e.charCodeAt(1)&&64===e.charCodeAt(0);r.insertRule(e,n?0:r.cssRules.length)}catch(e){0}}else a.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var c=function(e){function t(e,t,a){var r=t.trim().split(y);t=r;var n=r.length,i=e.length;switch(i){case 0:case 1:var c=0;for(e=0===i?"":e[0]+" ";c<n;++c)t[c]=o(e,t[c],a).trim();break;default:var s=c=0;for(t=[];c<n;++c)for(var m=0;m<i;++m)t[s++]=o(e[m]+" ",r[c],a).trim()}return t}function o(e,t,o){var a=t.charCodeAt(0);switch(33>a&&(a=(t=t.trim()).charCodeAt(0)),a){case 38:return t.replace(d,"$1"+e.trim());case 58:return e.trim()+t.replace(d,"$1"+e.trim());default:if(0<1*o&&0<t.indexOf("\f"))return t.replace(d,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function a(e,t,o,n){var i=e+";",c=2*t+3*o+4*n;if(944===c){e=i.indexOf(":",9)+1;var s=i.substring(e,i.length-1).trim();return s=i.substring(0,e).trim()+s+";",1===T||2===T&&r(s,1)?"-webkit-"+s+s:s}if(0===T||2===T&&!r(i,1))return i;switch(c){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(_,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(s=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+s+i;case 1005:return l.test(i)?i.replace(u,":-webkit-")+i.replace(u,":-moz-")+i:i;case 1e3:switch(t=(s=i.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=i.replace(g,"tb");break;case 232:s=i.replace(g,"tb-rl");break;case 220:s=i.replace(g,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+s+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,c=(s=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:i=i.replace(s,"-webkit-"+s)+";"+i;break;case 207:case 102:i=i.replace(s,"-webkit-"+(102<c?"inline-":"")+"box")+";"+i.replace(s,"-webkit-"+s)+";"+i.replace(s,"-ms-"+s+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return s=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+s+"-ms-flex-"+s+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(w,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(w,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),t,o,n).replace(":fill-available",":stretch"):i.replace(s,"-webkit-"+s)+i.replace(s,"-moz-"+s.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===o+n&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+i}return i}function r(e,t){var o=e.indexOf(1===t?":":"{"),a=e.substring(0,3!==t?o:10);return o=e.substring(o+1,e.length-1),P(2!==t?a:a.replace(x,"$1"),o,t)}function n(e,t){var o=a(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return o!==t+";"?o.replace($," or ($1)").substring(4):"("+t+")"}function i(e,t,o,a,r,n,i,c,m,p){for(var u,l=0,f=t;l<D;++l)switch(u=M[l].call(s,e,f,o,a,r,n,i,c,m,p)){case void 0:case!1:case!0:case null:break;default:f=u}if(f!==t)return f}function c(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!=typeof e?T=1:(T=2,P=e):T=0),c}function s(e,o){var c=e;if(33>c.charCodeAt(0)&&(c=c.trim()),c=[c],0<D){var s=i(-1,o,c,c,j,O,0,0,0,0);void 0!==s&&"string"==typeof s&&(o=s)}var u=function e(o,c,s,u,l){for(var f,y,d,g,$,w=0,x=0,C=0,_=0,M=0,P=0,N=d=f=0,R=0,A=0,q=0,z=0,L=s.length,Y=L-1,X="",B="",K="",H="";R<L;){if(y=s.charCodeAt(R),R===Y&&0!==x+_+C+w&&(0!==x&&(y=47===x?10:47),_=C=w=0,L++,Y++),0===x+_+C+w){if(R===Y&&(0<A&&(X=X.replace(p,"")),0<X.trim().length)){switch(y){case 32:case 9:case 59:case 13:case 10:break;default:X+=s.charAt(R)}y=59}switch(y){case 123:for(f=(X=X.trim()).charCodeAt(0),d=1,z=++R;R<L;){switch(y=s.charCodeAt(R)){case 123:d++;break;case 125:d--;break;case 47:switch(y=s.charCodeAt(R+1)){case 42:case 47:e:{for(N=R+1;N<Y;++N)switch(s.charCodeAt(N)){case 47:if(42===y&&42===s.charCodeAt(N-1)&&R+2!==N){R=N+1;break e}break;case 10:if(47===y){R=N+1;break e}}R=N}}break;case 91:y++;case 40:y++;case 34:case 39:for(;R++<Y&&s.charCodeAt(R)!==y;);}if(0===d)break;R++}switch(d=s.substring(z,R),0===f&&(f=(X=X.replace(m,"").trim()).charCodeAt(0)),f){case 64:switch(0<A&&(X=X.replace(p,"")),y=X.charCodeAt(1)){case 100:case 109:case 115:case 45:A=c;break;default:A=E}if(z=(d=e(c,A,d,y,l+1)).length,0<D&&($=i(3,d,A=t(E,X,q),c,j,O,z,y,l,u),X=A.join(""),void 0!==$&&0===(z=(d=$.trim()).length)&&(y=0,d="")),0<z)switch(y){case 115:X=X.replace(k,n);case 100:case 109:case 45:d=X+"{"+d+"}";break;case 107:d=(X=X.replace(v,"$1 $2"))+"{"+d+"}",d=1===T||2===T&&r("@"+d,3)?"@-webkit-"+d+"@"+d:"@"+d;break;default:d=X+d,112===u&&(B+=d,d="")}else d="";break;default:d=e(c,t(c,X,q),d,u,l+1)}K+=d,d=q=A=N=f=0,X="",y=s.charCodeAt(++R);break;case 125:case 59:if(1<(z=(X=(0<A?X.replace(p,""):X).trim()).length))switch(0===N&&(f=X.charCodeAt(0),45===f||96<f&&123>f)&&(z=(X=X.replace(" ",":")).length),0<D&&void 0!==($=i(1,X,c,o,j,O,B.length,u,l,u))&&0===(z=(X=$.trim()).length)&&(X="\0\0"),f=X.charCodeAt(0),y=X.charCodeAt(1),f){case 0:break;case 64:if(105===y||99===y){H+=X+s.charAt(R);break}default:58!==X.charCodeAt(z-1)&&(B+=a(X,f,y,X.charCodeAt(2)))}q=A=N=f=0,X="",y=s.charCodeAt(++R)}}switch(y){case 13:case 10:47===x?x=0:0===1+f&&107!==u&&0<X.length&&(A=1,X+="\0"),0<D*I&&i(0,X,c,o,j,O,B.length,u,l,u),O=1,j++;break;case 59:case 125:if(0===x+_+C+w){O++;break}default:switch(O++,g=s.charAt(R),y){case 9:case 32:if(0===_+w+x)switch(M){case 44:case 58:case 9:case 32:g="";break;default:32!==y&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===_+x+w&&(A=q=1,g="\f"+g);break;case 108:if(0===_+x+w+S&&0<N)switch(R-N){case 2:112===M&&58===s.charCodeAt(R-3)&&(S=M);case 8:111===P&&(S=P)}break;case 58:0===_+x+w&&(N=R);break;case 44:0===x+C+_+w&&(A=1,g+="\r");break;case 34:case 39:0===x&&(_=_===y?0:0===_?y:_);break;case 91:0===_+x+C&&w++;break;case 93:0===_+x+C&&w--;break;case 41:0===_+x+w&&C--;break;case 40:if(0===_+x+w){if(0===f)switch(2*M+3*P){case 533:break;default:f=1}C++}break;case 64:0===x+C+_+w+N+d&&(d=1);break;case 42:case 47:if(!(0<_+w+C))switch(x){case 0:switch(2*y+3*s.charCodeAt(R+1)){case 235:x=47;break;case 220:z=R,x=42}break;case 42:47===y&&42===M&&z+2!==R&&(33===s.charCodeAt(z+2)&&(B+=s.substring(z,R+1)),g="",x=0)}}0===x&&(X+=g)}P=M,M=y,R++}if(0<(z=B.length)){if(A=c,0<D&&(void 0!==($=i(2,B,A,o,j,O,z,u,l,u))&&0===(B=$).length))return H+B+K;if(B=A.join(",")+"{"+B+"}",0!=T*S){switch(2!==T||r(B,2)||(S=0),S){case 111:B=B.replace(b,":-moz-$1")+B;break;case 112:B=B.replace(h,"::-webkit-input-$1")+B.replace(h,"::-moz-$1")+B.replace(h,":-ms-input-$1")+B}S=0}}return H+B+K}(E,c,o,0,0);return 0<D&&(void 0!==(s=i(-2,u,c,c,j,O,u.length,0,0,0))&&(u=s)),"",S=0,O=j=1,u}var m=/^\0+/g,p=/[\0\r\f]/g,u=/: */g,l=/zoo|gra/,f=/([,: ])(transform)/g,y=/,\r+?/g,d=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,h=/::(place)/g,b=/:(read-only)/g,g=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,$=/([\s\S]*?);/g,w=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,O=1,j=1,S=0,T=1,E=[],M=[],D=0,P=null,I=0;return s.use=function e(t){switch(t){case void 0:case null:D=M.length=0;break;default:if("function"==typeof t)M[D++]=t;else if("object"==typeof t)for(var o=0,a=t.length;o<a;++o)e(t[o]);else I=0|!!t}return e},s.set=c,void 0!==e&&c(e),s};function s(e){e&&m.current.insert(e+"}")}var m={current:null},p=function(e,t,o,a,r,n,i,c,p,u){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return m.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+"/*|*/";break;case 3:switch(c){case 102:case 112:return m.current.insert(o[0]+t),"";default:return t+(0===u?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(s)}},u=function(e){void 0===e&&(e={});var t,o=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var a=new c(t);var r,n={};r=e.container||document.head;var s,u=document.querySelectorAll("style[data-emotion-"+o+"]");Array.prototype.forEach.call(u,(function(e){e.getAttribute("data-emotion-"+o).split(" ").forEach((function(e){n[e]=!0})),e.parentNode!==r&&r.appendChild(e)})),a.use(e.stylisPlugins)(p),s=function(e,t,o,r){var n=t.name;m.current=o,a(e,t.styles),r&&(l.inserted[n]=!0)};var l={key:o,sheet:new i({key:o,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:n,registered:{},insert:s};return l};function l(e,t,o){var a="";return o.split(" ").forEach((function(o){void 0!==e[o]?t.push(e[o]):a+=o+" "})),a}var f=function(e,t,o){var a=e.key+"-"+t.name;if(!1===o&&void 0===e.registered[a]&&(e.registered[a]=t.styles),void 0===e.inserted[t.name]){var r=t;do{e.insert("."+a,r,e.sheet,!0);r=r.next}while(void 0!==r)}};var y=function(e){for(var t,o=0,a=0,r=e.length;r>=4;++a,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+(59797*(t>>>16)<<16),o=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&o)+(59797*(o>>>16)<<16);switch(r){case 3:o^=(255&e.charCodeAt(a+2))<<16;case 2:o^=(255&e.charCodeAt(a+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(a)))+(59797*(o>>>16)<<16)}return(((o=1540483477*(65535&(o^=o>>>13))+(59797*(o>>>16)<<16))^o>>>15)>>>0).toString(36)},d={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var v=/[A-Z]|^ms/g,h=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b=function(e){return 45===e.charCodeAt(1)},g=function(e){return null!=e&&"boolean"!=typeof e},k=function(e){var t={};return function(o){return void 0===t[o]&&(t[o]=e(o)),t[o]}}((function(e){return b(e)?e:e.replace(v,"-$&").toLowerCase()})),$=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(h,(function(e,t,o){return x={name:t,styles:o,next:x},t}))}return 1===d[e]||b(e)||"number"!=typeof t||0===t?t:t+"px"};function w(e,t,o,a){if(null==o)return"";if(void 0!==o.__emotion_styles)return o;switch(typeof o){case"boolean":return"";case"object":if(1===o.anim)return x={name:o.name,styles:o.styles,next:x},o.name;if(void 0!==o.styles){var r=o.next;if(void 0!==r)for(;void 0!==r;)x={name:r.name,styles:r.styles,next:x},r=r.next;return o.styles+";"}return function(e,t,o){var a="";if(Array.isArray(o))for(var r=0;r<o.length;r++)a+=w(e,t,o[r],!1);else for(var n in o){var i=o[n];if("object"!=typeof i)null!=t&&void 0!==t[i]?a+=n+"{"+t[i]+"}":g(i)&&(a+=k(n)+":"+$(n,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var c=w(e,t,i,!1);switch(n){case"animation":case"animationName":a+=k(n)+":"+c+";";break;default:a+=n+"{"+c+"}"}}else for(var s=0;s<i.length;s++)g(i[s])&&(a+=k(n)+":"+$(n,i[s])+";")}return a}(e,t,o);case"function":if(void 0!==e){var n=x,i=o(e);return x=n,w(e,t,i,a)}break;case"string":}if(null==t)return o;var c=t[o];return void 0===c||a?o:c}var x,C=/label:\s*([^\s;\n{]+)\s*;/g;var _=function(e,t,o){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,r="";x=void 0;var n=e[0];null==n||void 0===n.raw?(a=!1,r+=w(o,t,n,!1)):r+=n[0];for(var i=1;i<e.length;i++)r+=w(o,t,e[i],46===r.charCodeAt(r.length-1)),a&&(r+=n[i]);C.lastIndex=0;for(var c,s="";null!==(c=C.exec(r));)s+="-"+c[1];return{name:y(r)+s,styles:r,next:x}};var O=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return _(t)},j=Object(n.createContext)("undefined"!=typeof HTMLElement?u():null),S=Object(n.createContext)({}),T=j.Provider,E=function(e){return Object(n.forwardRef)((function(t,o){return Object(n.createElement)(j.Consumer,null,(function(a){return e(t,a,o)}))}))},M="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",D=Object.prototype.hasOwnProperty,P=function(e,t,o,a){var r=null===o?t.css:t.css(o);"string"==typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var i=t[M],c=[r],s="";"string"==typeof t.className?s=l(e.registered,c,t.className):null!=t.className&&(s=t.className+" ");var m=_(c);f(e,m,"string"==typeof i);s+=e.key+"-"+m.name;var p={};for(var u in t)D.call(t,u)&&"css"!==u&&u!==M&&(p[u]=t[u]);return p.ref=a,p.className=s,Object(n.createElement)(i,p)},I=E((function(e,t,o){return"function"==typeof e.css?Object(n.createElement)(S.Consumer,null,(function(a){return P(t,e,a,o)})):P(t,e,null,o)}));var N=function(e,t){var o=arguments;if(null==t||!D.call(t,"css"))return n.createElement.apply(void 0,o);var a=o.length,r=new Array(a);r[0]=I;var i={};for(var c in t)D.call(t,c)&&(i[c]=t[c]);i[M]=e,r[1]=i;for(var s=2;s<a;s++)r[s]=o[s];return n.createElement.apply(null,r)},R=E((function(e,t){var o=e.styles;if("function"==typeof o)return Object(n.createElement)(S.Consumer,null,(function(e){var a=_([o(e)]);return Object(n.createElement)(A,{serialized:a,cache:t})}));var a=_([o]);return Object(n.createElement)(A,{serialized:a,cache:t})})),A=function(e){function t(t,o,a){return e.call(this,t,o,a)||this}r()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.sheet=new i({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},o.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},o.insertStyles=function(){if(void 0!==this.props.serialized.next&&f(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},o.componentWillUnmount=function(){this.sheet.flush()},o.render=function(){return null},t}(n.Component),q=function(){var e=O.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},z=function e(t){for(var o=t.length,a=0,r="";a<o;a++){var n=t[a];if(null!=n){var i=void 0;switch(typeof n){case"boolean":break;case"object":if(Array.isArray(n))i=e(n);else for(var c in i="",n)n[c]&&c&&(i&&(i+=" "),i+=c);break;default:i=n}i&&(r&&(r+=" "),r+=i)}}return r};function L(e,t,o){var a=[],r=l(e,a,o);return a.length<2?o:r+t(a)}var Y=E((function(e,t){return Object(n.createElement)(S.Consumer,null,(function(o){var a=function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];var r=_(o,t.registered);return f(t,r,!1),t.key+"-"+r.name},r={css:a,cx:function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return L(t.registered,a,z(o))},theme:o},n=e.children(r);return!0,n}))}))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,o){"use strict";function a(e){var t,o=e.Symbol;return"function"==typeof o?o.observable?t=o.observable:(t=o("observable"),o.observable=t):t="@@observable",t}o.d(t,"a",(function(){return a}))},function(e,t){e.exports=require("react-dom")},function(e,t,o){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o},n=function(e){return e&&e.__esModule?e:{default:e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=n(o(36)),s=i(o(0)),m=n(o(55)),p=n(o(56)),u=n(o(63)),l=o(22),f=n(o(64)),y=o(21),d=n(o(67)),v=n(o(68)),h=o(20),b=n(o(70)),g=n(o(71)),k=n(o(72)),$=n(o(73));t.DndWrapper=function(e){var t=e.children;return s.default.createElement(l.DndProvider,{options:f.default},t)},t.ShogitterWithoutDnDWrapper=function(e){var t,o,n,i,l,f,w=e.data,x=e.onCommand,C=e.config,_=s.useState(!1),O=_[0],j=_[1],S=s.useState((function(){return new c.default(w)})),T=S[0],E=S[1],M=s.useMemo((function(){return new Audio((null==C?void 0:C.publicPath)+"/piece-effect.mp3")}),[]),D=s.useCallback((function(){try{M.play()}catch(e){}}),[C]),P=s.useCallback((function(e){if(O)alert("Not synchronized with server. Please wait for a while or refresh the page.");else if(x(e),null==C?void 0:C.allowSpeculative)try{T.runCommand(e),j(!0),D()}catch(e){E(new c.default(w))}}),[T,w,O]),I=d.default(T,P),N=I.moving,R=I.activeCells,A=I.onDrag,q=I.onDrop,z=I.onClear,L=I.onCellClick,Y=I.onHandClick,X=$.default(T,P),B=X.rollback,K=X.resign,H=X.initialize;s.useEffect((function(){O||D(),E(new c.default(w)),j(!1)}),[w]);var F=g.default(null==C?void 0:C.initialReverse),J=F[0],U=F[1],W=v.default(),G=T.kifu.getXYByTesuu(T.kifu.getTesuu()-1),V=O?T.getObject():w,Q=V.ban,Z=V.players,ee=V.kifu,te=r(V,["ban","players","kifu"]);return s.default.createElement(b.default,{zoom:W,rule:T.rule,reverse:J,config:C||{publicPath:""}},s.default.createElement(h.PiecePreview,null),s.default.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"0 auto"}},s.default.createElement(k.default,{shogitter:T,reverse:U,rollback:B,resign:K,initialize:H}),s.default.createElement("div",{style:{overflowX:"auto",height:y.boardHeight(T.rule.size[1],W)+"px"}},s.default.createElement("div",{style:{display:"flex",height:y.boardHeight(T.rule.size[1],W)+"px",flexDirection:"sm"==W?"column":"row",minWidth:y.minWidth(T.rule.size[0],W),maxWidth:y.maxWidth(T.rule.size[0],W),margin:"0 auto"}},s.default.createElement("div",{style:(t={display:"flex",flexDirection:"sm"==W?"row":"column",flexGrow:1},t["sm"==W?"height":"width"]=0,t)},s.default.createElement("div",{style:(o={flex:"1 1 0px"},o["sm"==W?"width":"height"]=0,o)},s.default.createElement(u.default,a({data:Z[J?0:1],direction:J?0:1,turnDirection:T.teban.getNowDirection()},{onDrag:A,onDrop:q,onClear:z},{onClick:Y,moving:N}))),s.default.createElement("div",{style:(n={flex:"1 1 0px"},n["sm"==W?"width":"height"]=0,n)},s.default.createElement(m.default,{data:ee}))),s.default.createElement(p.default,a({board:Q,onClick:L,activeCells:R,moving:N},{onDrag:A,onDrop:q,onClear:z},{previousMove:G})),s.default.createElement("div",{style:(i={display:"flex",flexDirection:"sm"==W?"row":"column",flexGrow:1},i["sm"==W?"height":"width"]=0,i)},s.default.createElement("div",{style:(l={flex:"1 1 0px"},l["sm"==W?"width":"height"]=0,l.overflowY="scroll",l)},s.default.createElement("pre",null,JSON.stringify(te,null,2))),s.default.createElement("div",{style:(f={flex:"1 1 0px"},f["sm"==W?"width":"height"]=0,f)},s.default.createElement(u.default,a({data:Z[J?1:0],direction:J?1:0,turnDirection:T.teban.getNowDirection()},{onDrag:A,onDrop:q,onClear:z},{onClick:Y,moving:N}))))))))},t.Shogitter=function(e){return s.default.createElement(t.DndWrapper,null,s.default.createElement(t.ShogitterWithoutDnDWrapper,a({},e)))},t.default=t.Shogitter},function(e,t,o){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var a,r,n=o.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),o(4);var s,m,p=o(2),u=o(37),l=o(9),f=c(o(14)),y=c(o(6)),d=o(12),v=c(o(53)),h=o(15),b=o(8),g=o(54);!function(e){e[e.FORMAT_UNKNOWN=-1]="FORMAT_UNKNOWN",e[e.FORMAT_RULEID=0]="FORMAT_RULEID",e[e.FORMAT_JSON=1]="FORMAT_JSON",e[e.FORMAT_KIF=2]="FORMAT_KIF",e[e.FORMAT_KI2=3]="FORMAT_KI2",e[e.FORMAT_CSA=4]="FORMAT_CSA",e[e.FORMAT_XML=5]="FORMAT_XML",e[e.FORMAT_OBJECT=100]="FORMAT_OBJECT"}(s||(s={})),function(e){e[e.INITIAL=0]="INITIAL",e[e.PLAYING=1]="PLAYING",e[e.ENDED=2]="ENDED"}(m||(m={}));var k=function(){function e(e,t){if(void 0===t&&(t=s.FORMAT_UNKNOWN),this.status={num:m.INITIAL},"number"!=typeof e)if("object"!=typeof e)if(t!=s.FORMAT_UNKNOWN)switch(t){case s.FORMAT_RULEID:this.constructById(e);break;case s.FORMAT_JSON:this.constructByJSON(JSON.parse(e));break;default:throw new p.Exception("不明なフォーマット")}else try{this.constructByJSON(JSON.parse(e))}catch(e){throw new p.Exception("不明なフォーマット")}else this.constructByJSON(e);else this.constructById(e)}return e.getFormatByFileName=function(e){var t=e.split(".");switch(t[t.length-1].toLowerCase()){case"json":return s.FORMAT_JSON;case"kif":return s.FORMAT_KIF;case"ki2":return s.FORMAT_KI2;case"csa":return s.FORMAT_CSA;case"xml":return s.FORMAT_XML;default:return s.FORMAT_UNKNOWN}},e.prototype.clone=function(){return new e(this.getObject())},e.prototype.shufflePlayers=function(){this.teban.shufflePlayers()},e.prototype.isReady=function(){return this.status.num==m.INITIAL},e.prototype.init=function(){if(this.isPlaying())throw new p.Exception("対局中は初期化できません");this.status={num:m.INITIAL},this.date={}},e.prototype.start=function(){if(!this.isReady())throw new p.Exception("初期化されておらず、開始できません。");this.status={num:m.PLAYING}},e.prototype.isPlaying=function(){return this.status.num==m.PLAYING},e.prototype.isEnded=function(){return this.status.num==m.ENDED},e.prototype.getRuleName=function(){return this.rule.name},e.prototype.getPromoted=function(e,t){for(var o in this.rule.nari){var a=this.rule.nari[o];if((t==d.PromotionMode.FRONT||t==d.PromotionMode.FLIP)&&e==a)return o;if((t==d.PromotionMode.BACK||t==d.PromotionMode.FLIP)&&e==o)return null===a?o:a}return e},e.prototype.constructById=function(e){this.rule=b.shogitterDB.getRule(e),this.ruleid=e,this.kifu=new v.default(this),this.mochigoma=new u.Mochigoma(this),this.init(),this.teban=new l.Teban(0,this.rule.players,this),this.teban.setFlags({komaochi:this.rule.komaochi}),this.ban=new f.default(this.rule.size[0],this.rule.size[1],this,this.rule.strategy||{},this.rule.iterator||{}),this.mochigoma.setStrategy(this.rule.strategy||{}),this.ban.update(this.rule.init.ban),this.mochigoma.update(this.rule.init.mochigoma),this.kifu.clear(),this.arrayplayers=["player 1","player 2"]},e.prototype.constructByJSON=function(e){var t,o,a,r;this.constructById(e.ruleid),this.status=e.status,this.date={start:new Date(null===(t=e.date)||void 0===t?void 0:t.start),end:new Date(null===(o=e.date)||void 0===o?void 0:o.end)},this.teban.setMaxTurn(e.players[0].user.length),this.teban.set(e.teban),this.teban.setTurn(e.turn),this.jsonsystem=e.system,this.ban.deserialize((null===(r=null===(a=e.kifu)||void 0===a?void 0:a[e.kifu.length-1])||void 0===r?void 0:r.data)||{}),this.ban.updateByJSON(e.ban),this.mochigoma.updateByJSON(e.players),this.setMoving(e.moving),this.teban.setArrayPlayerInfo(e.players),this.kifu.updateByJSON(e.kifu)},e.prototype.setMoving=function(e){if(!e)return null;var t=new y.default(e.xy[0],e.xy[1]);this.ban.ensureExists(t);var o=this.ban.get(t);o.status=e.status,this.moving=o},e.prototype.resign=function(e){if(!this.isPlaying())throw new p.Exception("対局中ではありません．");var t;t=void 0!==e?e:this.teban.getNowDirection(),this.gameEnd(t,t,"投了",this.teban.getName(t)+"が投了しました。"),this.gameEndFinalize(),this.teban.rotate()},e.prototype.rollback=function(e){var t,o;if(!this.isPlaying())throw new p.Exception("対局中でないので操作できません。");var a=this.kifu.getTesuu();if(a<=0)throw new p.Exception("初期局面なので待った出来ません。");for(var n,i=1;i<=e;){var c=this.kifu.get(a-i);if("_"===(n=c[0]))e++;else try{for(var s=(t=void 0,r(this.kifu.getDataByKifu(c))),m=s.next();!m.done;m=s.next()){var u=m.value;u.value?this.mochigoma.add(u.species,u.direction,-1*u.value):null===u.before.direction?this.ban.remove(u.XY):this.ban.add(u.XY,u.before.species,u.before.direction)}}catch(e){t={error:e}}finally{try{m&&!m.done&&(o=s.return)&&o.call(s)}finally{if(t)throw t.error}}this.kifu.remove(),i++,this.kifu.getLastMoving()&&e++,this.moving=null}this.teban.set(n)},e.prototype.gameEnd=function(e,t,o,a){if(this.end)throw new p.Exception("複数の終了条件にひっかかりました");this.end={status:a,kifu:["_"+e,l.Teban.getMark(t)+o]}},e.prototype.gameEndFinalize=function(){var e,t;if(this.end){this.status={num:2,message:this.end.status},this.kifu.add(this.end.kifu[0],this.end.kifu[1]);var o=this.end.kifu[0][1];try{for(var a=r(this.teban.getIterator()),n=a.next();!n.done;n=a.next()){var i=n.value;this.teban.setResultToPlayer(i,i==o?l.Result.LOSE:l.Result.WIN)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.end=null}},e.prototype.ensureNoMoving=function(e){if(void 0===e&&(e=null),this.moving&&(null===e||!this.moving.XY.equals(e)))throw new p.Exception("移動中の駒をもう一度動かしてください。")},e.prototype.move=function(e,t,o,a){var n,i,c;if(void 0===o&&(o=!1),this.fromDirection=c=this.ban.get(e).direction,void 0!==a&&c!==a)throw new p.Exception("It's not your turn");this.teban.ensureDirection(c),this.lastBan=this.ban.getArray(),this.lastMochigoma=this.mochigoma.getArray();var s=this.ban.get(e).ensureMovable(t);this.ensureNoMoving(e),this.ban.strategy.Destination.executeBefore(e,t);var m={mark:this.teban.getNowMark(),name:this.ban.get(e).getShortName(),postfix:this.ban.makePostfix(e,t),naripostfix:""};this.ban.strategy.MoveControl.executeBefore(e),this.ban.strategy.MoveEffect.executeBefore(e),this.ban.strategy.CaptureControl.execute(this.ban.get(t),this.ban.get(e));var u=this.ban.take(e),l=this.ban.strategy.Capture.execute(t,c);if(s.indexOf(100)>=0)try{for(var f=r(h.BanScanIterator.getBetween(this.ban,e,t)),d=f.next();!d.done;d=f.next()){var v=d.value;this.ban.get(v).isNull()||this.ban.strategy.Capture.execute(y.default,c)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}this.ban.set(t,u),u.changeStatus(s,l),m.naripostfix=this.ban.strategy.Promotion.execute(t,e,l,o)||"",this.ban.strategy.MoveEffect.executeAfter(t,l),this.ban.strategy.MoveControl.executeAfter(t),this.ban.strategy.Nifu.execute(t),this.ban.strategy.Judge.execute(t);var b=this.kifu.getXYByTesuu(this.kifu.getTesuu()-1);this.kifu.add(this.makeKifu(t,e),""+m.mark+(b&&t.equals(b.to)?"同":t.getFormat())+m.name+m.postfix+m.naripostfix,{hash:!0}),this.ban.strategy.TebanRotation.execute(this.moving,this.ban.strategy.Promotion.flag,l,t,e),this.gameEndFinalize()},e.prototype.put=function(e,t,o,a){this.fromDirection=o,this.teban.ensureDirection(o),this.lastBan=this.ban.getArray(),this.lastMochigoma=this.mochigoma.getArray(),this.ensureNoMoving(),this.ban.strategy.Destination.executeDrop(e,t,o);var r=this.makePutKifuString(e,t);this.mochigoma.strategy.MochigomaIO.executeOut(t,o),this.ban.ensureNotExists(e),this.ban.setAdd(e,t,o),this.ban.strategy.Promotion.executeLegal(e),this.ban.strategy.MoveEffect.executeDrop(e,a),this.ban.strategy.MoveControl.executeDrop(e),this.ban.strategy.Nifu.execute(e),this.ban.strategy.Judge.execute(e,!0),this.kifu.add(this.makeKifu(e,null),r,{hash:!0}),this.teban.rotate(),this.gameEndFinalize()},e.prototype.shouldAskPromotion=function(e,t){var o=this.ban.exists(e),a=this.ban.get(t).direction;return this.ban.strategy.Promotion.shouldAskPromotion(e,t,o,a)},e.prototype.runCommand=function(e){if("initialize"==e.type)return this.isEnded()||this.resign(),this.constructById(e.ruleId),void this.start();if(!this.isPlaying())throw new p.Exception("対局中ではありません．");switch(e.type){case"move":return this.move(new y.default(e.from[0],e.from[1]),new y.default(e.to[0],e.to[1]),e.nari);case"put":return this.put(new y.default(e.to[0],e.to[1]),e.put,e.direction,e.id);case"rollback":return this.rollback(1);case"resign":return this.resign(e.direction)}return!0},e.prototype.makeKifu=function(e,t){var o=i(this.ban.getDifference(this.lastBan,e,t),this.mochigoma.getDifference(this.lastMochigoma));return i([this.teban.get()],o)},e.prototype.makePutKifuString=function(e,t){var o,a,n=this.teban.getNowDirection(),i="";try{for(var c=r(this.ban.arrayKikiInSpeDir(t,!1,n,!1,!1)),s=c.next();!s.done;s=c.next()){if(s.value.XY.equals(e)){i="打";break}}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}var m=d.Koma.getStatelessData(t,"shortname")||d.Koma.getStatelessData(t,"name");return l.Teban.getMark(n)+e.getFormat()+m+i},e.prototype.pass=function(){if(null==this.moving){if(!this.ban.strategy.TebanRotation.canPass())throw new p.Exception("移動中の駒がありません。このボタンは多段階移動をする駒の移動を終了して手番を渡す時に使います。");this.kifu.unsetLastMoving(),this.teban.rotate()}else{if(this.ban.get(this.moving.XY).get("nopass"))throw new p.Exception("この駒で手番を渡すことはできません");this.kifu.unsetLastMoving(),this.moving=null,this.teban.rotate()}},e.prototype.getKyokumen=function(){return this.ban.__toString()+this.mochigoma.__toString()},e.prototype.getHash=function(){return g.javaHashCode(this.getKyokumen()).toString(16)},e.prototype.getObject=function(){var e,t,o;o=this.moving?{xy:this.moving.XY.getArray(),status:this.moving.status}:null;for(var n=[],i=1;i<=this.rule.size[0];i++){n.push([]);for(var c=1;c<=this.rule.size[1];c++){var s=this.ban.get(new y.default(i,c));s.isNull()?n[i-1][c-1]=[]:n[i-1][c-1]=[s.direction,s.species]}}var m=this.teban.getArrayPlayerInfo(),p=this.mochigoma.getArray(),u=[];try{for(var l=r(this.teban.getIterator()),f=l.next();!f.done;f=l.next()){var d=f.value;for(var v in u[d]=a(a({},m[d]),{mochigoma:{}})||{user:[{name:"",id:""}],mochigoma:{}},u[d].mochigoma={},p[d])u[d].mochigoma[v]=p[d][v]}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}var h=this.kifu.getArray(),b=this.jsonsystem;return{version:"0.0",status:this.status,ruleid:this.ruleid,teban:this.teban.get(),turn:this.teban.getTurn(),date:{},ban:n,moving:o,players:u,debug:"",system:b,kifu:h}},e.prototype.getJSONFormat=function(){return JSON.stringify(this.getObject())},e.prototype.getLoser=function(){var e=this.kifu.get(this.kifu.getTesuu()-1);if("_"!==e[0])throw new p.Exception("まだゲームは終了していません。");return e[1]},e.prototype.getEncodedXY=function(e,t){return 9*(e-1)+t-1},e.numerize=function(e){switch(e){case"１":case"一":return 1;case"２":case"二":return 2;case"３":case"三":return 3;case"４":case"四":return 4;case"５":case"五":return 5;case"６":case"六":return 6;case"７":case"七":return 7;case"８":case"八":return 8;case"９":case"九":return 9}throw new p.Exception("Not a Number: string")},e}();t.default=k},function(e,t,o){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(25);var c=["MochigomaIO","MochigomaControl"],s=function(){function e(e){this.parent=e,this.strategy={},this.arrayMochigoma=[];for(var t=0;t<this.parent.rule.players.length;t++)this.arrayMochigoma[t]={}}return e.prototype.__toString=function(){for(var e,t="",o=this.getArray(),a=this.parent.rule.players.length,r=0,n=0;n<a;n++)r=Math.max(r,this.parent.rule.players[n]);for(n=0;n<=r;n++){if(o[n])for(var i in o[n])t+=i+((e=o[n][i])>=10?""+e:"0"+e);t+="|"+this.parent.arrayplayers[n]+"\n"}return t},e.prototype.setStrategy=function(e){var t,o;try{for(var a=r(c),n=a.next();!n.done;n=a.next()){var s=n.value;this.strategy[s]=i.generateStrategyContainer(s,e[s],this.parent.ban)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}},e.prototype.getDifference=function(e){var t,o,a=[],n=this.getArray();try{for(var i=r(this.parent.teban.getIterator()),c=i.next();!c.done;c=i.next()){var s=c.value;for(var m in n[s]){var p=n[s][m];e[s][m]?e[s][m]!=p&&a.push([p-e[s][m],s,m]):a.push([p,s,m])}for(var m in e[s])n[s][m]||a.push([-e[s][m],s,m])}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return a},e.prototype.getArray=function(){return this.arrayMochigoma.map((function(e){return a({},e)}))},e.prototype.update=function(e){for(var t=0;t<e.length;t++)if("object"==typeof e[t]){var o=e[t];for(var a in o)this.add(a,t,o[a])}},e.prototype.updateByJSON=function(e){if(this.arrayMochigoma=[],0!=e.length)for(var t=0;t<e.length;t++){this.arrayMochigoma.push({});var o=e[t];if(0!=o.mochigoma.length)for(var a in o.mochigoma)this.add(a,t,o.mochigoma[a])}},e.prototype.add=function(e,t,o){void 0===o&&(o=1),o>=0?(this.arrayMochigoma[t][e]||(this.arrayMochigoma[t][e]=0),this.arrayMochigoma[t][e]+=o):this.remove(e,t,-1*o)},e.prototype.addKoma=function(e,t){void 0===t&&(t=1),this.add(e.species,e.direction,t)},e.prototype.remove=function(e,t,o){if(void 0===o&&(o=1),!this.arrayMochigoma[t][e]||this.arrayMochigoma[t][e]-o<0)throw new n.Exception("持ち駒 "+e+" が足りません: "+this.arrayMochigoma[t][e]+" < "+o);this.arrayMochigoma[t][e]-o==0?delete this.arrayMochigoma[t][e]:this.arrayMochigoma[t][e]-=o},e.prototype.count=function(e){var t=0;for(var o in this.arrayMochigoma[e])t+=this.arrayMochigoma[e][o];return t},e.prototype.exists=function(e,t){return this.arrayMochigoma[t][e]>0},e}();t.Mochigoma=s},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(o(4)),s=o(2),m=o(9),p=o(8),u=function(e){function t(t,o){var a=e.call(this)||this;return a.abstract="駒取り",a.setting=o,a.ban=t,a}return r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract},t.create=function(e,t,o){return new(0,l[e])(t,o)},t}(c.default);t.CaptureControlStrategy=u;var l={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){if(!e.isNull()&&e.isFriend(t))throw new s.Exception("味方の駒を取る事はできません。")},t.strategyVariant="Normal",t}(u),Nakamaware:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="味方の駒も取る事ができる",t}return r(t,e),t.prototype.execute=function(e,t){},t.prototype.toHTML=function(){return this.abstract},t.strategyVariant="Nakamaware",t}(u),Toruichi:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="取れる駒は必ず取らなくてはならない",t}return r(t,e),t.prototype.execute=function(e,t){if(e.isNull()&&!this.ban.checkOuteByDirection(t.direction)&&this.isCapturable(t.direction))throw new s.Exception("取る一手将棋なので取れる駒を取ってください。")},t.prototype.isCapturable=function(e){var t,o,a,r,i,c,s,m,p={};try{for(var u=n(this.ban.getIterator()),l=u.next();!l.done;l=u.next()){if(!(g=l.value).isNull()&&g.direction==e){var f=this.ban.parent.rule.winkoma.indexOf(g.species)>=0;try{for(var y=(a=void 0,n(g.getMovable())),d=y.next();!d.done;d=y.next()){var v=d.value;if(!(w=this.ban.get(v.XY)).isNull()&&w.direction!=e){if(!f)return!0;p[v.XY.getHash()]=!0}}}catch(e){a={error:e}}finally{try{d&&!d.done&&(r=y.return)&&r.call(y)}finally{if(a)throw a.error}}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}}try{for(var h=n(this.ban.getIterator()),b=h.next();!b.done;b=h.next()){var g;if(!(g=b.value).isNull()&&g.direction!=e)try{for(var k=(s=void 0,n(g.getMovable())),$=k.next();!$.done;$=k.next()){var w;v=$.value;(w=this.ban.get(v.XY)).isNull()||w.direction==e||delete p[v.XY.getHash()]}}catch(e){s={error:e}}finally{try{$&&!$.done&&(m=k.return)&&m.call(k)}finally{if(s)throw s.error}}}}catch(e){i={error:e}}finally{try{b&&!b.done&&(c=h.return)&&c.call(h)}finally{if(i)throw i.error}}for(var x in p)return!0;return!1},t.prototype.toHTML=function(){return this.abstract},t.strategyVariant="Toruichi",t}(u),Torazu:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="取れない駒",t}return r(t,e),t.prototype.execute=function(e,t){var o,a;if(!e.isNull())try{for(var r=n(this.setting),i=r.next();!i.done;i=r.next()){var c=i.value;if(!(null!==c[0]&&e.direction!=c[0]||null!==c[1]&&e.species!=c[1]))throw new s.Exception("その駒を取ることは出来ません。")}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.toHTML=function(){var e,t,o=" ";try{for(var a=n(this.setting),r=a.next();!r.done;r=a.next()){var i=r.value;null!==i[0]&&(o+=m.Teban.tebanName[0][i[0]]+"の"),null===i[1]?o+="駒":o+="<a href='/koma/{komaset[1]}'>"+p.shogitterDB.getKoma(i[1],"name")+"</a> "}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o+="を取ることができない"},t.strategyVariant="Torazu",t}(u),Shishi:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="獅子取りの特例",t}return r(t,e),t.prototype.execute=function(e,t){if(this.isShishi(e.species))if(this.isShishi(t.species)){if(this.ban.parent.moving){var o=(n=this.ban.parent.clone()).ban.parent.kifu.getXYByTesuu(n.kifu.getTesuu()-1);if(n.rollback(1),!n.ban.exists(o.to)||!this.canTsukegui(n.ban.getSpecies(o.to))){a=t.XY,r=this.ban.cut(a);throw this.ban.existsMovable(e.XY,t.direction,{igai:!0})?new s.Exception("２マス離れていて足がついた獅子を、獅子でとる事は出来ません。また、付け喰いに歩と仲人は使えません。"):new s.Exception("ok2")}}else if(2==Math.abs(t.XY.x-e.XY.x)||2==Math.abs(t.XY.y-e.XY.y)){var a=t.XY,r=this.ban.cut(a);throw this.ban.existsMovable(e.XY,r.direction,{igai:!0})?new s.Exception("２マス離れていて、足がついた獅子をとる事は出来ません。"):new s.Exception("獅子特例ok")}}else{var n,i=(n=this.ban.parent.kifu.getDataByTesuu(this.ban.parent.kifu.getTesuu()-1)).to.before.species,c=n.from.before.species;if(!this.isShishi(c)&&this.isShishi(i))throw new s.Exception("先獅子のため獅子を取る事はできません。")}},t.prototype.isShishi=function(e){return["bl","dh"].indexOf(e)},t.prototype.canTsukegui=function(e){return!["aa","cq"].indexOf(e)},t.prototype.toHTML=function(){return this.abstract},t.strategyVariant="Shishi",t}(u),Speed:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="連続して動かす場合は駒をとれない",t}return r(t,e),t.prototype.execute=function(e,t){if(!e.isNull()){var o=this.ban.parent.kifu,a=o.getTesuu();if(a>0)if(o.get(a-1)[0]==t.direction)throw new s.Exception("連続して動かす場合は駒をとれません．")}},t.prototype.toHTML=function(){return this.abstract},t.strategyVariant="Speed",t}(u)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(27),r=a.db,n=a.ObjectId,i=r.getCollection("koma");t.default=i,r.getCollection("koma").ensureIndex({_id:1},[]),r.getCollection("koma").ensureIndex({species:1},[]),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000000"),species:"aa",name:"歩兵",shortname:"歩",csaname:"FU",move:[{move:[0,-1],type:1}],nifu:2}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000001"),species:"ab",name:"香車",shortname:"香",csaname:"KY",move:[{move:[0,-1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000002"),species:"ac",name:"桂馬",shortname:"桂",csaname:"KE",move:[{move:[1,-2],type:1},{move:[-1,-2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000003"),species:"ad",name:"銀将",shortname:"銀",csaname:"GI",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000004"),species:"ae",name:"金将",shortname:"金",csaname:"KI",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000005"),species:"af",name:"角行",shortname:"角",csaname:"KA",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000006"),species:"ag",name:"飛車",shortname:"飛",csaname:"HI",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000007"),species:"ah",name:"王将",shortname:"玉",csaname:"OU",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000008"),species:"ai",name:"と金",shortname:"と",csaname:"TO",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000009"),species:"aj",name:"成香",csaname:"NY",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f00000a"),species:"ak",name:"成桂",csaname:"NK",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f00000b"),species:"al",name:"成銀",csaname:"NG",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f00000c"),species:"am",name:"竜馬",shortname:"馬",csaname:"UM",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f00000d"),species:"an",name:"竜王",shortname:"龍",csaname:"RY",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f00000e"),species:"ao",name:"銅将",shortname:"銅",move:[{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f00000f"),species:"ap",name:"鉄将",shortname:"鉄",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000010"),species:"aq",name:"横行",move:[{move:[0,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000011"),species:"ar",name:"猛虎",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000012"),species:"as",name:"飛龍",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000013"),species:"at",name:"奔車",move:[{move:[0,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000014"),species:"au",name:"注人",move:[{move:[0,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000015"),species:"av",name:"鵬",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000016"),species:"aw",name:"鶴",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000017"),species:"ax",name:"雉",move:[{move:[0,-2],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000018"),species:"ay",name:"鶉",move:[{move:[0,-1],type:2},{move:[1,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48b9cf4325a2053f000019"),species:"az",name:"鶉",move:[{move:[0,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00001b"),species:"bb",name:"燕",move:[{move:[0,-1],type:1}],nifu:3}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000020"),species:"bg",name:"ひよこ",move:[{move:[0,-1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00001a"),species:"ba",name:"鷹",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00001c"),species:"bc",name:"鵰",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00001d"),species:"bd",name:"雁",move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[0,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00001e"),species:"be",name:"八方桂",move:[{move:[1,-2],type:1},{move:[-1,-2],type:1},{move:[2,-1],type:1},{move:[-2,-1],type:1},{move:[2,1],type:1},{move:[-2,1],type:1},{move:[1,2],type:1},{move:[-1,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00001f"),species:"bf",name:"八方成桂",move:[{move:[1,-2],type:1},{move:[-1,-2],type:1},{move:[2,-1],type:1},{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[-2,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[2,1],type:1},{move:[0,1],type:1},{move:[-2,1],type:1},{move:[1,2],type:1},{move:[-1,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000021"),species:"bh",name:"きりん",move:[{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000022"),species:"bi",name:"ぞう",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000023"),species:"bj",name:"ライオン",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000024"),species:"bk",name:"にわとり",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000025"),change:{8:0},move:[{move:[2,-2],type:1},{move:[1,-2],type:1},{move:[0,-2],type:1},{move:[-1,-2],type:1},{move:[-2,-2],type:1},{move:[2,-1],type:1},{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[-2,-1],type:1},{move:[2,0],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[-2,0],type:1},{move:[2,1],type:1},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8},{move:[-2,1],type:1},{move:[2,2],type:1},{move:[1,2],type:1},{move:[0,2],type:1},{move:[-1,2],type:1},{move:[-2,2],type:1}],name:"獅子",species:"bl",status:[{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000027"),class:"Unmovable",move:[],name:"コイン",species:"bn"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000029"),species:"bp",name:"歩兵(斜)",shortname:"歩",move:[{move:[-1,-1],type:1}],nifu:2}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00002a"),species:"bq",name:"香車(斜)",shortname:"香",move:[{move:[-1,-1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00002b"),species:"br",name:"桂馬(斜)",shortname:"桂",move:[{move:[-1,-2],type:1},{move:[-2,-1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00002c"),species:"bs",name:"銀将(斜)",shortname:"銀",move:[{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00002d"),species:"bt",name:"金将(斜)",shortname:"金",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00002e"),species:"bu",name:"角行(斜)",shortname:"角",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00002f"),species:"bv",name:"飛車(斜)",shortname:"飛",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000030"),species:"bw",name:"王将(斜)",shortname:"玉",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000031"),species:"bx",name:"と金(斜)",shortname:"と",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000032"),species:"by",name:"成香(斜)",shortname:"成香",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000033"),species:"bz",name:"成桂(斜)",shortname:"成桂",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000034"),species:"ca",name:"成銀(斜)",shortname:"成銀",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000035"),species:"cb",name:"竜馬(斜)",shortname:"馬",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000036"),species:"cc",name:"竜王(斜)",shortname:"竜",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000037"),species:"cd",name:"歩兵(はさみ将棋)",shortname:"歩",move:[{move:[0,-1],type:4},{move:[1,0],type:4},{move:[-1,0],type:4},{move:[0,1],type:4}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000038"),species:"ce",name:"と金(はさみ将棋)",shortname:"と",move:[{move:[0,-1],type:4},{move:[1,0],type:4},{move:[-1,0],type:4},{move:[0,1],type:4}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000039"),species:"cf",name:"醉象",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00003a"),species:"cg",name:"太子",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00003b"),species:"ch",name:"京翔",shortname:"京",move:[{move:[1,-3],type:1},{move:[-1,-3],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00003c"),species:"ci",name:"銅将",shortname:"銅",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00003d"),species:"cj",name:"成京",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00003e"),species:"ck",name:"成銅",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00003f"),species:"cl",name:"猛豹",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000040"),species:"cm",name:"反車",move:[{move:[0,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000041"),species:"cn",name:"盲虎",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000042"),species:"co",name:"麒麟",move:[{move:[0,-2],type:1},{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[2,0],type:1},{move:[-2,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1},{move:[0,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000043"),species:"cp",name:"鳳凰",move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1},{move:[2,2],type:1},{move:[-2,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000044"),species:"cq",name:"仲人",move:[{move:[0,-1],type:1},{move:[0,1],type:1}],nifu:2}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000045"),species:"cr",name:"横行",move:[{move:[0,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000046"),species:"cs",name:"竪行",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000047"),species:"ct",name:"奔王",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000048"),species:"cu",name:"白駒",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000049"),species:"cv",name:"鯨鯢",move:[{move:[0,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00004a"),species:"cw",name:"飛鹿",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00004b"),species:"cx",name:"奔猪",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00004c"),species:"cy",name:"飛牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00004d"),change:{8:0},move:[{move:[0,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],name:"角鷹",species:"cz",status:[{move:[{move:[0,-1],type:1},{move:[0,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00004f"),change:{11:0,10:1},move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[1,-1],type:11},{move:[0,-1],type:2},{move:[-1,-1],type:10},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],name:"飛鷲",species:"db",status:[{move:[{move:[1,-1],type:1},{move:[-1,1],type:1}],change:{1:-1}},{move:[{move:[-1,-1],type:1},{move:[1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000051"),species:"dd",name:"飛車",shortname:"飛",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000052"),species:"de",name:"竪行",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000053"),species:"df",name:"横行",move:[{move:[0,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000054"),species:"dg",name:"角行",shortname:"角",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000055"),change:{8:0},move:[{move:[2,-2],type:1},{move:[1,-2],type:1},{move:[0,-2],type:1},{move:[-1,-2],type:1},{move:[-2,-2],type:1},{move:[2,-1],type:1},{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[-2,-1],type:1},{move:[2,0],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[-2,0],type:1},{move:[2,1],type:1},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8},{move:[-2,1],type:1},{move:[2,2],type:1},{move:[1,2],type:1},{move:[0,2],type:1},{move:[-1,2],type:1},{move:[-2,2],type:1}],name:"獅子",species:"dh",status:[{move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000057"),species:"dj",name:"奔王",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000058"),species:"dk",name:"酔象",shortname:"象",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000059"),species:"dl",name:"竜馬",shortname:"馬",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00005a"),species:"dm",name:"竜王",shortname:"竜",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00005c"),species:"do",name:"金将",shortname:"金",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00005d"),species:"dp",name:"鉄将",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00005e"),species:"dq",name:"石将",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00005f"),species:"dr",name:"悪狼",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000060"),species:"ds",name:"嗔猪",move:[{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000061"),species:"dt",name:"猫刄",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000062"),species:"du",name:"猛牛",move:[{move:[0,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000063"),species:"dv",name:"飛龍",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000064"),species:"dw",name:"靏玉",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000065"),species:"dx",name:"風馬",move:[{move:[0,-1],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000066"),species:"dy",name:"登猿",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000067"),species:"dz",name:"鴟行",move:[{move:[0,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000068"),species:"ea",name:"鶏飛",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000069"),species:"eb",name:"猛鹿",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00006a"),species:"ec",name:"猛狼",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00006b"),species:"ed",name:"鳫飛",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00006c"),species:"ee",name:"烏行",move:[{move:[0,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00006d"),species:"ef",name:"盲犬",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00006e"),species:"eg",name:"牛車",move:[{move:[0,-1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00006f"),species:"eh",name:"雲鷲",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000070"),species:"ei",name:"燕羽",move:[{move:[0,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000071"),species:"ej",name:"飛鷹",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000072"),species:"ek",name:"走兎",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000073"),species:"el",name:"隠狐",move:[{move:[2,-2],type:1},{move:[0,-2],type:1},{move:[-2,-2],type:1},{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1},{move:[2,2],type:1},{move:[0,2],type:1},{move:[-2,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000074"),species:"em",name:"萑歩",move:[{move:[0,-1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000075"),species:"en",name:"天馬",move:[{move:[1,-2],type:1},{move:[-1,-2],type:1},{move:[1,2],type:1},{move:[-1,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000076"),species:"eo",name:"猛鹿",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000077"),species:"ep",name:"雲鷲",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000078"),species:"eq",name:"延鷹",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000079"),species:"er",name:"行猪",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00007a"),species:"es",name:"熊眼",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00007b"),species:"et",name:"燕羽",move:[{move:[0,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00007c"),species:"eu",name:"飛鷹",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00007d"),species:"ev",name:"猛狼",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00007e"),species:"ew",name:"歬牛",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00007f"),species:"ex",name:"燕行",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000080"),species:"ey",name:"鶏鷹",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000081"),species:"ez",name:"隠狐",move:[{move:[2,-2],type:1},{move:[0,-2],type:1},{move:[-2,-2],type:1},{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1},{move:[2,2],type:1},{move:[0,2],type:1},{move:[-2,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000082"),species:"fa",name:"金鳥",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000083"),species:"fb",name:"車兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000084"),change:{8:0},move:[{move:[2,-2],type:1},{move:[1,-2],type:1},{move:[0,-2],type:1},{move:[-1,-2],type:1},{move:[-2,-2],type:1},{move:[2,-1],type:1},{move:[1,-1],type:[8,2]},{move:[0,-1],type:8},{move:[-1,-1],type:[8,2]},{move:[-2,-1],type:1},{move:[2,0],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[-2,0],type:1},{move:[2,1],type:1},{move:[1,1],type:[8,2]},{move:[0,1],type:8},{move:[-1,1],type:[8,2]},{move:[-2,1],type:1},{move:[2,2],type:1},{move:[1,2],type:1},{move:[0,2],type:1},{move:[-1,2],type:1},{move:[-2,2],type:1}],name:"獅鷹",species:"fc",status:[{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000085"),species:"fd",name:"奔鷲",move:[{move:[1,-1],type:2},{move:[0,-1],type:6},{move:[-1,-1],type:2},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[1,1],type:2},{move:[0,1],type:6},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000089"),species:"fh",name:"水牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00008a"),species:"fi",name:"竪兵",move:[{move:[0,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00008b"),species:"fj",name:"横兵",move:[{move:[0,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00008c"),species:"fk",name:"大将",move:[{move:[1,-1],type:6},{move:[0,-1],type:6},{move:[-1,-1],type:6},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[1,1],type:6},{move:[0,1],type:6},{move:[-1,1],type:6}],jumpException:["ah","cg","fk","kz"]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000090"),species:"fo",name:"犬",move:[{move:[0,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000091"),change:{10:0,11:1,12:2,13:3,14:4,15:5,16:6,17:7},limit:{18:2},move:[{move:[1,-1],type:[2,10]},{move:[0,-1],type:11},{move:[-1,-1],type:[2,12]},{move:[1,0],type:[18,13]},{move:[-1,0],type:[18,14]},{move:[1,1],type:[2,15]},{move:[0,1],type:16},{move:[-1,1],type:[2,17]}],mustNotBeEmpty:{10:{move:[0,0],type:2},11:{move:[0,0],type:2},12:{move:[0,0],type:2},13:{move:[0,0],type:2},14:{move:[0,0],type:2},15:{move:[0,0],type:2},16:{move:[0,0],type:2},17:{move:[0,0],type:2}},name:"四天王",nopass:!0,skip:{2:1,18:1},species:"fp",status:[{change:{1:-1},move:[{move:[-1,1],type:1}]},{change:{1:-1},move:[{move:[0,1],type:1}]},{change:{1:-1},move:[{move:[1,1],type:1}]},{change:{1:-1},move:[{move:[-1,0],type:1}]},{change:{1:-1},move:[{move:[1,0],type:1}]},{change:{1:-1},move:[{move:[-1,-1],type:1}]},{change:{1:-1},move:[{move:[0,-1],type:1}]},{change:{1:-1},move:[{move:[1,-1],type:1}]}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000092"),species:"fq",name:"雜将",move:[{move:[0,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000093"),initial:{move:[{move:[1,-1],type:5},{move:[0,-1],type:4},{move:[-1,-1],type:5}],limit:{4:2}},move:[{move:[1,-1],type:5},{move:[0,-1],type:3},{move:[-1,-1],type:5}],name:"ポーン",species:"fr"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000095"),species:"ft",name:"クイーン",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000099"),species:"fx",name:"右将",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00009a"),species:"fy",name:"左将",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00009b"),species:"fz",name:"奔獏",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00009c"),species:"ga",name:"奔鬼",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00009d"),species:"gb",name:"方行",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00009e"),species:"gc",name:"走車",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00009f"),limit:{10:2,11:5},move:[{move:[1,-1],type:10},{move:[0,-1],type:11},{move:[-1,-1],type:10},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[1,1],type:10},{move:[0,1],type:11},{move:[-1,1],type:10}],name:"夜叉",species:"gd"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a0"),limit:{10:2,11:5},move:[{move:[1,-1],type:11},{move:[0,-1],type:10},{move:[-1,-1],type:11},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[1,1],type:11},{move:[0,1],type:10},{move:[-1,1],type:11}],name:"鳩槃",species:"ge"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a1"),change:{2:0},move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],name:"天狗",species:"gf",status:[{move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}],change:{2:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a3"),change:{2:0},move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}],name:"鉤行",species:"gh",status:[{move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}],change:{2:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a5"),species:"gj",name:"近王",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a6"),species:"gk",name:"行鳥",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a7"),species:"gl",name:"踊鹿",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a8"),species:"gm",name:"老鼠",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000a9"),species:"gn",name:"盲猿",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000aa"),change:{10:0,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:9,20:10,21:11,22:8,23:9,24:10,25:11},move:[{move:[3,-3],type:28},{move:[0,-3],type:27},{move:[-3,-3],type:28},{move:[2,-2],type:21},{move:[0,-2],type:20},{move:[-2,-2],type:19},{move:[1,-1],type:13},{move:[0,-1],type:12},{move:[-1,-1],type:11},{move:[3,0],type:26},{move:[2,0],type:22},{move:[1,0],type:14},{move:[-1,0],type:10},{move:[-2,0],type:18},{move:[-3,0],type:26},{move:[1,1],type:15},{move:[0,1],type:16},{move:[-1,1],type:17},{move:[2,2],type:23},{move:[0,2],type:24},{move:[-2,2],type:25},{move:[3,3],type:28},{move:[0,3],type:27},{move:[-3,3],type:28}],mustNotBeEmpty:{18:{move:[-1,0],type:1},22:{move:[-1,0],type:1},20:{move:[0,-1],type:1},24:{move:[0,-1],type:1},19:{move:[-1,-1],type:1},21:{move:[-1,-1],type:1},23:{move:[-1,-1],type:1},25:{move:[-1,-1],type:1},26:[{move:[-1,0],type:1},{move:[-2,0],type:1}],27:[{move:[0,-1],type:1},{move:[0,-2],type:1}],28:[{move:[-1,-1],type:1},{move:[-2,-2],type:1}]},name:"狛犬",species:"go",status:[{move:[{move:[-1,0],type:10},{move:[1,0],type:11}],change:{10:8,11:-1}},{move:[{move:[-1,-1],type:10},{move:[1,1],type:11}],change:{10:9,11:-1}},{move:[{move:[0,-1],type:10},{move:[0,1],type:11}],change:{10:10,11:-1}},{move:[{move:[1,-1],type:10},{move:[-1,1],type:11}],change:{10:11,11:-1}},{move:[{move:[1,0],type:10},{move:[-1,0],type:11}],change:{10:8,11:-1}},{move:[{move:[1,1],type:10},{move:[-1,-1],type:11}],change:{10:9,11:-1}},{move:[{move:[0,1],type:10},{move:[0,-1],type:11}],change:{10:10,11:-1}},{move:[{move:[-1,1],type:10},{move:[1,-1],type:11}],change:{10:11,11:-1}},{move:[{move:[1,0],type:1},{move:[-1,0],type:1}],change:{1:-1}},{move:[{move:[-1,-1],type:1},{move:[1,1],type:1}],change:{1:-1}},{move:[{move:[0,-1],type:1},{move:[0,1],type:1}],change:{1:-1}},{move:[{move:[1,-1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000b7"),limit:{10:2,11:3},move:[{move:[1,-1],type:11},{move:[0,-1],type:10},{move:[-1,-1],type:11},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:11},{move:[0,1],type:10},{move:[-1,1],type:11}],name:"大龍",species:"hb"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000b8"),change:{2:0},move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],name:"天狗",species:"hc",status:[{move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}],change:{2:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000ba"),limit:{11:2,10:3},move:[{move:[1,-1],type:10},{move:[0,-1],type:2},{move:[-1,-1],type:10},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[1,1],type:10},{move:[0,1],type:2},{move:[-1,1],type:10}],name:"金翅",species:"he"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000bb"),species:"hf",name:"古鵄",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000bc"),species:"hg",name:"毒蛇",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000bd"),limit:{11:2,10:3},move:[{move:[0,-1],type:11},{move:[3,0],type:1},{move:[2,0],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-2,0],type:1},{move:[-3,0],type:1},{move:[1,1],type:10},{move:[0,1],type:11},{move:[-1,1],type:10}],name:"大龍",species:"hh"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000be"),species:"hi",name:"馬麟",move:[{move:[1,-1],type:8},{move:[0,-1],type:1},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000bf"),species:"hj",name:"変狸",move:[{move:[0,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c0"),species:"hk",name:"変狐",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c1"),limit:{11:2,10:3},move:[{move:[1,-1],type:10},{move:[0,-1],type:2},{move:[-1,-1],type:10},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[1,1],type:10},{move:[0,1],type:2},{move:[-1,1],type:10}],name:"金翅",species:"hl"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c2"),species:"hm",name:"木将",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c3"),species:"hn",name:"東夷",move:[{move:[0,-1],type:8},{move:[-1,0],type:1},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c4"),species:"ho",name:"南蛮",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c5"),species:"hp",name:"西戎",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c6"),species:"hq",name:"北狄",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c7"),species:"hr",name:"白象",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c8"),species:"hs",name:"香象",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000c9"),species:"ht",name:"青龍",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000ca"),species:"hu",name:"白虎",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000cb"),species:"hv",name:"前旗",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000cd"),species:"hx",name:"猛熊",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000ce"),species:"hy",name:"右車",move:[{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000cf"),species:"hz",name:"左車",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d0"),species:"ia",name:"キ犬",move:[{move:[0,-1],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d1"),species:"ib",name:"キ犬",move:[{move:[0,-1],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d2"),species:"ic",name:"仙鶴",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d3"),species:"id",name:"山母",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d4"),change:{10:0},limit:{8:3},move:[{move:[2,-2],type:1},{move:[1,-2],type:1},{move:[0,-2],type:1},{move:[-1,-2],type:1},{move:[-2,-2],type:1},{move:[2,-1],type:1},{move:[1,-1],type:[10,8]},{move:[0,-1],type:[10,8]},{move:[-1,-1],type:[10,8]},{move:[-2,-1],type:1},{move:[2,0],type:1},{move:[1,0],type:[10,8]},{move:[-1,0],type:[10,8]},{move:[-2,0],type:1},{move:[2,1],type:1},{move:[1,1],type:[10,8]},{move:[0,1],type:[10,8]},{move:[-1,1],type:[10,8]},{move:[-2,1],type:1},{move:[2,2],type:1},{move:[1,2],type:1},{move:[0,2],type:1},{move:[-1,2],type:1},{move:[-2,2],type:1}],name:"奮迅",species:"ie",status:[{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d6"),species:"ig",name:"大象",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d7"),species:"ih",name:"無明",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[-1,0],type:1},{move:[1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d8"),species:"ii",name:"提婆",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000d9"),species:"ij",name:"瓦将",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000da"),species:"ik",name:"土将",move:[{move:[0,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000db"),species:"il",name:"臥龍",move:[{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000dc"),species:"im",name:"蟠蛇",move:[{move:[0,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000dd"),species:"in",name:"淮鶏",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000de"),species:"io",name:"古猿",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000df"),species:"ip",name:"盲熊",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e0"),species:"iq",name:"金剛",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:8},{move:[-1,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e1"),species:"ir",name:"力士",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e2"),species:"is",name:"羅刹",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e3"),species:"it",name:"驢馬",move:[{move:[0,-2],type:1},{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1},{move:[0,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e4"),change:{2:0},move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}],name:"摩羯",species:"iu",status:[{move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}],change:{2:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e6"),species:"iw",name:"横飛",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e7"),class:"Jizaitenno",move:[],name:"自在天王",species:"ix"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e8"),species:"iy",name:"王子",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000e9"),change:{8:0},move:[{move:[2,-2],type:1},{move:[1,-2],type:1},{move:[0,-2],type:1},{move:[-1,-2],type:1},{move:[-2,-2],type:1},{move:[2,-1],type:1},{move:[1,-1],type:[8,2]},{move:[0,-1],type:[8,2]},{move:[-1,-1],type:[8,2]},{move:[-2,-1],type:1},{move:[2,0],type:1},{move:[1,0],type:[8,2]},{move:[-1,0],type:[8,2]},{move:[-2,0],type:1},{move:[2,1],type:1},{move:[1,1],type:[8,2]},{move:[0,1],type:[8,2]},{move:[-1,1],type:[8,2]},{move:[-2,1],type:1},{move:[2,2],type:1},{move:[1,2],type:1},{move:[0,2],type:1},{move:[-1,2],type:1},{move:[-2,2],type:1}],name:"法性",species:"iz",status:[{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbba4325a2633e0000eb"),change:{10:0,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:9,20:10,21:11,22:8,23:9,24:10,25:11},move:[{move:[3,-3],type:28},{move:[0,-3],type:27},{move:[-3,-3],type:28},{move:[2,-2],type:21},{move:[0,-2],type:20},{move:[-2,-2],type:19},{move:[1,-1],type:[13,2]},{move:[0,-1],type:[12,2]},{move:[-1,-1],type:[11,2]},{move:[3,0],type:26},{move:[2,0],type:22},{move:[1,0],type:[14,2]},{move:[-1,0],type:[10,2]},{move:[-2,0],type:18},{move:[-3,0],type:26},{move:[1,1],type:[15,2]},{move:[0,1],type:[16,2]},{move:[-1,1],type:[17,2]},{move:[2,2],type:23},{move:[0,2],type:24},{move:[-2,2],type:25},{move:[3,3],type:28},{move:[0,3],type:27},{move:[-3,3],type:28}],mustNotBeEmpty:{18:{move:[-1,0],type:1},22:{move:[-1,0],type:1},20:{move:[0,-1],type:1},24:{move:[0,-1],type:1},19:{move:[-1,-1],type:1},21:{move:[-1,-1],type:1},23:{move:[-1,-1],type:1},25:{move:[-1,-1],type:1},26:[{move:[-1,0],type:1},{move:[-2,0],type:1}],27:[{move:[0,-1],type:1},{move:[0,-2],type:1}],28:[{move:[-1,-1],type:1},{move:[-2,-2],type:1}]},name:"教王",species:"jb",status:[{move:[{move:[-1,0],type:10},{move:[1,0],type:11}],change:{10:8,11:-1}},{move:[{move:[-1,-1],type:10},{move:[1,1],type:11}],change:{10:9,11:-1}},{move:[{move:[0,-1],type:10},{move:[0,1],type:11}],change:{10:10,11:-1}},{move:[{move:[1,-1],type:10},{move:[-1,1],type:11}],change:{10:11,11:-1}},{move:[{move:[1,0],type:10},{move:[-1,0],type:11}],change:{10:8,11:-1}},{move:[{move:[1,1],type:10},{move:[-1,-1],type:11}],change:{10:9,11:-1}},{move:[{move:[0,1],type:10},{move:[0,-1],type:11}],change:{10:10,11:-1}},{move:[{move:[-1,1],type:10},{move:[1,-1],type:11}],change:{10:11,11:-1}},{move:[{move:[1,0],type:1},{move:[-1,0],type:1}],change:{1:-1}},{move:[{move:[-1,-1],type:1},{move:[1,1],type:1}],change:{1:-1}},{move:[{move:[0,-1],type:1},{move:[0,1],type:1}],change:{1:-1}},{move:[{move:[1,-1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48cbba4325a2633e0000f8"),species:"jo",name:"仙鶴",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48cbba4325a2633e0000f9"),species:"jp",name:"奔鬼",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48cbba4325a2633e0000fa"),species:"jq",name:"白象",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000011"),species:"jr",name:"前旗",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000012"),species:"js",name:"蝙蝠",move:[{move:[0,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000013"),species:"jt",name:"奔虎",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000014"),species:"ju",name:"奔豹",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000015"),species:"jv",name:"奔蛇",move:[{move:[0,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000016"),species:"jw",name:"奔龍",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000017"),species:"jx",name:"奔狼",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000018"),species:"jy",name:"奔熊",move:[{move:[1,-1],type:6},{move:[-1,-1],type:6},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000019"),species:"jz",name:"奔金",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900001a"),species:"ka",name:"奔銀",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900001b"),species:"kb",name:"奔銅",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900001c"),species:"kc",name:"奔鉄",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900001d"),species:"kd",name:"奔瓦",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900001e"),species:"ke",name:"奔石",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900001f"),species:"kf",name:"奔土",move:[{move:[0,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000020"),species:"kg",name:"奔猫",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000021"),species:"kh",name:"奔人",move:[{move:[0,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000022"),initial:{limit:{4:2},move:[{move:[1,-1],type:5},{move:[0,-1],type:4},{move:[-1,-1],type:5}]},move:[{move:[1,-1],type:5},{move:[0,-1],type:1},{move:[-1,-1],type:5}],name:"ポーン",shortname:"ポーン",species:"ki"}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000024"),species:"kk",name:"ナイト",move:[{move:[1,-2],type:1},{move:[-1,-2],type:1},{move:[2,-1],type:1},{move:[-2,-1],type:1},{move:[2,1],type:1},{move:[-2,1],type:1},{move:[1,2],type:1},{move:[-1,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000025"),change:{8:0},move:[{move:[0,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],name:"角鷹",species:"kl",status:[{move:[{move:[0,-1],type:1},{move:[0,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000027"),change:{11:0,10:1},move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[1,-1],type:11},{move:[0,-1],type:2},{move:[-1,-1],type:10},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],name:"飛鷲",species:"kn",status:[{move:[{move:[1,-1],type:1},{move:[-1,1],type:1}],change:{1:-1}},{move:[{move:[-1,-1],type:1},{move:[1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900002a"),species:"kq",name:"車兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900002b"),change:{8:0},move:[{move:[2,-2],type:1},{move:[1,-2],type:1},{move:[0,-2],type:1},{move:[-1,-2],type:1},{move:[-2,-2],type:1},{move:[2,-1],type:1},{move:[1,-1],type:[8,2]},{move:[0,-1],type:8},{move:[-1,-1],type:[8,2]},{move:[-2,-1],type:1},{move:[2,0],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[-2,0],type:1},{move:[2,1],type:1},{move:[1,1],type:[8,2]},{move:[0,1],type:8},{move:[-1,1],type:[8,2]},{move:[-2,1],type:1},{move:[2,2],type:1},{move:[1,2],type:1},{move:[0,2],type:1},{move:[-1,2],type:1},{move:[-2,2],type:1}],name:"獅鷹",species:"kr",status:[{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000030"),species:"kw",name:"水牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000031"),species:"kx",name:"竪兵",move:[{move:[0,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000032"),species:"ky",name:"横兵",move:[{move:[0,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000033"),species:"kz",name:"大将",move:[{move:[1,-1],type:6},{move:[0,-1],type:6},{move:[-1,-1],type:6},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[1,1],type:6},{move:[0,1],type:6},{move:[-1,1],type:6}],jumpException:["ah","cg","fk","kz"]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000039"),change:{10:0,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:9,20:10,21:11,22:8,23:9,24:10,25:11},move:[{move:[3,-3],type:28},{move:[0,-3],type:27},{move:[-3,-3],type:28},{move:[2,-2],type:21},{move:[0,-2],type:20},{move:[-2,-2],type:19},{move:[1,-1],type:13},{move:[0,-1],type:12},{move:[-1,-1],type:11},{move:[3,0],type:26},{move:[2,0],type:22},{move:[1,0],type:14},{move:[-1,0],type:10},{move:[-2,0],type:18},{move:[-3,0],type:26},{move:[1,1],type:15},{move:[0,1],type:16},{move:[-1,1],type:17},{move:[2,2],type:23},{move:[0,2],type:24},{move:[-2,2],type:25},{move:[3,3],type:28},{move:[0,3],type:27},{move:[-3,3],type:28}],mustNotBeEmpty:{18:{move:[-1,0],type:1},22:{move:[-1,0],type:1},20:{move:[0,-1],type:1},24:{move:[0,-1],type:1},19:{move:[-1,-1],type:1},21:{move:[-1,-1],type:1},23:{move:[-1,-1],type:1},25:{move:[-1,-1],type:1},26:[{move:[-1,0],type:1},{move:[-2,0],type:1}],27:[{move:[0,-1],type:1},{move:[0,-2],type:1}],28:[{move:[-1,-1],type:1},{move:[-2,-2],type:1}]},name:"狛犬",species:"lf",status:[{move:[{move:[-1,0],type:10},{move:[1,0],type:11}],change:{10:8,11:-1}},{move:[{move:[-1,-1],type:10},{move:[1,1],type:11}],change:{10:9,11:-1}},{move:[{move:[0,-1],type:10},{move:[0,1],type:11}],change:{10:10,11:-1}},{move:[{move:[1,-1],type:10},{move:[-1,1],type:11}],change:{10:11,11:-1}},{move:[{move:[1,0],type:10},{move:[-1,0],type:11}],change:{10:8,11:-1}},{move:[{move:[1,1],type:10},{move:[-1,-1],type:11}],change:{10:9,11:-1}},{move:[{move:[0,1],type:10},{move:[0,-1],type:11}],change:{10:10,11:-1}},{move:[{move:[-1,1],type:10},{move:[1,-1],type:11}],change:{10:11,11:-1}},{move:[{move:[1,0],type:1},{move:[-1,0],type:1}],change:{1:-1}},{move:[{move:[-1,-1],type:1},{move:[1,1],type:1}],change:{1:-1}},{move:[{move:[0,-1],type:1},{move:[0,1],type:1}],change:{1:-1}},{move:[{move:[1,-1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000054"),species:"mg",name:"猛鷲",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000055"),species:"mh",name:"横龍",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000056"),species:"mi",name:"金鹿",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000057"),species:"mj",name:"銀兎",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,1],type:2},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000058"),species:"mk",name:"羊兵",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000059"),change:{2:0},limit:{8:2},move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:8},{move:[-1,1],type:8}],name:"孔雀",species:"ml",status:[{move:[{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[1,-1],type:2},{move:[-1,1],type:2}],change:{2:-1}}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900005c"),species:"mo",name:"兵士",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900005d"),species:"mp",name:"朱雀",move:[{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900005e"),species:"mq",name:"玄武",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900005f"),species:"mr",name:"古鵄",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000060"),species:"ms",name:"後旗",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000061"),species:"mt",name:"中旗",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000062"),species:"mu",name:"鳩盤",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000063"),species:"mv",name:"地龍",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000064"),species:"mw",name:"雨龍",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000065"),species:"mx",name:"走馬",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:1},{move:[2,2],type:1},{move:[-2,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000066"),species:"my",name:"奔鬼",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000067"),species:"mz",name:"獣曹",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000068"),limit:{11:3,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:11},{move:[-1,-1],type:11},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[1,1],type:11},{move:[-1,1],type:11}],name:"獣吏",species:"na"}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000069"),species:"nb",name:"山鷲(左)",shortname:"山鷲",move:[{move:[2,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:8},{move:[2,2],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900006a"),species:"nc",name:"山鷲(右)",shortname:"山鷲",move:[{move:[-2,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[-2,2],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900006b"),species:"nd",name:"飛鷲",move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900006c"),species:"ne",name:"走熊",move:[{move:[0,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900006d"),species:"nf",name:"奔熊",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900006e"),species:"ng",name:"走虎",move:[{move:[0,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900006f"),species:"nh",name:"大鳩",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000070"),species:"ni",name:"鳩槃",move:[{move:[5,-5],type:10},{move:[-5,-5],type:10},{move:[4,-4],type:11},{move:[-4,-4],type:11},{move:[0,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:8},{move:[4,4],type:11},{move:[-4,4],type:11},{move:[5,5],type:10},{move:[-5,5],type:10}],mustBeEmpty:{10:{move:[-2,-2]},11:{move:[-1,-1]}},limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000071"),species:"nj",name:"横蛇",move:[{move:[0,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000072"),limit:{11:5,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:2},{move:[-1,-1],type:11},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:10},{move:[0,1],type:2},{move:[-1,1],type:10}],name:"大鱗",species:"nk"}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000073"),species:"nl",name:"走蛇",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000074"),species:"nm",name:"走狗",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000075"),species:"nn",name:"山鹿",move:[{move:[1,-1],type:10},{move:[0,-1],type:1},{move:[-1,-1],type:10},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[0,1],type:12}],limit:{10:3,11:2,12:4}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000076"),species:"no",name:"大鹿",move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000077"),species:"np",name:"森鬼",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000078"),species:"nq",name:"雷走",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:8}],limit:{8:4}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000079"),species:"nr",name:"雨龍",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900007a"),species:"ns",name:"大龍",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900007b"),limit:{11:3,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:10},{move:[-1,-1],type:11},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[1,1],type:11},{move:[-1,1],type:11}],name:"禽吏",species:"nt"}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900007c"),limit:{11:3,10:2},move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[1,1],type:2},{move:[0,1],type:10},{move:[-1,1],type:2}],name:"禽鳥",species:"nu"}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900007d"),species:"nv",name:"飛燕",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900007e"),species:"nw",name:"山鳩",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900007f"),species:"nx",name:"大鳩",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000080"),species:"ny",name:"鳳師",move:[{move:[3,-3],type:1},{move:[-3,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000081"),species:"nz",name:"麟師",move:[{move:[0,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[0,3],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000082"),limit:{11:4,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:2},{move:[-1,-1],type:11},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:10},{move:[0,1],type:2},{move:[-1,1],type:10}],name:"火龍",species:"oa"}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000083"),limit:{11:2,10:4},move:[{move:[1,-1],type:11},{move:[0,-1],type:2},{move:[-1,-1],type:11},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:10},{move:[0,1],type:2},{move:[-1,1],type:10}],name:"水龍",species:"ob"}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000084"),species:"oc",name:"奔狗",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000085"),species:"od",name:"奔犬",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000086"),species:"oe",name:"風龍",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000087"),species:"of",name:"奔龍",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000088"),limit:{11:3,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:11},{move:[-1,-1],type:11},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[1,1],type:11},{move:[-1,1],type:11}],name:"獣吏",species:"og"}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000089"),limit:{11:3,10:2},move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[1,1],type:2},{move:[0,1],type:10},{move:[-1,1],type:2}],name:"獣鳥",species:"oh"}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900008a"),species:"oi",name:"右龍",move:[{move:[1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:8},{move:[1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900008b"),species:"oj",name:"青龍",move:[{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900008c"),species:"ok",name:"左龍",move:[{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:2},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900008d"),species:"ol",name:"朱雀",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900008e"),species:"om",name:"右虎",move:[{move:[1,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[1,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900008f"),species:"on",name:"白虎",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000090"),species:"oo",name:"左虎",move:[{move:[1,-1],type:1},{move:[-1,-1],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000091"),species:"op",name:"玄武",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000092"),species:"oq",name:"走狼",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000093"),species:"or",name:"走鹿",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000094"),species:"os",name:"奔鹿",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000095"),species:"ot",name:"金車",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000096"),species:"ou",name:"遊母",move:[{move:[1,-1],type:10},{move:[0,-1],type:2},{move:[-1,-1],type:10},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[1,1],type:12},{move:[0,1],type:2},{move:[-1,1],type:12}],limit:{10:3,11:5,12:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000097"),species:"ov",name:"林鬼",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000098"),species:"ow",name:"右鵰",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[-1,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000099"),species:"ox",name:"猛龍",move:[{move:[1,-1],type:100},{move:[0,-1],type:8},{move:[-1,-1],type:100},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:100},{move:[0,1],type:8},{move:[-1,1],type:100}],limit:{8:2},jumpException:["wz","cg","qj","ql","xe","wa","wc","ox","wd"]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900009a"),species:"oy",name:"大鹿",move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900009b"),species:"oz",name:"禽曹",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900009c"),limit:{11:3,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:10},{move:[-1,-1],type:11},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[1,1],type:11},{move:[-1,1],type:11}],name:"禽吏",species:"pa"}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900009d"),species:"pb",name:"横猪",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900009e"),species:"pc",name:"奔猪",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a2114900009f"),species:"pd",name:"中旗",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a0"),species:"pe",name:"前旗",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a1"),species:"pf",name:"牛将",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a2"),species:"pg",name:"奔牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a3"),species:"ph",name:"馬将",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a4"),species:"pi",name:"奔馬",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a5"),species:"pj",name:"狗将",move:[{move:[0,-1],type:8},{move:[1,1],type:1},{move:[-1,1],type:1}],limit:{8:4}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a6"),species:"pk",name:"奔狗",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a7"),species:"pl",name:"鶏将",move:[{move:[0,-1],type:8},{move:[1,1],type:1},{move:[-1,1],type:1}],limit:{8:4}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a8"),species:"pm",name:"奔鶏",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000a9"),limit:{11:4,10:2},move:[{move:[1,-1],type:11},{move:[-1,-1],type:11},{move:[0,1],type:10}],name:"豚将",species:"pn"}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000aa"),species:"po",name:"奔豚",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000ab"),species:"pp",name:"竪熊",move:[{move:[0,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000ac"),species:"pq",name:"銀車",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000ad"),species:"pr",name:"鴻翼",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000ae"),species:"ps",name:"銅車",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[0,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000af"),species:"pt",name:"銅象",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b0"),species:"pu",name:"雲龍",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b1"),species:"pv",name:"小旗",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b2"),species:"pw",name:"後旗",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b3"),species:"px",name:"竪虎",move:[{move:[0,-1],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b4"),species:"py",name:"山鷹",move:[{move:[0,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b5"),species:"pz",name:"角鷹",move:[{move:[0,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b6"),species:"qa",name:"飛猫",move:[{move:[3,-3],type:1},{move:[0,-3],type:1},{move:[-3,-3],type:1},{move:[3,0],type:1},{move:[-3,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b7"),species:"qb",name:"横狼",move:[{move:[1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b8"),species:"qc",name:"石車",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000b9"),species:"qd",name:"歩振",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000ba"),species:"qe",name:"大亀",move:[{move:[0,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[0,3],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000bb"),species:"qf",name:"霊亀",move:[{move:[0,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[3,0],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-3,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[0,3],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000bc"),species:"qg",name:"小亀",move:[{move:[0,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[0,2],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000bd"),species:"qh",name:"宝亀",move:[{move:[0,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[2,0],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-2,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[0,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000be"),species:"qi",name:"火将",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[0,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000bf"),species:"qj",name:"大将",move:[{move:[1,-1],type:100},{move:[0,-1],type:100},{move:[-1,-1],type:100},{move:[1,0],type:100},{move:[-1,0],type:100},{move:[1,1],type:100},{move:[0,1],type:100},{move:[-1,1],type:100}],jumpException:["wz","cg","qj"]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c0"),species:"qk",name:"水将",move:[{move:[1,-1],type:8},{move:[0,-1],type:1},{move:[-1,-1],type:8},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c1"),species:"ql",name:"副将",move:[{move:[0,-2],type:1},{move:[1,-1],type:100},{move:[-1,-1],type:100},{move:[2,0],type:1},{move:[-2,0],type:1},{move:[1,1],type:100},{move:[-1,1],type:100},{move:[0,2],type:1}],jumpException:["wz","cg","qj","ql","xe"]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c2"),species:"qm",name:"木車",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c3"),species:"qn",name:"風鼈",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c4"),species:"qo",name:"鵬師",move:[{move:[3,-3],type:1},{move:[-3,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c5"),species:"qp",name:"中師",move:[{move:[2,-2],type:1},{move:[0,-2],type:1},{move:[-2,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8},{move:[0,2],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c6"),species:"qq",name:"横牛",move:[{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c7"),species:"qr",name:"飛牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c8"),species:"qs",name:"竪狼",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000c9"),species:"qt",name:"走狼",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000ca"),species:"qu",name:"瓦車",move:[{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000cb"),species:"qv",name:"走瓦",move:[{move:[0,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000cc"),species:"qw",name:"騎兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3214325a211490000cd"),species:"qx",name:"騎士",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000ce"),species:"qy",name:"土車",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000cf"),species:"qz",name:"尺鳥",move:[{move:[0,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d0"),species:"ra",name:"大師",move:[{move:[3,-3],type:1},{move:[0,-3],type:1},{move:[-3,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d1"),species:"rb",name:"大旗",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d2"),species:"rc",name:"熊兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d3"),species:"rd",name:"強熊",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d4"),species:"re",name:"豹兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d5"),species:"rf",name:"走豹",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d6"),species:"rg",name:"猪兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d7"),species:"rh",name:"走猪",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d8"),species:"ri",name:"牛兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000d9"),species:"rj",name:"走牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000da"),species:"rk",name:"馬兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000db"),species:"rl",name:"走馬",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:1},{move:[2,2],type:1},{move:[-2,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000dd"),species:"rn",name:"泰山",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[-1,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000de"),species:"ro",name:"川将",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000df"),species:"rp",name:"淮川",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e0"),species:"rq",name:"風将",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e1"),species:"rr",name:"暴風",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e2"),species:"rs",name:"吼犬",move:[{move:[3,-3],type:1},{move:[0,-3],type:1},{move:[-3,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[3,0],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-3,0],type:1},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8},{move:[0,3],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e3"),species:"rt",name:"狛犬",move:[{move:[3,-3],type:1},{move:[0,-3],type:1},{move:[-3,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[3,0],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-3,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[3,3],type:1},{move:[0,3],type:1},{move:[-3,3],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e4"),limit:{11:3,10:5},move:[{move:[1,-1],type:11},{move:[0,-1],type:10},{move:[-1,-1],type:11},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[0,1],type:1}],name:"弓兵",species:"ru"}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e5"),species:"rv",name:"弓将",move:[{move:[1,-1],type:10},{move:[0,-1],type:2},{move:[-1,-1],type:10},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[0,1],type:12}],limit:{10:5,11:3,12:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e6"),species:"rw",name:"竪豹",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e7"),limit:{11:3,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:2},{move:[-1,-1],type:11},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[0,1],type:1}],name:"大豹",species:"rx"}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e8"),species:"ry",name:"鎗兵",move:[{move:[0,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000e9"),limit:{11:3,10:2},move:[{move:[0,-1],type:2},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[0,1],type:10}],name:"鎗将",species:"rz"}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000ea"),species:"sa",name:"刀兵",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000eb"),species:"sb",name:"刀将",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000ec"),species:"sc",name:"炮兵",move:[{move:[1,-1],type:10},{move:[0,-1],type:11},{move:[-1,-1],type:10},{move:[1,0],type:12},{move:[-1,0],type:12},{move:[0,1],type:1}],limit:{10:5,11:7,12:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000ed"),limit:{11:3,10:2},move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:11},{move:[-1,0],type:11},{move:[0,1],type:10}],name:"炮将",species:"sd"}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000ee"),species:"se",name:"竪馬",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000ef"),species:"sf",name:"竪狗",move:[{move:[0,-1],type:2},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f0"),species:"sg",name:"豹王",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f1"),limit:{11:5,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:2},{move:[-1,-1],type:11},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[0,1],type:1}],name:"弩兵",species:"sh"}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f2"),species:"si",name:"弩将",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f3"),species:"sj",name:"横猿",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f4"),species:"sk",name:"左車",move:[{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f5"),species:"sl",name:"左鉄車",move:[{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f6"),species:"sm",name:"火牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f7"),species:"sn",name:"角鷹",move:[{move:[0,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f8"),species:"so",name:"大鷹",move:[{move:[1,-1],type:2},{move:[0,-1],type:6},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000f9"),species:"sp",name:"飛鷲",move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000fa"),species:"sq",name:"大鷲",move:[{move:[1,-1],type:6},{move:[0,-1],type:2},{move:[-1,-1],type:6},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000fb"),species:"sr",name:"猛虎",move:[{move:[0,-1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000fc"),species:"ss",name:"大虎",move:[{move:[0,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000fd"),species:"st",name:"狛犬",move:[{move:[3,-3],type:1},{move:[0,-3],type:1},{move:[-3,-3],type:1},{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[3,0],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-3,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2},{move:[3,3],type:1},{move:[0,3],type:1},{move:[-3,3],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000fe"),species:"su",name:"大象",move:[{move:[1,-1],type:8},{move:[0,-1],type:6},{move:[-1,-1],type:8},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[1,1],type:6},{move:[0,1],type:6},{move:[-1,1],type:6}],limit:{8:3},jumpLimit:{6:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000ff"),species:"sv",name:"右車",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,0],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000100"),species:"sw",name:"右鉄車",move:[{move:[1,-1],type:2},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000101"),species:"sx",name:"四天王",move:[{move:[1,-1],type:6},{move:[0,-1],type:6},{move:[-1,-1],type:6},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[1,1],type:6},{move:[0,1],type:6},{move:[-1,1],type:6}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000102"),species:"sy",name:"前旗",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000103"),species:"sz",name:"歬牛",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[0,1],type:2},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000104"),species:"ta",name:"白象",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000105"),species:"tb",name:"青龍",move:[{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000106"),species:"tc",name:"神龍",move:[{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:2},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000107"),species:"td",name:"変狸",move:[{move:[0,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000108"),species:"te",name:"雲鷲",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000109"),species:"tf",name:"横龍",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900010a"),species:"tg",name:"盲熊",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900010b"),species:"th",name:"老鼠",move:[{move:[0,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900010c"),species:"ti",name:"寺鳥",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900010d"),species:"tj",name:"方行",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900010e"),species:"tk",name:"強車",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900010f"),species:"tl",name:"蟠龍",move:[{move:[0,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000110"),species:"tm",name:"臥龍",move:[{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000111"),change:{10:0,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:9,20:10,21:11,22:12,23:13},move:[{move:[3,-3],type:23},{move:[-3,-3],type:22},{move:[2,-2],type:21},{move:[0,-2],type:20},{move:[-2,-2],type:19},{move:[1,-1],type:[2,13]},{move:[0,-1],type:[2,12]},{move:[-1,-1],type:[2,11]},{move:[2,0],type:18},{move:[1,0],type:[2,14]},{move:[-1,0],type:[2,10]},{move:[-2,0],type:18},{move:[1,1],type:[2,15]},{move:[0,1],type:[2,16]},{move:[-1,1],type:[2,17]},{move:[2,2],type:22},{move:[0,2],type:20},{move:[-2,2],type:23}],name:"奔鷲",species:"tn",status:[{move:[{move:[1,0],type:1},{move:[-1,0],type:18},{move:[-2,0],type:1}],change:{1:-1,18:8}},{move:[{move:[-3,-3],type:1},{move:[-2,-2],type:22},{move:[-1,-1],type:19},{move:[1,1],type:1}],change:{1:-1,22:12,19:9}},{move:[{move:[0,-2],type:1},{move:[0,-1],type:20},{move:[0,1],type:1}],change:{1:-1,20:10}},{move:[{move:[3,-3],type:1},{move:[2,-2],type:23},{move:[1,-1],type:21},{move:[-1,1],type:1}],change:{1:-1,23:13,21:11}},{move:[{move:[2,0],type:1},{move:[1,0],type:18},{move:[-1,0],type:1}],change:{1:-1,18:8}},{move:[{move:[-1,-1],type:1},{move:[1,1],type:22},{move:[2,2],type:1}],change:{1:-1,22:12}},{move:[{move:[0,-1],type:1},{move:[0,1],type:20},{move:[0,2],type:1}],change:{1:-1,20:10}},{move:[{move:[1,-1],type:1},{move:[-1,1],type:23},{move:[-2,2],type:1}],change:{1:-1,23:13}},{move:[{move:[1,0],type:1},{move:[-1,0],type:1}],change:{1:-1}},{move:[{move:[-2,-2],type:1},{move:[-1,-1],type:22},{move:[1,1],type:22},{move:[2,2],type:1}],change:{1:-1,22:12}},{move:[{move:[0,-1],type:1},{move:[0,1],type:1}],change:{1:-1}},{move:[{move:[2,-2],type:1},{move:[1,-1],type:23},{move:[-1,1],type:23},{move:[-2,2],type:1}],change:{1:-1,23:13}},{move:[{move:[-1,-1],type:1},{move:[1,1],type:1}],change:{1:-1}},{move:[{move:[1,-1],type:1},{move:[-1,1],type:1}],change:{1:-1}}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000120"),species:"uc",name:"太子",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000121"),species:"ud",name:"ビショップ",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000122"),species:"ue",name:"朱雀",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000123"),species:"uf",name:"神雀",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000124"),species:"ug",name:"驢馬",move:[{move:[0,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000125"),species:"uh",name:"馬麟",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000126"),species:"ui",name:"大熊",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000127"),species:"uj",name:"嗔猪",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000128"),species:"uk",name:"毒狼",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000129"),species:"ul",name:"風馬",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900012a"),species:"um",name:"天馬",move:[{move:[1,-2],type:1},{move:[-1,-2],type:1},{move:[0,-1],type:2},{move:[1,2],type:1},{move:[-1,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900012b"),species:"un",name:"延鷹",move:[{move:[1,-1],type:1},{move:[0,-1],type:2},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900012c"),species:"uo",name:"山母",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900012d"),species:"up",name:"仙鷦",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900012e"),species:"uq",name:"西戎",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900012f"),species:"ur",name:"東夷",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000130"),species:"us",name:"隠狐",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000131"),species:"ut",name:"山鶻",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000132"),species:"uu",name:"南蛮",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000133"),species:"uv",name:"金翅",move:[{move:[1,-1],type:6},{move:[0,-1],type:2},{move:[-1,-1],type:6},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3},jumpLimit:{6:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000134"),species:"uw",name:"北狄",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000135"),species:"ux",name:"大駒",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000136"),species:"uy",name:"左犬",move:[{move:[0,-1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000137"),species:"uz",name:"右犬",move:[{move:[0,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000138"),species:"va",name:"踊鹿",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000139"),species:"vb",name:"方行",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900013a"),species:"vc",name:"大獏",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[3,0],type:1},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[-3,0],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900013b"),species:"vd",name:"猛鷲",move:[{move:[1,-1],type:8},{move:[0,-1],type:1},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900013c"),species:"ve",name:"飛龍",move:[{move:[2,-2],type:1},{move:[-2,-2],type:1},{move:[2,2],type:1},{move:[-2,2],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900013d"),species:"vf",name:"麒麟",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[2,0],type:1},{move:[-2,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900013e"),species:"vg",name:"雲鷲",move:[{move:[1,-1],type:8},{move:[0,-1],type:2},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900013f"),species:"vh",name:"勁鷲",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000140"),species:"vi",name:"兵士",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000141"),species:"vj",name:"走車",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000142"),species:"vk",name:"炮車",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000143"),species:"vl",name:"羊兵",move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000144"),species:"vm",name:"虎兵",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[0,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000145"),species:"vn",name:"猛牛",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[0,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000146"),species:"vo",name:"ルーク(居飛車)",shortname:"ルーク",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}],baseChange:"ym",nopostfix:1}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000147"),species:"vp",name:"大龍",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000148"),species:"vq",name:"元龍",move:[{move:[1,-1],type:2},{move:[0,-1],type:6},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:6},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000149"),species:"vr",name:"金翅",move:[{move:[1,-1],type:6},{move:[0,-1],type:2},{move:[-1,-1],type:6},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3},jumpLimit:{6:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900014a"),species:"vs",name:"奔翅",move:[{move:[1,-1],type:6},{move:[0,-1],type:2},{move:[-1,-1],type:6},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:8},{move:[0,1],type:2},{move:[-1,1],type:8}],limit:{8:3},jumpLimit:{6:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900014b"),species:"vt",name:"提婆",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900014c"),species:"vu",name:"教王",move:[{move:[1,-1],type:6},{move:[0,-1],type:6},{move:[-1,-1],type:6},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[1,1],type:6},{move:[0,1],type:6},{move:[-1,1],type:6}],jumpLimit:{6:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900014d"),species:"vv",name:"無明",move:[{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900014e"),species:"vw",name:"鯨鯢",move:[{move:[0,-1],type:1},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900014f"),species:"vx",name:"白駒",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000150"),species:"vy",name:"横龍",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000151"),species:"vz",name:"走龍",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000152"),species:"wa",name:"角将",move:[{move:[1,-1],type:100},{move:[-1,-1],type:100},{move:[1,1],type:100},{move:[-1,1],type:100}],jumpException:["wz","cg","qj","ql","xe","wa","wc","ox","wd"]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000153"),limit:{11:3,10:2},move:[{move:[1,-1],type:6},{move:[0,-1],type:11},{move:[-1,-1],type:6},{move:[1,0],type:10},{move:[-1,0],type:10},{move:[1,1],type:10},{move:[0,1],type:2},{move:[-1,1],type:10}],name:"霖鬼",species:"wb"}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000154"),species:"wc",name:"飛将",move:[{move:[0,-1],type:100},{move:[1,0],type:100},{move:[-1,0],type:100},{move:[0,1],type:100}],jumpException:["wz","cg","qj","ql","xe","wa","wc","ox","wd"]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000155"),jumpException:["wz","cg","qj","ql","xe","wa","wc","ox","wd"],limit:{11:3,10:2},move:[{move:[1,-1],type:11},{move:[0,-1],type:100},{move:[-1,-1],type:11},{move:[1,0],type:100},{move:[-1,0],type:100},{move:[1,1],type:10},{move:[0,1],type:100},{move:[-1,1],type:10}],name:"飛鰐",species:"wd"}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000156"),species:"we",name:"行鳥",move:[{move:[1,-1],type:1},{move:[0,-1],type:8},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000157"),species:"wf",name:"奔鬼",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000158"),species:"wg",name:"古鵄",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000159"),change:{2:0},move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}],name:"天狗",species:"wh",status:[{move:[{move:[1,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[-1,1],type:2}],change:{2:-1}}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900015b"),species:"wj",name:"白象",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900015c"),species:"wk",name:"象王",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900015d"),species:"wl",name:"四天",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:4}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900015e"),species:"wm",name:"力士",move:[{move:[1,-1],type:8},{move:[-1,-1],type:8},{move:[1,1],type:8},{move:[-1,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900015f"),species:"wn",name:"金剛",move:[{move:[0,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:8}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000160"),species:"wo",name:"夜叉",move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[0,1],type:1}],limit:{8:3}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000161"),species:"wp",name:"香象",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000162"),species:"wq",name:"神亀",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000163"),species:"wr",name:"走兎",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000164"),species:"ws",name:"隠狐",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000165"),species:"wt",name:"大鯨",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000166"),species:"wu",name:"火鬼",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000167"),species:"wv",name:"奔火",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:8},{move:[-1,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000168"),species:"ww",name:"奔獏",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}],limit:{8:5}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000169"),species:"wx",name:"左将",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900016a"),species:"wy",name:"左軍",move:[{move:[1,-1],type:2},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:2},{move:[-1,0],type:1},{move:[1,1],type:2},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900016b"),species:"wz",name:"玉将",move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:8},{move:[0,1],type:8},{move:[-1,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900016c"),species:"xa",name:"右将",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900016d"),species:"xb",name:"右軍",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:2},{move:[1,0],type:1},{move:[-1,0],type:2},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900016e"),species:"xc",name:"白虎",move:[{move:[1,-1],type:2},{move:[0,-1],type:8},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900016f"),species:"xd",name:"神虎",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:8}],limit:{8:2}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000170"),species:"xe",name:"副将",move:[{move:[0,-2],type:1},{move:[1,-1],type:100},{move:[-1,-1],type:100},{move:[2,0],type:1},{move:[-2,0],type:1},{move:[1,1],type:100},{move:[-1,1],type:100},{move:[0,2],type:1}],jumpException:["wz","cg","qj","ql","xe"]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000171"),species:"xf",name:"犬",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000172"),species:"xg",name:"雜将",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000173"),species:"xh",name:"醉象",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000190"),species:"yk",name:"クイーン",move:[{move:[1,-1],type:2},{move:[0,-1],type:2},{move:[-1,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[1,1],type:2},{move:[0,1],type:2},{move:[-1,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000191"),species:"yl",name:"キング(居玉)",shortname:"キング",move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],baseChange:"yn",nopostfix:1}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000194"),class:"Unmovable",move:[],name:"オセロ",shortname:" ",species:"yo"}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000195"),species:"yp",name:"ポーン(チェッカー)",shortname:"ポーン",move:[{move:[2,-2],type:8},{move:[-2,-2],type:8},{move:[1,-1],type:3},{move:[-1,-1],type:3}],mustNotBeEmpty:{8:{move:[-1,-1],type:2}},mustBeEmpty:{8:{move:[0,0]}}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000196"),species:"yq",name:"キング(チェッカー)",shortname:"キング",move:[{move:[2,-2],type:8},{move:[-2,-2],type:8},{move:[1,-1],type:3},{move:[-1,-1],type:3},{move:[1,1],type:3},{move:[-1,1],type:3},{move:[2,2],type:8},{move:[-2,2],type:8}],mustNotBeEmpty:{8:{move:[-1,-1],type:2}},mustBeEmpty:{8:{move:[0,0]}}}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000197"),move:[{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[0,1],type:1}],name:"帥",species:"yr"}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000198"),move:[{move:[1,-1],type:1},{move:[-1,-1],type:1},{move:[1,1],type:1},{move:[-1,1],type:1}],name:"仕",species:"ys"}),r.getCollection("koma").insert({_id:n("4e48d3224325a21149000199"),species:"yt",name:"馬",move:[{move:[1,-2],type:8},{move:[-1,-2],type:8},{move:[2,-1],type:8},{move:[-2,-1],type:8},{move:[2,1],type:8},{move:[-2,1],type:8},{move:[1,2],type:8},{move:[-1,2],type:8}],mustBeEmpty:{8:{move:[-1,-1]}}}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900019a"),move:[{move:[2,-2],type:8},{move:[-2,-2],type:8},{move:[2,2],type:8},{move:[-2,2],type:8}],mustBeEmpty:{8:{move:[-1,-1]}},name:"相",species:"yu"}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900019b"),species:"yv",name:"俥",move:[{move:[0,-1],type:2},{move:[1,0],type:2},{move:[-1,0],type:2},{move:[0,1],type:2}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900019c"),move:[{move:[0,-1],type:[4,7]},{move:[1,0],type:[4,7]},{move:[-1,0],type:[4,7]},{move:[0,1],type:[4,7]}],name:"炮",species:"yw"}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900019d"),species:"yx",name:"兵",move:[{move:[0,-1],type:1}]}),r.getCollection("koma").insert({_id:n("4e48d3224325a2114900019e"),species:"yy",name:"兵(敵陣)",shortname:"兵",move:[{move:[0,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1}]}),r.getCollection("koma").insert({_id:n("50b0872f0209d85ef8000000"),class:"Unmovable",move:[],name:"オセロ(白)",shortname:"○",species:"yn"}),r.getCollection("koma").insert({_id:n("4e48d3224325a211490000dc"),limit:{8:3},move:[{move:[1,-1],type:8},{move:[0,-1],type:1},{move:[-1,-1],type:8},{move:[0,1],type:1}],name:"山将",species:"rm"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e0000cc"),limit:{8:2},move:[{move:[1,-1],type:8},{move:[0,-1],type:8},{move:[-1,-1],type:8},{move:[0,1],type:8}],name:"猛虎",species:"hw"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00008d"),change:{8:"0"},jumpException:["ah","cg","fk","kz","fl"],move:[{move:[1,-1],type:[6,8]},{move:[0,-1],type:8},{move:[-1,-1],type:[6,8]},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:[6,8]},{move:[0,1],type:8},{move:[-1,1],type:[6,8]}],name:"副将",species:"fl",status:[{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:1}},{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:-1}}],stopWhenCapture:!0}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e000086"),change:{8:0},move:[{move:[1,-1],type:[8,2]},{move:[0,-1],type:[8,2]},{move:[-1,-1],type:[8,2]},{move:[1,0],type:8},{move:[-1,0],type:8},{move:[1,1],type:[8,2]},{move:[0,1],type:[8,2]},{move:[-1,1],type:[8,2]}],name:"火鬼",species:"fe",status:[{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:1}},{move:[{move:[1,-1],type:1},{move:[0,-1],type:1},{move:[-1,-1],type:1},{move:[1,0],type:1},{move:[-1,0],type:1},{move:[1,1],type:1},{move:[0,1],type:1},{move:[-1,1],type:1}],change:{1:-1}}],stopWhenCapture:!0}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000038"),jumpException:["ah","cg","fk","kz","fl","fm","ld","fn","le"],move:[{move:[1,-1],type:6},{move:[-1,-1],type:6},{move:[1,1],type:6},{move:[-1,1],type:6}],name:"角将",species:"le"}),r.getCollection("koma").insert({_id:n("4e48d3214325a21149000037"),jumpException:["ah","cg","fk","kz","fl","fm","ld"],move:[{move:[0,-1],type:6},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[0,1],type:6}],name:"飛将",species:"ld"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00008f"),jumpException:["ah","cg","fk","kz","fl","fm","ld","fn","le"],move:[{move:[1,-1],type:6},{move:[-1,-1],type:6},{move:[1,1],type:6},{move:[-1,1],type:6}],name:"角将",species:"fn"}),r.getCollection("koma").insert({_id:n("4e48cbb94325a2633e00008e"),jumpException:["ah","cg","fk","kz","fl","fm","ld"],move:[{move:[0,-1],type:6},{move:[1,0],type:6},{move:[-1,0],type:6},{move:[0,1],type:6}],name:"飛将",species:"fm"}),r.getCollection("koma").insert({_id:n("52639beae90c10fd0f000000"),move:[],name:"量子駒(表)",shortname:"量子",species:"ff"}),r.getCollection("koma").insert({_id:n("52639bf5e90c10db0f000000"),move:[],name:"量子駒(裏)",shortname:"成量子",species:"fg"})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(27),r=a.db,n=a.ObjectId,i=r.getCollection("rule");t.default=i,r.getCollection("rule").ensureIndex({_id:1},[]),r.getCollection("rule").ensureIndex({noRoom:1},[]),r.getCollection("rule").insert({_id:16,abstract:"鳥の駒を使った将棋。",init:{ban:[[[1,"ay"],[],[1,"bb"],[],[0,"bb"],[],[0,"az"]],[[1,"ax"],[],[1,"bb"],[],[0,"bb"],[],[0,"ax"]],[[1,"aw"],[],[1,"bb"],[0,"bb"],[0,"bb"],[],[0,"aw"]],[[1,"av"],[1,"ba"],[1,"bb"],[],[0,"bb"],[0,"ba"],[0,"av"]],[[1,"aw"],[],[1,"bb"],[1,"bb"],[0,"bb"],[],[0,"aw"]],[[1,"ax"],[],[1,"bb"],[],[0,"bb"],[],[0,"ax"]],[[1,"az"],[],[1,"bb"],[],[0,"bb"],[],[0,"ay"]]],mochigoma:[[],[]]},koma:["av","aw","ax","ay","az","ba","bb","bc","bd"],name:"禽将棋",nari:{av:null,aw:null,ax:null,ay:null,az:null,ba:"bc",bb:"bd"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000015")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000016")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000017")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000018")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000019")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001d")}],size:[7,7],strategy:{Promotion:{Normal:{dan:2,must:!0}}},winkoma:["av"]}),r.getCollection("rule").insert({_id:39,abstract:"縦横で挟んだらとれる。複数も可。端で敵駒を動けないように囲んでもとれる。相手の駒を４枚以下にしたら勝ち。",init:{ban:[[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]]],mochigoma:[[],[]]},koma:["cd","ce"],name:"はさみ将棋",nari:{cd:null,ce:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48cbb94325a2633e000037")},{$ref:"koma",$id:n("4e48cbb94325a2633e000038")}],size:[9,9],strategy:{Judge:{Count:{lte:4}},MoveEffect:{Hasami:!0}}}),r.getCollection("rule").insert({_id:47,extend:{$ref:"rule",$id:46},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ch"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ch"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},name:"小京将棋(右京配置)",strategy:null}),r.getCollection("rule").insert({_id:56,abstract:"安南将棋を、常に駒の本来の動きもできるようにしたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[],[1,"aa"],[],[0,"aa"],[],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[],[1,"aa"],[],[0,"aa"],[],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},name:"天竺将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Tenjiku:!0}}}),r.getCollection("rule").insert({_id:58,abstract:"歩はポーン、桂はナイトの働きをする。ポーンは１段目でクイーンに成る。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"fr"],[],[],[],[0,"fr"],[],[0,"ab"]],[[1,"be"],[1,"af"],[1,"fr"],[],[],[],[0,"fr"],[0,"ag"],[0,"be"]],[[1,"ad"],[],[1,"fr"],[],[],[],[0,"fr"],[],[0,"ad"]],[[1,"ae"],[],[1,"fr"],[],[],[],[0,"fr"],[],[0,"ae"]],[[1,"ah"],[],[1,"fr"],[],[],[],[0,"fr"],[],[0,"ah"]],[[1,"ae"],[],[1,"fr"],[],[],[],[0,"fr"],[],[0,"ae"]],[[1,"ad"],[],[1,"fr"],[],[],[],[0,"fr"],[],[0,"ad"]],[[1,"be"],[1,"ag"],[1,"fr"],[],[],[],[0,"fr"],[0,"af"],[0,"be"]],[[1,"ab"],[],[1,"fr"],[],[],[],[0,"fr"],[],[0,"ab"]]],mochigoma:[[],[]]},name:"歩ポーン桂ナイト将棋",nari:{fr:"ft",ab:"aj",be:null,ad:"al",ae:null,af:"am",ag:"an",ah:null},noRoom:!0,strategy:{Judge:{Oute:{ignore:!0}},Promotion:{Normal:{species:{fr:1}}}}}),r.getCollection("rule").insert({_id:70,abstract:"味方の駒が縦に複数並んだとき、上からn番目の駒の性能が下からn番目の駒の性能になる。",extend:{$ref:"rule",$id:0},name:"ネコ鮮将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Nekosen:!0},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:78,abstract:"駒を動かした時、その駒の利きにある敵の駒を裏返す。相手を二歩にしても勝ち。",extend:{$ref:"rule",$id:0},name:"核分裂",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Nuclear:!0},Nifu:{Penalty:!0}}}),r.getCollection("rule").insert({_id:84,abstract:"チェッカー。",img:{height:48,width:48},init:{ban:[[[1,"yp"],[],[1,"yp"],[],[],[],[0,"yp"],[]],[[],[1,"yp"],[],[],[],[0,"yp"],[],[0,"yp"]],[[1,"yp"],[],[1,"yp"],[],[],[],[0,"yp"],[]],[[],[1,"yp"],[],[],[],[0,"yp"],[],[0,"yp"]],[[1,"yp"],[],[1,"yp"],[],[],[],[0,"yp"],[]],[[],[1,"yp"],[],[],[],[0,"yp"],[],[0,"yp"]],[[1,"yp"],[],[1,"yp"],[],[],[],[0,"yp"],[]],[[],[1,"yp"],[],[],[],[0,"yp"],[],[0,"yp"]]],mochigoma:[[],[]]},koma:["yp","yq"],name:"チェッカー",nari:{yp:"yq"},noreverse:"koma",players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48d3224325a21149000195")},{$ref:"koma",$id:n("4e48d3224325a21149000196")}],size:[8,8],strategy:{Judge:{NoMove:!0},MochigomaIO:{NoUse:!0},MoveControl:{Same:!0},MoveEffect:{Checker:!0},Promotion:{Normal:{dan:1,must:!0}},TebanRotation:{Checker:!0}}}),r.getCollection("rule").insert({_id:85,abstract:"囲碁。ただし「両者連続パスして終了した時点で、石をなるべくたくさん盤上に置いたほうの勝ち」(終局未実装)",css:"igo",img:{height:30,width:30},init:{ban:[[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]],mochigoma:[[],[]]},koma:["yo"],name:"純碁",nari:[],noreverse:"koma",players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48d3224325a21149000194")}],size:[19,19],strategy:{Judge:{Igo:!0},MochigomaIO:{Infinity:{autoput:!0}},MoveControl:{Igo:!0},MoveEffect:{Igo:!0}}}),r.getCollection("rule").insert({_id:103,abstract:"玉以外角。持ち駒と成りはなし。",init:{ban:[[[1,"af"],[],[1,"af"],[],[],[],[0,"af"],[],[0,"af"]],[[1,"af"],[1,"af"],[1,"af"],[],[],[],[0,"af"],[0,"af"],[0,"af"]],[[1,"af"],[],[1,"af"],[],[],[],[0,"af"],[],[0,"af"]],[[1,"af"],[],[1,"af"],[],[],[],[0,"af"],[],[0,"af"]],[[1,"ah"],[],[1,"af"],[],[],[],[0,"af"],[],[0,"ah"]],[[1,"af"],[],[1,"af"],[],[],[],[0,"af"],[],[0,"af"]],[[1,"af"],[],[1,"af"],[],[],[],[0,"af"],[],[0,"af"]],[[1,"af"],[1,"af"],[1,"af"],[],[],[],[0,"af"],[0,"af"],[0,"af"]],[[1,"af"],[],[1,"af"],[],[],[],[0,"af"],[],[0,"af"]]],mochigoma:[[],[]]},koma:["af","ah"],name:"角将棋",nari:[],override:0,players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")}],size:[9,9],strategy:{MochigomaIO:{NoUse:!0}},winkoma:["ah"]}),r.getCollection("rule").insert({_id:2,abstract:"普通の将棋から、上手側の角を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(角落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:3,abstract:"普通の将棋から、上手側の飛車を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(飛車落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:5,abstract:"普通の将棋から、上手側の飛車と角（＝二枚）を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(二枚落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:6,abstract:"普通の将棋から、上手側の飛車・角を１枚ずつ、香車を１枚（＝四枚）を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(四枚落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:9,abstract:"普通の将棋から、上手側の飛車・角を１枚ずつ、香・桂・銀・金を２枚ずつ（＝十枚）を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(十枚落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:17,abstract:"北尾まどか女流プロが考案した、初心者向けの将棋。",img:{height:70,width:70},init:{ban:[[[1,"bi"],[],[],[0,"bh"]],[[1,"bj"],[1,"bg"],[0,"bg"],[0,"bj"]],[[1,"bh"],[],[],[0,"bi"]]],mochigoma:[[],[]]},name:"どうぶつしょうぎ",nari:{bg:"bk",bh:null,bi:null,bj:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48cbb94325a2633e000020")},{$ref:"koma",$id:n("4e48cbb94325a2633e000021")},{$ref:"koma",$id:n("4e48cbb94325a2633e000022")},{$ref:"koma",$id:n("4e48cbb94325a2633e000023")},{$ref:"koma",$id:n("4e48cbb94325a2633e000024")}],size:[3,4],strategy:{Judge:{Try:{species:["bj"]},Oute:{ignore:!0},Tsumi:{ignore:!0}},Promotion:{Normal:{dan:1}}},winkoma:["bj"]}),r.getCollection("rule").insert({_id:22,abstract:"裸王と同じ配置だが、裸の王が獅子王に置き換わっている。獅子王は、１度に２回動かすことができる。（１回でも可）１回だけの場合は１回目着手時に右クリック。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[],[],[],[],[0,"aa"],[],[0,"ab"]],[[],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"bl"],[],[],[],[],[],[0,"aa"],[],[0,"ah"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"獅子王",players:[1,0],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}}},winkoma:["ah","bl"]}),r.getCollection("rule").insert({_id:23,abstract:"平手の配置で５五にコインがおかれている。コインは駒の動きとシンクロし、コインが他の駒に重なったり盤外に出てしまうような手は指せない。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[9,"bn"],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},name:"コイン将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Coin:{coin:"bn"}}}}),r.getCollection("rule").insert({_id:26,abstract:"真下のマスに味方の駒があった場合、その駒の動きになる。ない場合は普通の動き。初手に歩が成り込むのを防ぐため、飛車と角の前の歩は最初から１つ進んだ位置にある。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[],[1,"aa"],[],[0,"aa"],[],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[],[1,"aa"],[],[0,"aa"],[],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},name:"安南将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:"Annan"}}),r.getCollection("rule").insert({_id:27,abstract:"４人で時計回りに指す。ただし王手がかかった場合はかけられた人に手番が移る。最後まで詰まされなかった人の勝ち。裏王未実装。",extend:{$ref:"rule",$id:0},img:{height:48,width:48},init:{ban:[[[],[],[3,"ad"],[3,"ae"],[3,"ah"],[3,"ae"],[3,"ad"],[],[]],[[],[],[],[3,"aa"],[3,"ag"],[3,"aa"],[],[],[]],[[1,"ad"],[],[],[],[3,"aa"],[],[],[],[0,"ad"]],[[1,"ae"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ae"]],[[1,"ah"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ah"]],[[1,"ae"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ae"]],[[1,"ad"],[],[],[],[2,"aa"],[],[],[],[0,"ad"]],[[],[],[],[2,"aa"],[2,"ag"],[2,"aa"],[],[],[]],[[],[],[2,"ad"],[2,"ae"],[2,"ah"],[2,"ae"],[2,"ad"],[],[]]],mochigoma:[[],[]]},name:"四人将棋",noRoom:!0,players:[0,2,1,3],strategy:null,yonin:1}),r.getCollection("rule").insert({_id:28,abstract:"とれる駒があったら必ず取らなくてはならない。ただし、取る事で王が自殺してしまう場合は取らなくていい。",extend:{$ref:"rule",$id:0},name:"取る一手将棋",strategy:{CaptureControl:{Toruichi:!0},Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}}}}),r.getCollection("rule").insert({_id:30,abstract:"飛角金香を落とすが、上手の銀を取ることができない。ただし成銀なら取れる。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},komaochi:!0,name:"取らず銀",players:[1,0],strategy:{CaptureControl:{Torazu:[[1,"ad"]]}}}),r.getCollection("rule").insert({_id:31,abstract:"お互いに銀はとれない。ただし成銀なら取れる",extend:{$ref:"rule",$id:0},name:"相取らず銀",strategy:{CaptureControl:{Torazu:[[null,"ad"]]}}}),r.getCollection("rule").insert({_id:32,abstract:"斜めになっている。成れる位置は変則的なので未実装。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"bw"],[1,"bt"],[1,"bs"],[1,"br"],[1,"bq"],[],[],[],[]],[[1,"bt"],[],[],[1,"bu"],[1,"bp"],[1,"bp"],[],[],[]],[[1,"bs"],[],[],[1,"bp"],[1,"bp"],[],[],[],[]],[[1,"br"],[1,"bv"],[1,"bp"],[1,"bp"],[],[],[],[0,"bp"],[]],[[1,"bq"],[1,"bp"],[1,"bp"],[],[],[],[0,"bp"],[0,"bp"],[0,"bq"]],[[],[1,"bp"],[],[],[],[0,"bp"],[0,"bp"],[0,"bv"],[0,"br"]],[[],[],[],[],[0,"bp"],[0,"bp"],[],[],[0,"bs"]],[[],[],[],[0,"bp"],[0,"bp"],[0,"bu"],[],[],[0,"bt"]],[[],[],[],[],[0,"bq"],[0,"br"],[0,"bs"],[0,"bt"],[0,"bw"]]],mochigoma:[[],[]]},koma:["bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","ca","cb","cc"],name:"斜め将棋(成り未実装)",nari:{bp:"bx",bq:"by",br:"bz",bs:null,bu:"cb",bv:"cc",bw:null},refKoma:[{$ref:"koma",$id:n("4e48cbb94325a2633e000029")},{$ref:"koma",$id:n("4e48cbb94325a2633e00002a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00002b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00002c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00002e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00002f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000031")},{$ref:"koma",$id:n("4e48cbb94325a2633e000032")},{$ref:"koma",$id:n("4e48cbb94325a2633e000033")},{$ref:"koma",$id:n("4e48cbb94325a2633e000034")},{$ref:"koma",$id:n("4e48cbb94325a2633e000035")},{$ref:"koma",$id:n("4e48cbb94325a2633e000036")}],strategy:{Nifu:"Naname",Promotion:{Naname:{dan:6}}},winkoma:["bw"]}),r.getCollection("rule").insert({_id:34,abstract:"先に王手すれば勝ち。",extend:{$ref:"rule",$id:0},name:"王手将棋",strategy:{Judge:{Oute:{fatal:!0},Tsumi:{ignore:!0}}}}),r.getCollection("rule").insert({_id:35,abstract:"先に持ち駒を３枚にすれば勝ち",extend:{$ref:"rule",$id:0},name:"三枚目",strategy:{Judge:{Oute:{ignore:!0}},MochigomaControl:{WinThird:!0}}}),r.getCollection("rule").insert({_id:36,abstract:"取られた駒は初期位置のうち最も近い所に戻る。もしそこが埋まっていたら取った方の持ち駒になる。",extend:{$ref:"rule",$id:0},name:"キルケ",strategy:{Capture:{Kiruke:!0},Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}}}}),r.getCollection("rule").insert({_id:37,abstract:"角は反射して移動できる。",extend:{$ref:"rule",$id:0},iterator:{BanScan:{Reflect:[]}},name:"反射角",strategy:{Judge:{Oute:{ignore:!0}},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:38,abstract:"王将だけ１筋から９筋へ移動できる。（王将のみループ将棋適用）",extend:{$ref:"rule",$id:0},iterator:{BanScan:{Loop:{only:["ah"]}}},name:"フットワーク",strategy:{Judge:{Oute:{ignore:!0}}}}),r.getCollection("rule").insert({_id:40,abstract:"同士の駒（同じ駒）の利きがぶつかったらお互い動けない。",extend:{$ref:"rule",$id:0},name:"マドラシ",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveControl:{Madras:!0}}}),r.getCollection("rule").insert({_id:41,abstract:"１筋と９筋、１段目と９段目がつながっている。(要バランス調整)",extend:{$ref:"rule",$id:0},init:{ban:[[[],[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"],[]],[[],[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"],[]],[[],[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"],[]],[[],[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"],[]],[[],[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"],[]],[[],[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"],[]],[[],[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"],[]],[[],[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"],[]],[[],[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"],[]]],mochigoma:[[],[]]},iterator:{BanScan:{Donut:[]}},name:"ドーナツ将棋",size:[9,11],strategy:{Judge:{Oute:{ignore:!0}}}}),r.getCollection("rule").insert({_id:42,abstract:"味方の駒で敵の駒を縦・横・斜めに挟んだ場合、その敵の駒は味方の向きにかわる。 ",extend:{$ref:"rule",$id:0},name:"オセロ将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Othello:!0},Nifu:{Penalty:!0}}}),r.getCollection("rule").insert({_id:45,extend:{$ref:"rule",$id:44},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ch"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ah"],[1,"ci"],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[0,"aa"],[0,"ci"],[0,"ah"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ch"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},name:"京将棋(右京配置)",strategy:null}),r.getCollection("rule").insert({_id:48,abstract:"12x12。２１種類の駒がある。",init:{ban:[[[1,"ab"],[1,"cm"],[1,"cr"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"cr"],[0,"cm"],[0,"ab"]],[[1,"cl"],[],[1,"cs"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"cs"],[],[0,"cl"]],[[1,"ci"],[1,"af"],[1,"ag"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"ag"],[0,"af"],[0,"ci"]],[[1,"ad"],[],[1,"am"],[1,"aa"],[1,"cq"],[],[],[0,"cq"],[0,"aa"],[0,"am"],[],[0,"ad"]],[[1,"ae"],[1,"cn"],[1,"an"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"an"],[0,"cn"],[0,"ae"]],[[1,"ah"],[1,"co"],[1,"bl"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"ct"],[0,"cp"],[0,"cf"]],[[1,"cf"],[1,"cp"],[1,"ct"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"bl"],[0,"co"],[0,"ah"]],[[1,"ae"],[1,"cn"],[1,"an"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"an"],[0,"cn"],[0,"ae"]],[[1,"ad"],[],[1,"am"],[1,"aa"],[1,"cq"],[],[],[0,"cq"],[0,"aa"],[0,"am"],[],[0,"ad"]],[[1,"ci"],[1,"af"],[1,"ag"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"ag"],[0,"af"],[0,"ci"]],[[1,"cl"],[],[1,"cs"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"cs"],[],[0,"cl"]],[[1,"ab"],[1,"cm"],[1,"cr"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"cr"],[0,"cm"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ad","ae","af","ag","ah","ai","am","an","bl","cf","cg","ci","cl","cm","cn","co","cp","cq","cr","cs","ct","cu","cv","cw","cx","cy","cz","db","de","df","dg","dh","dj","dk","dl","dm"],name:"中将棋",nari:{aa:"ai",ab:"cu",ad:"de",ae:"ag",af:"dl",ag:"dm",ah:null,am:"cz",an:"db",bl:null,cf:"cg",ci:"df",cl:"dg",cm:"cv",cn:"cw",co:"dh",cp:"dj",cq:"dk",cr:"cx",cs:"cy",ct:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000025")},{$ref:"koma",$id:n("4e48cbb94325a2633e000039")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000040")},{$ref:"koma",$id:n("4e48cbb94325a2633e000041")},{$ref:"koma",$id:n("4e48cbb94325a2633e000042")},{$ref:"koma",$id:n("4e48cbb94325a2633e000043")},{$ref:"koma",$id:n("4e48cbb94325a2633e000044")},{$ref:"koma",$id:n("4e48cbb94325a2633e000045")},{$ref:"koma",$id:n("4e48cbb94325a2633e000046")},{$ref:"koma",$id:n("4e48cbb94325a2633e000047")},{$ref:"koma",$id:n("4e48cbb94325a2633e000048")},{$ref:"koma",$id:n("4e48cbb94325a2633e000049")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000052")},{$ref:"koma",$id:n("4e48cbb94325a2633e000053")},{$ref:"koma",$id:n("4e48cbb94325a2633e000054")},{$ref:"koma",$id:n("4e48cbb94325a2633e000055")},{$ref:"koma",$id:n("4e48cbb94325a2633e000057")},{$ref:"koma",$id:n("4e48cbb94325a2633e000058")},{$ref:"koma",$id:n("4e48cbb94325a2633e000059")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005a")}],size:[12,12],strategy:{CaptureControl:{Shishi:!0},Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},Promotion:{Normal:{dan:4}}},winkoma:["ah","cg"]}),r.getCollection("rule").insert({_id:49,abstract:"15x15。29種類の駒がある。",img:{height:38,width:34},init:{ban:[[[1,"ab"],[1,"cm"],[],[1,"ag"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ag"],[],[0,"cm"],[0,"ab"]],[[1,"ac"],[],[1,"du"],[1,"dv"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"dv"],[0,"du"],[],[0,"ac"]],[[1,"dq"],[1,"dt"],[],[1,"cr"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cr"],[],[0,"dt"],[0,"dq"]],[[1,"dp"],[],[1,"ds"],[1,"cs"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"ds"],[],[0,"dp"]],[[1,"ci"],[1,"cl"],[],[1,"af"],[1,"aa"],[1,"cq"],[],[],[],[0,"cq"],[0,"aa"],[0,"af"],[],[0,"cl"],[0,"ci"]],[[1,"ad"],[],[1,"dr"],[1,"am"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"am"],[0,"dr"],[],[0,"ad"]],[[1,"ae"],[1,"cn"],[1,"co"],[1,"an"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"an"],[0,"cp"],[0,"cn"],[0,"ae"]],[[1,"ah"],[1,"cf"],[1,"bl"],[1,"ct"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ct"],[0,"bl"],[0,"cf"],[0,"ah"]],[[1,"ae"],[1,"cn"],[1,"cp"],[1,"an"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"an"],[0,"co"],[0,"cn"],[0,"ae"]],[[1,"ad"],[],[1,"dr"],[1,"am"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"am"],[0,"dr"],[],[0,"ad"]],[[1,"ci"],[1,"cl"],[],[1,"af"],[1,"aa"],[1,"cq"],[],[],[],[0,"cq"],[0,"aa"],[0,"af"],[],[0,"cl"],[0,"ci"]],[[1,"dp"],[],[1,"ds"],[1,"cs"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"ds"],[],[0,"dp"]],[[1,"dq"],[1,"dt"],[],[1,"cr"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cr"],[],[0,"dt"],[0,"dq"]],[[1,"ac"],[],[1,"du"],[1,"dv"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"dv"],[0,"du"],[],[0,"ac"]],[[1,"ab"],[1,"cm"],[],[1,"ag"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ag"],[],[0,"cm"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","am","an","bl","cf","cg","ci","cl","cm","cn","co","cp","cq","cr","cs","ct","cu","cv","cw","cx","cy","cz","db","de","df","dg","dh","dj","dk","dl","dm","do","dp","dq","dr","ds","dt","du","dv"],name:"大将棋",nari:{aa:"ai",ab:"cu",ac:"do",ad:"de",ae:"ag",af:"dl",ag:"dm",ah:null,am:"cz",an:"db",bl:null,cf:"cg",ci:"df",cl:"dg",cm:"cv",cn:"cw",co:"dh",cp:"dj",cq:"dk",cr:"cx",cs:"cy",ct:null,dp:"do",dq:"do",dr:"do",ds:"do",dt:"do",du:"do",dv:"do"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000025")},{$ref:"koma",$id:n("4e48cbb94325a2633e000039")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000040")},{$ref:"koma",$id:n("4e48cbb94325a2633e000041")},{$ref:"koma",$id:n("4e48cbb94325a2633e000042")},{$ref:"koma",$id:n("4e48cbb94325a2633e000043")},{$ref:"koma",$id:n("4e48cbb94325a2633e000044")},{$ref:"koma",$id:n("4e48cbb94325a2633e000045")},{$ref:"koma",$id:n("4e48cbb94325a2633e000046")},{$ref:"koma",$id:n("4e48cbb94325a2633e000047")},{$ref:"koma",$id:n("4e48cbb94325a2633e000048")},{$ref:"koma",$id:n("4e48cbb94325a2633e000049")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000052")},{$ref:"koma",$id:n("4e48cbb94325a2633e000053")},{$ref:"koma",$id:n("4e48cbb94325a2633e000054")},{$ref:"koma",$id:n("4e48cbb94325a2633e000055")},{$ref:"koma",$id:n("4e48cbb94325a2633e000057")},{$ref:"koma",$id:n("4e48cbb94325a2633e000058")},{$ref:"koma",$id:n("4e48cbb94325a2633e000059")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000060")},{$ref:"koma",$id:n("4e48cbb94325a2633e000061")},{$ref:"koma",$id:n("4e48cbb94325a2633e000062")},{$ref:"koma",$id:n("4e48cbb94325a2633e000063")}],size:[15,15],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},Promotion:{Normal:{dan:5}}},winkoma:["ah","cg"]}),r.getCollection("rule").insert({_id:50,abstract:"11x11。17種類の駒がある。",init:{ban:[[[1,"eg"],[],[1,"em"],[],[],[],[],[],[0,"em"],[],[0,"dx"]],[[1,"ef"],[1,"ej"],[1,"em"],[],[],[],[],[],[0,"em"],[0,"eh"],[0,"dy"]],[[1,"ee"],[],[1,"em"],[],[],[],[],[],[0,"em"],[],[0,"dz"]],[[1,"ed"],[],[1,"el"],[1,"em"],[],[],[],[0,"em"],[0,"ek"],[],[0,"ea"]],[[1,"ec"],[],[1,"em"],[],[],[],[],[],[0,"em"],[],[0,"eb"]],[[1,"dw"],[1,"ei"],[1,"em"],[],[],[],[],[],[0,"em"],[0,"ei"],[0,"dw"]],[[1,"eb"],[],[1,"em"],[],[],[],[],[],[0,"em"],[],[0,"ec"]],[[1,"ea"],[],[1,"ek"],[1,"em"],[],[],[],[0,"em"],[0,"el"],[],[0,"ed"]],[[1,"dz"],[],[1,"em"],[],[],[],[],[],[0,"em"],[],[0,"ee"]],[[1,"dy"],[1,"eh"],[1,"em"],[],[],[],[],[],[0,"em"],[0,"ej"],[0,"ef"]],[[1,"dx"],[],[1,"em"],[],[],[],[],[],[0,"em"],[],[0,"eg"]]],mochigoma:[[],[]]},koma:["dw","dx","dy","dz","ea","eb","ec","ed","ee","ef","eg","eh","ei","ej","ek","el","em","en","eo","ep","eq","er","es","et","eu","ev","ew","ex","ey","ez","fa"],name:"和将棋",nari:{dw:null,dx:"en",dy:"eo",dz:"ep",ea:"eq",eb:"er",ec:"es",ed:"et",ee:"eu",ef:"ev",eg:"ew",eh:null,ei:"ex",ej:"ey",ek:"ez",el:null,em:"fa"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48cbb94325a2633e000064")},{$ref:"koma",$id:n("4e48cbb94325a2633e000065")},{$ref:"koma",$id:n("4e48cbb94325a2633e000066")},{$ref:"koma",$id:n("4e48cbb94325a2633e000067")},{$ref:"koma",$id:n("4e48cbb94325a2633e000068")},{$ref:"koma",$id:n("4e48cbb94325a2633e000069")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000070")},{$ref:"koma",$id:n("4e48cbb94325a2633e000071")},{$ref:"koma",$id:n("4e48cbb94325a2633e000072")},{$ref:"koma",$id:n("4e48cbb94325a2633e000073")},{$ref:"koma",$id:n("4e48cbb94325a2633e000074")},{$ref:"koma",$id:n("4e48cbb94325a2633e000075")},{$ref:"koma",$id:n("4e48cbb94325a2633e000076")},{$ref:"koma",$id:n("4e48cbb94325a2633e000077")},{$ref:"koma",$id:n("4e48cbb94325a2633e000078")},{$ref:"koma",$id:n("4e48cbb94325a2633e000079")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000080")},{$ref:"koma",$id:n("4e48cbb94325a2633e000081")},{$ref:"koma",$id:n("4e48cbb94325a2633e000082")}],size:[11,11],strategy:{MochigomaIO:{NoUse:!0}},winkoma:["dw"]}),r.getCollection("rule").insert({_id:53,abstract:"持ち駒が５枚に達すると負け。",extend:{$ref:"rule",$id:0},name:"資本還元将棋",strategy:{MochigomaControl:{LoseFifth:!0}}}),r.getCollection("rule").insert({_id:54,abstract:"持ち駒を使わない将棋。",extend:{$ref:"rule",$id:0},name:"持ち駒不使用将棋",strategy:{MochigomaIO:{NoUse:!0}}}),r.getCollection("rule").insert({_id:55,abstract:"真上のマスに味方の駒があった場合、その駒の動きになる。ない場合は普通の動き。",extend:{$ref:"rule",$id:0},name:"安北将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Anhoku:!0}}}),r.getCollection("rule").insert({_id:65,abstract:"本将棋の歩を仲人に置き換えたもの。",init:{ban:[[[1,"ab"],[],[1,"cq"],[],[],[],[0,"cq"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"cq"],[],[],[],[0,"cq"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"cq"],[],[],[],[0,"cq"],[],[0,"ad"]],[[1,"ae"],[],[1,"cq"],[],[],[],[0,"cq"],[],[0,"ae"]],[[1,"ah"],[],[1,"cq"],[],[],[],[0,"cq"],[],[0,"ah"]],[[1,"ae"],[],[1,"cq"],[],[],[],[0,"cq"],[],[0,"ae"]],[[1,"ad"],[],[1,"cq"],[],[],[],[0,"cq"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"cq"],[],[],[],[0,"cq"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"cq"],[],[],[],[0,"cq"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","cq"],name:"仲人将棋",nari:{ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null,cq:"ai"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000044")}],size:[9,9],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:66,abstract:"同じ駒を何手も動かせる。ただし、駒取りや成りは１手目のみ可能。",extend:{$ref:"rule",$id:0},name:"スピード将棋",strategy:{Judge:{Oute:{ignore:!0}},CaptureControl:{Speed:!0},MoveControl:{Same:!0},Promotion:{Speed:!0},TebanRotation:{Speed:!0}}}),r.getCollection("rule").insert({_id:67,abstract:"ある駒の利きに味方の駒がある場合、元の駒がその駒の利きに移動できる(=連鎖)。再帰的に連鎖することも可能。最低１回は連鎖しなくてはならない。",extend:{$ref:"rule",$id:0},name:"連鎖移動将棋",noRoom:!0,rensa:1,strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}}}}),r.getCollection("rule").insert({_id:68,abstract:"安南と連鎖移動を同時に適用。つまり、ある駒の利きに味方の駒がある場合、元の駒がその駒の利きにも移動できる(=連鎖)。再帰的に連鎖することも可能。最低１回は連鎖しなくてはならない。また、ある駒の真後ろに味方の駒があった場合、その種類の駒の動きになる。",extend:{$ref:"rule",$id:0},name:"安南連鎖移動将棋",noRoom:!0,rensa:1,strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Annan:!0}}}),r.getCollection("rule").insert({_id:71,abstract:"敵味方関わらず駒が縦に複数並んだとき、上からn番目の駒の性能が下からn番目の駒の性能になる。",extend:{$ref:"rule",$id:0},name:"ネコネコ鮮将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Nekonekosen:!0},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:72,abstract:"敵味方の駒が目の前に向かい合ったとき、性能がいれかわる。",extend:{$ref:"rule",$id:0},name:"対面将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Taimen:!0},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:74,abstract:"敵の駒が真後ろにあったとき、互いの性能がいれかわる。",extend:{$ref:"rule",$id:0},name:"背面将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Haimen:!0},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:88,abstract:"後方に下がるような手を指すことができない将棋。",extend:{$ref:"rule",$id:0},name:"突撃将棋",strategy:{Judge:{Oute:{ignore:!0}},MoveFilter:{Dash:!0}}}),r.getCollection("rule").insert({_id:89,abstract:"７目並べ。ただし、相手の石を囲むと取り去ることができる、コウ禁止、自殺手禁止など囲碁のルールを受け継ぐ。ただし自殺手で７目並ぶ場合は合法手となる。",css:"igo",img:{height:30,width:30},init:{ban:[[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]],mochigoma:[[],[]]},name:"囲連星",nari:[],noreverse:"koma",players:[0,1],refKoma:[{$ref:"koma",$id:n("4e490b014325a21249000059")}],size:[19,19],strategy:{Judge:{Gomoku:{moku:7}},MochigomaIO:{Infinity:{autoput:!0}},MoveControl:{Igo:!0},MoveEffect:{Igo:!0}}}),r.getCollection("rule").insert({_id:91,abstract:"広い。",init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an"],name:"広い将棋",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")}],size:[11,11],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:92,abstract:"王以外飛車。",init:{ban:[[[1,"ag"],[],[1,"ag"],[],[],[],[0,"ag"],[],[0,"ag"]],[[1,"ag"],[1,"ag"],[1,"ag"],[],[],[],[0,"ag"],[0,"ag"],[0,"ag"]],[[1,"ag"],[],[1,"ag"],[],[],[],[0,"ag"],[],[0,"ag"]],[[1,"ag"],[],[1,"ag"],[],[],[],[0,"ag"],[],[0,"ag"]],[[1,"ah"],[],[1,"ag"],[],[],[],[0,"ag"],[],[0,"ah"]],[[1,"ag"],[],[1,"ag"],[],[],[],[0,"ag"],[],[0,"ag"]],[[1,"ag"],[],[1,"ag"],[],[],[],[0,"ag"],[],[0,"ag"]],[[1,"ag"],[1,"ag"],[1,"ag"],[],[],[],[0,"ag"],[0,"ag"],[0,"ag"]],[[1,"ag"],[],[1,"ag"],[],[],[],[0,"ag"],[],[0,"ag"]]],mochigoma:[[],[]]},koma:["ag","ah","an"],name:"飛車将棋",nari:{ag:"an",ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")}],size:[9,9],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:94,abstract:"駒に対して八方桂の位置にある駒全ての種類の動きができる．",extend:{$ref:"rule",$id:0},name:"安騎将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Anki:!0}}}),r.getCollection("rule").insert({_id:95,abstract:"左右のマスに味方の駒があった場合、その駒の動きになる。どちらにもない場合は普通の動き。",extend:{$ref:"rule",$id:0},name:"安東西将棋",strategy:{Judge:{Oute:{ignore:!0}},KomaSuggest:{Antouzai:!0}}}),r.getCollection("rule").insert({_id:96,abstract:"5x6で、王金銀歩の４種類の駒を使う将棋。2段目で成れる。",init:{ban:[[[1,"ad"],[],[],[],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[],[],[],[0,"ad"]]],mochigoma:[[],[]]},koma:["aa","ad","ae","ah","ai","al"],name:"ゴロゴロ将棋",nari:{aa:"ai",ad:"al",ae:null,ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")}],size:[5,6],strategy:{Promotion:{Normal:{dan:2}}},winkoma:["ah"]}),r.getCollection("rule").insert({_id:97,abstract:"5x6で、王金銀歩の４種類の駒を使うゴロゴロ将棋に、桂香の持ち駒を追加したもの。2段目で成れる。",init:{ban:[[[1,"ad"],[],[],[],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[],[],[],[0,"ad"]]],mochigoma:[{ab:1,ac:1},{ab:1,ac:1}]},koma:["aa","ab","ac","ad","ae","ah","ai","aj","ak","al"],name:"ゴロゴロ将棋+桂香",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")}],size:[5,6],strategy:{Promotion:{Normal:{dan:2}}},winkoma:["ah"]}),r.getCollection("rule").insert({_id:98,abstract:"4x5、王角金銀歩の４種類の駒を使う将棋。駒をとったら成り、歩は桂、銀は香、金は飛、角はと金に成る。打ち歩詰めは可能。五分摩訶将棋とも呼ばれる。",init:{ban:[[[1,"ad"],[],[],[0,"aa"],[0,"ah"]],[[1,"ae"],[],[],[],[0,"af"]],[[1,"af"],[],[],[],[0,"ae"]],[[1,"ah"],[1,"aa"],[],[],[0,"ad"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai"],name:"マイクロ将棋",nari:{aa:"ac",ad:"ab",ae:"ag",af:"ai",ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")}],size:[4,5],strategy:{Judge:{Tsumi:{uchifu:!0}},MochigomaIO:{BothFace:!0},Nifu:{No:!0},Promotion:{Capture:{must:!0,reversible:!0}}},winkoma:["ah"]}),r.getCollection("rule").insert({_id:99,abstract:"中国将棋とも呼ばれる。4〜6筋の手前3段目は宮であり、仕と師はそこから出られない。5段目と6段目の間には河があり、相は越えられず、兵は越えると成る。 (盤面への宮や河の表示は，駒の交点配置に対応し次第行います)",init:{ban:[[[1,"yv"],[],[],[1,"yx"],[],[],[0,"yx"],[],[],[0,"yv"]],[[1,"yt"],[],[1,"yw"],[],[],[],[],[0,"yw"],[],[0,"yt"]],[[1,"yu"],[],[],[1,"yx"],[],[],[0,"yx"],[],[],[0,"yu"]],[[1,"ys"],[],[],[],[],[],[],[],[],[0,"ys"]],[[1,"yr"],[],[],[1,"yx"],[],[],[0,"yx"],[],[],[0,"yr"]],[[1,"ys"],[],[],[],[],[],[],[],[],[0,"ys"]],[[1,"yu"],[],[],[1,"yx"],[],[],[0,"yx"],[],[],[0,"yu"]],[[1,"yt"],[],[1,"yw"],[],[],[],[],[0,"yw"],[],[0,"yt"]],[[1,"yv"],[],[],[1,"yx"],[],[],[0,"yx"],[],[],[0,"yv"]]],mochigoma:[[],[]]},koma:["yr","ys","yt","yu","yv","yw","yx","yy"],name:"シャンチー",nari:{yr:null,ys:null,yt:null,yu:null,yv:null,yw:null,yx:"yy"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48d3224325a21149000197")},{$ref:"koma",$id:n("4e48d3224325a21149000198")},{$ref:"koma",$id:n("4e48d3224325a21149000199")},{$ref:"koma",$id:n("4e48d3224325a2114900019a")},{$ref:"koma",$id:n("4e48d3224325a2114900019b")},{$ref:"koma",$id:n("4e48d3224325a2114900019c")},{$ref:"koma",$id:n("4e48d3224325a2114900019d")},{$ref:"koma",$id:n("4e48d3224325a2114900019e")}],size:[9,10],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},MoveControl:{NoTaimen:{species:["yr"]}},MoveFilter:{Restricted:{place:[{species:["yr","ys"],min:{x:4,y:8},max:{x:6,y:10}},{species:["yu"],min:{x:1,y:6},max:{x:9,y:10}}]}},Promotion:{Normal:{must:!0,dan:5}}},winkoma:["yr"]}),r.getCollection("rule").insert({_id:101,abstract:"@yon_ichiroさんの案1つ目。原図: http://twitpic.com/5hpf5n 自分から見て左2つの筋の手前3段目は宮であり、仕と師はそこから出られない。3段目と4段目の間には河があり、相は越えられず、兵は越えると成る。",init:{ban:[[[1,"yr"],[1,"ys"],[1,"yu"],[],[],[0,"yt"]],[[],[],[1,"yx"],[],[],[0,"yw"]],[[],[],[],[],[],[]],[[1,"yw"],[],[],[0,"yx"],[],[]],[[1,"yt"],[],[],[0,"yu"],[0,"ys"],[0,"yr"]]],mochigoma:[[],[]]},koma:["yr","ys","yt","yu","yw","yx","yy"],name:"ミニシャンチー2(仮)",nari:{yr:null,ys:null,yt:null,yu:null,yw:null,yx:"yy"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48d3224325a21149000197")},{$ref:"koma",$id:n("4e48d3224325a21149000198")},{$ref:"koma",$id:n("4e48d3224325a21149000199")},{$ref:"koma",$id:n("4e48d3224325a2114900019a")},{$ref:"koma",$id:n("4e48d3224325a2114900019c")},{$ref:"koma",$id:n("4e48d3224325a2114900019d")},{$ref:"koma",$id:n("4e48d3224325a2114900019e")}],size:[5,6],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},MoveControl:{NoTaimen:{species:["yr"]}},MoveFilter:{Restricted:{place:[{species:["yr","ys"],min:{x:4,y:4},max:{x:5,y:6}},{species:["yu"],min:{x:1,y:4},max:{x:5,y:6}}]}},Promotion:{Normal:{must:!0}}},winkoma:["yr"]}),r.getCollection("rule").insert({_id:104,abstract:"囲碁は石を無限に打て，囲むと相手の駒を取れる．取った駒を使える．取った駒を使って囲むこともできる．将棋は囲碁側に四方を囲まれた地点へ移動することができない．",init:{ban:[[[1,"yn"],[],[1,"yn"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"yn"],[1,"yn"],[1,"yn"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"yn"],[],[1,"yn"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"yn"],[],[1,"yn"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"yn"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"yn"],[],[1,"yn"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"yn"],[],[1,"yn"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"yn"],[1,"yn"],[1,"yn"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"yn"],[],[1,"yn"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],{yn:1}]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","yn"],name:"将棋対囲碁",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null,yn:null},override:0,players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")}],size:[9,9],strategy:{Judge:{Tsumi:{ignore:!0},Oute:{ignore:!0}},MochigomaIO:{Infinity:{species:"yn",common:{directions:[1]}},Normal:{common:{directions:[0]}}},MoveControl:{Igo:{common:{directions:[0]}},Normal:{common:{directions:[1]}}},MoveEffect:{FlipPut:{species:"yn",common:{directions:[0]}},Igo:{common:{directions:[1]}}}},winkoma:["ah"]}),r.getCollection("rule").insert({_id:105,abstract:"縦横で挟んだらとれる。複数も可。端で敵駒を動けないように囲んでもとれる。相手の駒を４枚以下にしたら勝ち。",init:{ban:[[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]],[[1,"ce"],[],[],[],[],[],[],[],[0,"cd"]]],mochigoma:[[],[]]},koma:["cd","ce"],name:"はさみ天秤端落とし",nari:{cd:null,ce:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48cbb94325a2633e000037")},{$ref:"koma",$id:n("4e48cbb94325a2633e000038")}],size:[9,9],strategy:{Judge:{Count:{lte:4}},MoveEffect:{HasamiTenbinHashiotoshi:!0}}}),r.getCollection("rule").insert({_id:106,abstract:"前後左右に敵駒がいると接着して同時に動く。接着した駒が他の駒と重なるように動くことは出来ない。",eatfriend:!0,extend:{$ref:"rule",$id:0},iterator:{BanScan:{Epoxy:!0}},name:"エポキシ将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Epoxy:{fatal:!0}},Nifu:{Whole:[]}}}),r.getCollection("rule").insert({_id:69,abstract:"駒を取った駒は初期位置のうち最も近い所に戻る。もしそこが埋まっていたら戻らずにそのままとなる",extend:{$ref:"rule",$id:0},name:"アンチキルケ",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Antikiruke:[]}}}),r.getCollection("rule").insert({_id:108,abstract:"駒が量子状態にある。すなわち、最初にあらゆる種類の駒である可能性を持っており、移動するたびにあり得ない駒が除かれ種類が定まっていく。枚数配分は先手後手それぞれ本将棋と同じ。駒を取るとその駒が王である可能性が排除される。王に確定した駒をとれば勝ち。二歩・王手放置は許可。",init:{ban:[[[1,"ff"],[],[1,"ff"],[],[],[],[0,"ff"],[],[0,"ff"]],[[1,"ff"],[1,"ff"],[1,"ff"],[],[],[],[0,"ff"],[0,"ff"],[0,"ff"]],[[1,"ff"],[],[1,"ff"],[],[],[],[0,"ff"],[],[0,"ff"]],[[1,"ff"],[],[1,"ff"],[],[],[],[0,"ff"],[],[0,"ff"]],[[1,"ff"],[],[1,"ff"],[],[],[],[0,"ff"],[],[0,"ff"]],[[1,"ff"],[],[1,"ff"],[],[],[],[0,"ff"],[],[0,"ff"]],[[1,"ff"],[],[1,"ff"],[],[],[],[0,"ff"],[],[0,"ff"]],[[1,"ff"],[1,"ff"],[1,"ff"],[],[],[],[0,"ff"],[0,"ff"],[0,"ff"]],[[1,"ff"],[],[1,"ff"],[],[],[],[0,"ff"],[],[0,"ff"]]],mochigoma:[[],[]]},js:"quantum",koma:["ff","fg"],name:"量子将棋",nari:{ff:"fg"},players:[0,1],rewriteall:!0,size:[9,9],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Quantum:{hoge:1}},MoveEffect:{Quantum:{hoge:1}}}}),r.getCollection("rule").insert({_id:109,abstract:"歩を取り除いた普通の将棋。将棋の入門用に良いとされるルール。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[],[],[],[],[],[],[0,"ab"]],[[1,"ac"],[1,"af"],[],[],[],[],[],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[],[],[],[],[],[],[0,"ad"]],[[1,"ae"],[],[],[],[],[],[],[],[0,"ae"]],[[1,"ah"],[],[],[],[],[],[],[],[0,"ah"]],[[1,"ae"],[],[],[],[],[],[],[],[0,"ae"]],[[1,"ad"],[],[],[],[],[],[],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[],[],[],[],[],[0,"af"],[0,"ac"]],[[1,"ab"],[],[],[],[],[],[],[],[0,"ab"]]],mochigoma:[[],[]]},name:"歩なし将棋"}),r.getCollection("rule").insert({_id:111,abstract:"成れない将棋。",extend:{$ref:"rule",$id:0},nari:{aa:null,ab:null,ac:null,ad:null,ae:null,af:null,ag:null,ah:null},name:"不成将棋"}),r.getCollection("rule").insert({_id:110,abstract:"(調整中)",extend:{$ref:"rule",$id:0},noRoom:!0,name:"(調整中)"}),r.getCollection("rule").insert({_id:0,abstract:"普通の将棋。",init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an"],name:"本将棋(平手)",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")}],size:[9,9],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:1,abstract:"普通の将棋から、上手側の左の香車を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(香落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:4,abstract:"普通の将棋から、上手側の飛車と左の香車を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(飛車香落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:7,abstract:"普通の将棋から、上手側の飛車・角を１枚ずつ、香・桂を２枚ずつ（＝六枚）を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(六枚落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:8,abstract:"普通の将棋から、上手側の飛車・角を１枚ずつ、香・桂・銀を２枚ずつ（＝八枚）を落としたもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(八枚落ち)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:10,abstract:"上手側は王将のみで、持ち駒が歩三枚。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[],[],[],[],[0,"aa"],[],[0,"ab"]],[[],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[],[],[],[],[0,"aa"],[],[0,"ah"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],{aa:3}]},komaochi:!0,name:"本将棋(歩三兵)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:11,abstract:"上手側は王将のみ。十九枚落ちともいう。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[],[],[],[],[0,"aa"],[],[0,"ab"]],[[],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[],[],[],[],[0,"aa"],[],[0,"ah"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[],[],[],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[],[],[],[],[0,"aa"],[],[0,"ab"]]]},komaochi:!0,name:"本将棋(裸王)",players:[1,0],strategy:null}),r.getCollection("rule").insert({_id:12,abstract:"平安時代に指された将棋。いくつか説があるなかで盤を8x8と想定したもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ah"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ae"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ad"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","ah"],name:"平安将棋(8x8)",nari:{aa:"ae",ab:"ae",ac:"ae",ad:"ae",ae:null,ah:null},refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")}],size:[8,8],strategy:{MochigomaIO:{NoUse:!0}}}),r.getCollection("rule").insert({_id:13,abstract:"平安時代に指された将棋。いくつか説があるなかで盤を9x8と想定したもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","ah"],name:"平安将棋(9x8)",nari:{aa:"ae",ab:"ae",ac:"ae",ad:"ae",ae:null,ah:null},refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")}],size:[9,8],strategy:{MochigomaIO:{NoUse:!0}}}),r.getCollection("rule").insert({_id:14,abstract:"平安時代に指された将棋。いくつか説があるなかで盤を9x9と想定したもの。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","ah"],name:"平安将棋(9x9)",nari:{aa:"ae",ab:"ae",ac:"ae",ad:"ae",ae:null,ah:null},refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")}],size:[9,9],strategy:{MochigomaIO:{NoUse:!0}}}),r.getCollection("rule").insert({_id:15,abstract:"13x13。平安時代に指された将棋。現代の本将棋にはない駒もいくつか見られる。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[1,"at"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"at"],[0,"ab"]],[[1,"ac"],[1,"as"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"as"],[0,"ac"]],[[1,"ap"],[],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[],[0,"ap"]],[[1,"ao"],[],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[],[0,"ao"]],[[1,"ad"],[1,"ar"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"ar"],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[1,"aq"],[1,"aa"],[1,"au"],[],[],[],[],[],[0,"au"],[0,"aa"],[0,"aq"],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[1,"ar"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"ar"],[0,"ad"]],[[1,"ao"],[],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[],[0,"ao"]],[[1,"ap"],[],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[],[0,"ap"]],[[1,"ac"],[1,"as"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"as"],[0,"ac"]],[[1,"ab"],[1,"at"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"at"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au"],name:"平安大将棋",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null,ao:"ae",ap:"ae",aq:"ae",ar:"ae",as:"ae",at:"ae",au:"ae"},refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000e")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000f")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000010")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000011")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000012")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000013")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000014")}],size:[13,13],strategy:{MochigomaIO:{NoUse:!0}}}),r.getCollection("rule").insert({_id:18,abstract:"１手指すごとに、横に重力がかかったように駒が横にすべる。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ab"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},name:"重力将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Gravity:!0},Nifu:{No:!0}}}),r.getCollection("rule").insert({_id:19,abstract:"京都銀閣金鶏秘譜将棋ともいう。香と　銀角　金桂　飛歩　がそれぞれ裏表になっている（それが名前の由来でもある）。駒は１手動かすごとに裏返る。",init:{ban:[[[1,"ai"],[],[],[],[0,"aa"]],[[1,"ad"],[],[],[],[0,"ae"]],[[1,"ah"],[],[],[],[0,"ah"]],[[1,"ae"],[],[],[],[0,"ad"]],[[1,"aa"],[],[],[],[0,"ai"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai"],name:"京都銀閣将棋",nari:{aa:"ag",ad:"af",ae:"ac",ah:null,ai:"ab"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")}],size:[5,5],strategy:{Judge:{Oute:{ignore:!0}},MochigomaIO:{BothFace:!0},Nifu:{No:!0},Promotion:{All:{reversible:!0,illegal:!0}}},winkoma:["ah"]}),r.getCollection("rule").insert({_id:20,abstract:"４枚落ちで、上手の側の桂馬が八方桂（４方向８カ所の桂馬の動き＝チェスのナイトの動きをする駒）になっている。",extend:{$ref:"rule",$id:0},init:{ban:[[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"be"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"be"],[],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},koma:["aa","ab","ac","ad","af","ag","ai","aj","ak","al","am","an","be","bf"],komaochi:!0,name:"八方桂",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",af:"am",ag:"an",be:"bf"},players:[1,0],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001f")}],strategy:{Judge:{Oute:{ignore:!0}},MochigomaIO:{Exchange:[{ac:"be"},{be:"ac"}]}}}),r.getCollection("rule").insert({_id:21,abstract:"形は平手で、すべての桂馬が八方桂になっている。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"be"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"be"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"be"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"be"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]]},koma:["aa","ab","ac","ad","af","ag","ai","aj","ak","al","am","an","be","bf"],name:"相八方桂",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",af:"am",ag:"an",be:"bf"},refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00001f")}],strategy:{Judge:{Oute:{ignore:!0}}}}),r.getCollection("rule").insert({_id:25,abstract:"２手ずつ指す。ただし最初の先手のみ１手だけ。１手目に王手、２手目に王将をとってもよい。",extend:{$ref:"rule",$id:0},name:"二手指し将棋",players:[0,1,1,0],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}}}}),r.getCollection("rule").insert({_id:29,abstract:"相手の利きがある駒は金縛りに遭い動けなくなる。",extend:{$ref:"rule",$id:0},name:"金縛り将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveControl:{Freeze:!0}}}),r.getCollection("rule").insert({_id:33,abstract:"１筋と９筋がつながっている。",extend:{$ref:"rule",$id:0},iterator:{BanScan:{Loop:[]}},name:"ループ将棋",strategy:{Judge:{Oute:{ignore:!0}}}}),r.getCollection("rule").insert({_id:43,abstract:"普通の将棋の王将の１つ上に酔象をおいて持ち駒再使用不可にしたもの。",init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[1,"cf"],[1,"aa"],[],[],[],[0,"aa"],[0,"cf"],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","cf","cg"],name:"小将棋",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null,cf:"cg"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000039")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003a")}],size:[9,9],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0}},winkoma:["ah","cg"]}),r.getCollection("rule").insert({_id:44,abstract:"マスを10x10にし京翔、銅将を追加したもの。",init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[1,"af"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ch"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[0,"aa"],[0,"ci"],[0,"ah"]],[[1,"ah"],[1,"ci"],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ae"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ad"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ch"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[],[0,"aa"],[0,"af"],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ch","ci","cj","ck"],name:"京将棋(左京配置)",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null,ch:"cj",ci:"ck"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003e")}],size:[10,10],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:46,abstract:"普通の将棋の片方の桂馬を京翔に置き換えたもの。",init:{ban:[[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]],[[1,"ch"],[1,"af"],[1,"aa"],[],[],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[],[],[0,"aa"],[0,"af"],[0,"ch"]],[[1,"ab"],[],[1,"aa"],[],[],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ch","cj"],name:"小京将棋(左京配置)",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null,ch:"cj"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003d")}],size:[9,9],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:51,abstract:"5x5。1段目で成れる。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ah"],[1,"aa"],[],[],[0,"ag"]],[[1,"ae"],[],[],[],[0,"af"]],[[1,"ad"],[],[],[],[0,"ad"]],[[1,"af"],[],[],[],[0,"ae"]],[[1,"ag"],[],[],[0,"aa"],[0,"ah"]]],mochigoma:[[],[]]},name:"5五将棋",size:[5,5],strategy:{Promotion:{Normal:{dan:1}}}}),r.getCollection("rule").insert({_id:52,abstract:"6x6。2段目で成れる。",extend:{$ref:"rule",$id:0},init:{ban:[[[1,"ah"],[1,"aa"],[],[],[],[0,"ag"]],[[1,"ae"],[],[],[],[],[0,"af"]],[[1,"ad"],[],[],[],[],[0,"ac"]],[[1,"ac"],[],[],[],[],[0,"ad"]],[[1,"af"],[],[],[],[],[0,"ae"]],[[1,"ag"],[],[],[],[0,"aa"],[0,"ah"]]],mochigoma:[[],[]]},name:"6六将棋",size:[6,6],strategy:{Promotion:{Normal:{dan:2}}}}),r.getCollection("rule").insert({_id:57,abstract:"先手と後手で持ち駒を共有する。",extend:{$ref:"rule",$id:0},name:"みんなの広場",strategy:{MochigomaIO:{Share:!0}}}),r.getCollection("rule").insert({_id:59,abstract:"16x16。36種類の駒がある。",img:{height:38,width:34},init:{ban:[[[1,"ab"],[1,"cm"],[1,"fj"],[1,"cr"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"fj"],[0,"cm"],[0,"ab"]],[[1,"ac"],[],[1,"fi"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"fi"],[],[0,"ac"]],[[1,"cl"],[1,"fb"],[1,"af"],[1,"ag"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"af"],[0,"fb"],[0,"cl"]],[[1,"dp"],[1,"fb"],[1,"am"],[1,"cz"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"cz"],[0,"am"],[0,"fb"],[0,"dp"]],[[1,"ci"],[],[1,"an"],[1,"db"],[1,"aa"],[1,"fo"],[],[],[],[],[0,"fo"],[0,"aa"],[0,"db"],[0,"an"],[],[0,"ci"]],[[1,"ad"],[1,"cn"],[1,"fh"],[1,"fn"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"fn"],[0,"fh"],[0,"cn"],[0,"ad"]],[[1,"ae"],[1,"co"],[1,"fe"],[1,"fm"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"fm"],[0,"fe"],[0,"cp"],[0,"ae"]],[[1,"ah"],[1,"bl"],[1,"fc"],[1,"fk"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"fl"],[0,"fd"],[0,"ct"],[0,"cf"]],[[1,"cf"],[1,"ct"],[1,"fd"],[1,"fl"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"fk"],[0,"fc"],[0,"bl"],[0,"ah"]],[[1,"ae"],[1,"cp"],[1,"fe"],[1,"fm"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"fm"],[0,"fe"],[0,"co"],[0,"ae"]],[[1,"ad"],[1,"cn"],[1,"fh"],[1,"fn"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"fn"],[0,"fh"],[0,"cn"],[0,"ad"]],[[1,"ci"],[],[1,"an"],[1,"db"],[1,"aa"],[1,"fo"],[],[],[],[],[0,"fo"],[0,"aa"],[0,"db"],[0,"an"],[],[0,"ci"]],[[1,"dp"],[1,"fb"],[1,"am"],[1,"cz"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"cz"],[0,"am"],[0,"fb"],[0,"dp"]],[[1,"cl"],[1,"fb"],[1,"af"],[1,"ag"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"af"],[0,"fb"],[0,"cl"]],[[1,"ac"],[],[1,"fi"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"fi"],[],[0,"ac"]],[[1,"ab"],[1,"cm"],[1,"fj"],[1,"cr"],[1,"aa"],[],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"fj"],[0,"cm"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","am","an","bl","cf","cg","ci","cl","cm","cn","co","cp","cr","cs","ct","cu","cv","cw","cx","cy","cz","db","dd","de","df","dg","dh","dj","dl","dm","do","dp","fb","fc","fd","fe","fh","fi","fj","fk","fl","fm","fn","fo","fp","fq","kl","kn","kq","kr","kw","kx","ky","kz","ld","le"],name:"天竺大将棋",nari:{aa:"do",ab:"cu",ac:"ky",ad:"de",ae:"dd",af:"dl",ag:"dm",ah:null,am:"kl",an:"kn",bl:"kr",cf:"cg",ci:"df",cl:"dg",cm:"cv",cn:"cw",co:"dh",cp:"dj",cr:"cx",cs:"cy",ct:"fd",cz:"le",db:"ld",dp:"kx",fb:"fp",fc:null,fd:null,fe:null,fh:"fe",fi:"kq",fj:"kw",fk:null,fl:null,fm:"kz",fn:"fl",fo:"fq"},noRoom:!0,players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000025")},{$ref:"koma",$id:n("4e48cbb94325a2633e000039")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000040")},{$ref:"koma",$id:n("4e48cbb94325a2633e000041")},{$ref:"koma",$id:n("4e48cbb94325a2633e000042")},{$ref:"koma",$id:n("4e48cbb94325a2633e000043")},{$ref:"koma",$id:n("4e48cbb94325a2633e000045")},{$ref:"koma",$id:n("4e48cbb94325a2633e000046")},{$ref:"koma",$id:n("4e48cbb94325a2633e000047")},{$ref:"koma",$id:n("4e48cbb94325a2633e000048")},{$ref:"koma",$id:n("4e48cbb94325a2633e000049")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000051")},{$ref:"koma",$id:n("4e48cbb94325a2633e000052")},{$ref:"koma",$id:n("4e48cbb94325a2633e000053")},{$ref:"koma",$id:n("4e48cbb94325a2633e000054")},{$ref:"koma",$id:n("4e48cbb94325a2633e000055")},{$ref:"koma",$id:n("4e48cbb94325a2633e000057")},{$ref:"koma",$id:n("4e48cbb94325a2633e000059")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000083")},{$ref:"koma",$id:n("4e48cbb94325a2633e000084")},{$ref:"koma",$id:n("4e48cbb94325a2633e000085")},{$ref:"koma",$id:n("4e48cbb94325a2633e000086")},{$ref:"koma",$id:n("4e48cbb94325a2633e000089")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000090")},{$ref:"koma",$id:n("4e48cbb94325a2633e000091")},{$ref:"koma",$id:n("4e48cbb94325a2633e000092")},{$ref:"koma",$id:n("4e48d3214325a21149000025")},{$ref:"koma",$id:n("4e48d3214325a21149000027")},{$ref:"koma",$id:n("4e48d3214325a2114900002a")},{$ref:"koma",$id:n("4e48d3214325a2114900002b")},{$ref:"koma",$id:n("4e48d3214325a21149000030")},{$ref:"koma",$id:n("4e48d3214325a21149000031")},{$ref:"koma",$id:n("4e48d3214325a21149000032")},{$ref:"koma",$id:n("4e48d3214325a21149000033")},{$ref:"koma",$id:n("4e48d3214325a21149000037")},{$ref:"koma",$id:n("4e48d3214325a21149000038")}],size:[16,16],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},Promotion:{Normal:{dan:5}}},winkoma:["ah","cg"]}),r.getCollection("rule").insert({_id:60,abstract:"17x17。36種類の駒がある。",img:{height:34,width:30},init:{ban:[[[1,"ab"],[1,"cm"],[],[1,"ht"],[1,"hz"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"hy"],[0,"hu"],[],[0,"cm"],[0,"ab"]],[[1,"gf"],[1,"hf"],[1,"cs"],[1,"hs"],[1,"cr"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"hr"],[0,"af"],[0,"hg"],[0,"gh"]],[[1,"gd"],[1,"bl"],[],[1,"hq"],[1,"du"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"du"],[0,"ho"],[],[0,"go"],[0,"ge"]],[[1,"gc"],[1,"gm"],[1,"hk"],[1,"hp"],[1,"ds"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ds"],[0,"hn"],[0,"hj"],[0,"gn"],[0,"ag"]],[[1,"am"],[1,"gl"],[],[1,"hm"],[1,"dr"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"dr"],[0,"hm"],[],[0,"dv"],[0,"gb"]],[[1,"ga"],[1,"dt"],[1,"fh"],[1,"dq"],[1,"hx"],[1,"aa"],[1,"ia"],[],[],[],[0,"ia"],[0,"aa"],[0,"hx"],[0,"dq"],[0,"hi"],[0,"gk"],[0,"an"]],[[1,"ct"],[1,"cp"],[],[1,"dp"],[1,"cl"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cl"],[0,"dp"],[],[0,"co"],[0,"fz"]],[[1,"fy"],[1,"ae"],[1,"ad"],[1,"ci"],[1,"hw"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"hw"],[0,"ci"],[0,"ad"],[0,"ae"],[0,"fx"]],[[1,"ah"],[1,"gj"],[1,"hh"],[1,"hl"],[1,"hv"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"hv"],[0,"hl"],[0,"hh"],[0,"gj"],[0,"ah"]],[[1,"fx"],[1,"ae"],[1,"ad"],[1,"ci"],[1,"hw"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"hw"],[0,"ci"],[0,"ad"],[0,"ae"],[0,"fy"]],[[1,"fz"],[1,"co"],[],[1,"dp"],[1,"cl"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cl"],[0,"dp"],[],[0,"cp"],[0,"ct"]],[[1,"an"],[1,"gk"],[1,"hi"],[1,"dq"],[1,"hx"],[1,"aa"],[1,"ia"],[],[],[],[0,"ia"],[0,"aa"],[0,"hx"],[0,"dq"],[0,"fh"],[0,"dt"],[0,"ga"]],[[1,"gb"],[1,"dv"],[],[1,"hm"],[1,"dr"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"dr"],[0,"hm"],[],[0,"gl"],[0,"am"]],[[1,"ag"],[1,"gn"],[1,"hj"],[1,"hn"],[1,"ds"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"ds"],[0,"hp"],[0,"hk"],[0,"gm"],[0,"gc"]],[[1,"ge"],[1,"go"],[],[1,"ho"],[1,"du"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"du"],[0,"hq"],[],[0,"bl"],[0,"gd"]],[[1,"gh"],[1,"hg"],[1,"af"],[1,"hr"],[1,"cr"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"hs"],[0,"cs"],[0,"hf"],[0,"gf"]],[[1,"ab"],[1,"cm"],[],[1,"hu"],[1,"hy"],[1,"aa"],[],[],[],[],[],[0,"aa"],[0,"hz"],[0,"ht"],[],[0,"cm"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ad","ae","af","ag","ah","am","an","bl","ci","cl","cm","co","cp","cr","cs","ct","dh","dp","dq","dr","ds","dt","du","dv","fh","fx","fy","fz","ga","gb","gc","gd","ge","gf","gh","gj","gk","gl","gm","gn","go","hb","hf","hg","hh","hi","hj","hk","hl","hm","hn","ho","hp","hq","hr","hs","ht","hu","hv","hw","hx","hy","hz","ia","ic","id","ie","ig","lf"],name:"大大将棋",nari:{aa:null,ab:null,ad:null,ae:null,af:null,ag:null,ah:null,am:null,an:null,bl:"ie",ci:null,cl:null,cm:null,co:"hb",cp:"hl",cr:null,cs:null,ct:null,dp:null,dq:null,dr:null,ds:null,dt:"am",du:null,dv:"an",fh:"fz",fx:null,fy:null,fz:null,ga:null,gb:null,gc:null,gd:null,ge:null,gf:null,gh:null,gj:"hv",gk:"ga",gl:"gb",gm:"ic",gn:"id",go:"ig",hf:"gf",hg:"gh",hh:null,hi:"ct",hj:"ge",hk:"gd",hl:null,hm:null,hn:"dh",ho:"hr",hp:"lf",hq:"hs",hr:null,hs:null,ht:null,hu:null,hv:null,hw:null,hx:null,hy:null,hz:null,ia:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000025")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000040")},{$ref:"koma",$id:n("4e48cbb94325a2633e000042")},{$ref:"koma",$id:n("4e48cbb94325a2633e000043")},{$ref:"koma",$id:n("4e48cbb94325a2633e000045")},{$ref:"koma",$id:n("4e48cbb94325a2633e000046")},{$ref:"koma",$id:n("4e48cbb94325a2633e000047")},{$ref:"koma",$id:n("4e48cbb94325a2633e000055")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000060")},{$ref:"koma",$id:n("4e48cbb94325a2633e000061")},{$ref:"koma",$id:n("4e48cbb94325a2633e000062")},{$ref:"koma",$id:n("4e48cbb94325a2633e000063")},{$ref:"koma",$id:n("4e48cbb94325a2633e000089")},{$ref:"koma",$id:n("4e48cbb94325a2633e000099")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009f")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a5")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a6")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000aa")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000b7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bb")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bc")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000be")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bf")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c2")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c5")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c6")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000ca")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cb")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cc")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000ce")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cf")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d2")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d6")},{$ref:"koma",$id:n("4e48d3214325a21149000039")}],size:[17,17],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},Promotion:{Capture:{must:!0}}},winkoma:["ah"]}),r.getCollection("rule").insert({_id:61,abstract:"19x19。50種類の駒がある。",img:{height:34,width:30},init:{ban:[[[1,"ab"],[1,"cm"],[],[1,"it"],[1,"ag"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"it"],[],[0,"cm"],[0,"ab"]],[[1,"ik"],[],[1,"gm"],[],[1,"hz"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"hy"],[],[0,"gm"],[],[0,"ik"]],[[1,"dq"],[1,"dt"],[],[1,"ac"],[1,"cr"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"ac"],[],[0,"dt"],[0,"dq"]],[[1,"ij"],[],[1,"ds"],[],[1,"iw"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"iw"],[],[0,"ds"],[],[0,"ij"]],[[1,"dp"],[1,"in"],[],[1,"du"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"du"],[],[0,"io"],[0,"dp"]],[[1,"ci"],[],[1,"ip"],[],[1,"af"],[1,"aa"],[1,"cq"],[],[],[],[],[],[0,"cq"],[0,"aa"],[0,"af"],[],[0,"ip"],[],[0,"ci"]],[[1,"ad"],[1,"im"],[],[1,"dv"],[1,"am"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"am"],[0,"dv"],[],[0,"il"],[0,"ad"]],[[1,"ae"],[1,"cl"],[1,"dr"],[1,"is"],[1,"an"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"an"],[0,"gd"],[0,"dr"],[0,"cl"],[0,"ae"]],[[1,"ii"],[1,"cn"],[1,"co"],[1,"ir"],[1,"iu"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"gh"],[0,"iq"],[0,"cp"],[0,"cn"],[0,"ih"]],[[1,"ah"],[1,"cf"],[1,"bl"],[1,"go"],[1,"ct"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"ct"],[0,"go"],[0,"bl"],[0,"cf"],[0,"ah"]],[[1,"ih"],[1,"cn"],[1,"cp"],[1,"iq"],[1,"gh"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"iu"],[0,"ir"],[0,"co"],[0,"cn"],[0,"ii"]],[[1,"ae"],[1,"cl"],[1,"dr"],[1,"gd"],[1,"an"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"an"],[0,"is"],[0,"dr"],[0,"cl"],[0,"ae"]],[[1,"ad"],[1,"il"],[],[1,"dv"],[1,"am"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"am"],[0,"dv"],[],[0,"im"],[0,"ad"]],[[1,"ci"],[],[1,"ip"],[],[1,"af"],[1,"aa"],[1,"cq"],[],[],[],[],[],[0,"cq"],[0,"aa"],[0,"af"],[],[0,"ip"],[],[0,"ci"]],[[1,"dp"],[1,"io"],[],[1,"du"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"du"],[],[0,"in"],[0,"dp"]],[[1,"ij"],[],[1,"ds"],[],[1,"iw"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"iw"],[],[0,"ds"],[],[0,"ij"]],[[1,"dq"],[1,"dt"],[],[1,"ac"],[1,"cr"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"ac"],[],[0,"dt"],[0,"dq"]],[[1,"ik"],[],[1,"gm"],[],[1,"hy"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"hz"],[],[0,"gm"],[],[0,"ik"]],[[1,"ab"],[1,"cm"],[],[1,"it"],[1,"ag"],[1,"aa"],[],[],[],[],[],[],[],[0,"aa"],[0,"ag"],[0,"it"],[],[0,"cm"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","am","an","bl","cf","ci","cl","cm","cn","co","cp","cq","cr","cs","ct","cx","do","dp","dq","dr","ds","dt","du","dv","gd","gh","gm","go","hb","hl","hy","hz","id","ie","ih","ii","ij","ik","il","im","in","io","ip","iq","ir","is","it","iu","iw","ix","iy","iz","jb","jo","js","jt","ju","jv","jw","jx","jy","jz","ka","kb","kc","kd","kf","kg","kh"],name:"摩訶大大将棋",nari:{aa:"do",ab:"do",ac:"do",ad:"ka",ae:"jz",af:"do",ag:"do",ah:"ix",am:null,an:null,bl:"ie",cf:"iy",ci:"kb",cl:"ju",cm:"do",cn:"jt",co:"hb",cp:"hl",cq:"kh",cr:"do",cs:"do",ct:null,dp:"kc",dq:"do",dr:"jx",ds:"cx",dt:"kg",du:"do",dv:"do",gd:"do",gh:"do",gm:"js",go:"do",hy:"do",hz:"do",ih:"iz",ii:"jb",ij:"kd",ik:"kf",il:"jw",im:"jv",in:"jo",io:"id",ip:"jy",iq:"do",ir:"do",is:"do",it:"do",iu:"do",iw:"do"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000025")},{$ref:"koma",$id:n("4e48cbb94325a2633e000039")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000040")},{$ref:"koma",$id:n("4e48cbb94325a2633e000041")},{$ref:"koma",$id:n("4e48cbb94325a2633e000042")},{$ref:"koma",$id:n("4e48cbb94325a2633e000043")},{$ref:"koma",$id:n("4e48cbb94325a2633e000044")},{$ref:"koma",$id:n("4e48cbb94325a2633e000045")},{$ref:"koma",$id:n("4e48cbb94325a2633e000046")},{$ref:"koma",$id:n("4e48cbb94325a2633e000047")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000060")},{$ref:"koma",$id:n("4e48cbb94325a2633e000061")},{$ref:"koma",$id:n("4e48cbb94325a2633e000062")},{$ref:"koma",$id:n("4e48cbb94325a2633e000063")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009f")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000aa")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000b7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000ce")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cf")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000da")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000db")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000dc")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000dd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000de")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000df")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e2")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e6")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e9")},{$ref:"koma",$id:n("4e48cbba4325a2633e0000eb")},{$ref:"koma",$id:n("4e48cbba4325a2633e0000f8")},{$ref:"koma",$id:n("4e48d3214325a21149000012")},{$ref:"koma",$id:n("4e48d3214325a21149000013")},{$ref:"koma",$id:n("4e48d3214325a21149000014")},{$ref:"koma",$id:n("4e48d3214325a21149000015")},{$ref:"koma",$id:n("4e48d3214325a21149000016")},{$ref:"koma",$id:n("4e48d3214325a21149000017")},{$ref:"koma",$id:n("4e48d3214325a21149000018")},{$ref:"koma",$id:n("4e48d3214325a21149000019")},{$ref:"koma",$id:n("4e48d3214325a2114900001a")},{$ref:"koma",$id:n("4e48d3214325a2114900001b")},{$ref:"koma",$id:n("4e48d3214325a2114900001c")},{$ref:"koma",$id:n("4e48d3214325a2114900001d")},{$ref:"koma",$id:n("4e48d3214325a2114900001f")},{$ref:"koma",$id:n("4e48d3214325a21149000020")},{$ref:"koma",$id:n("4e48d3214325a21149000021")}],size:[19,19],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},Promotion:{Capture:{must:!0}}},winkoma:["ah","iy"]}),r.getCollection("rule").insert({_id:62,abstract:"駒の隣でその駒が動ける場所に駒が１つあった場合、飛び越えて進むことが出来る。",extend:{$ref:"rule",$id:0},iterator:{BanScan:{Diamond:[]}},name:"ダイヤモンド将棋",strategy:{Judge:{Oute:{ignore:!0}}}}),r.getCollection("rule").insert({_id:63,abstract:"25x25。93種類の駒がある。",img:{height:29,width:26},init:{ban:[[[1,"ab"],[1,"cm"],[1,"gc"],[1,"mo"],[1,"hz"],[1,"ia"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ia"],[0,"hy"],[0,"mo"],[0,"gc"],[0,"cm"],[0,"ab"]],[[1,"mq"],[1,"mh"],[1,"cu"],[1,"fh"],[1,"ht"],[1,"hi"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"hi"],[0,"mp"],[0,"fh"],[0,"cu"],[0,"mh"],[0,"hu"]],[[1,"cv"],[1,"db"],[1,"mk"],[1,"cl"],[1,"hm"],[1,"hj"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"hj"],[0,"hm"],[0,"cl"],[0,"mk"],[0,"db"],[0,"cv"]],[[1,"dv"],[1,"ac"],[1,"du"],[1,"hq"],[1,"ik"],[1,"it"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"it"],[0,"ik"],[0,"hq"],[0,"du"],[0,"ac"],[0,"dv"]],[[1,"gf"],[1,"hg"],[1,"dt"],[1,"hn"],[1,"dq"],[1,"cy"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cy"],[0,"dq"],[0,"ho"],[0,"dt"],[0,"hg"],[0,"gf"]],[[1,"ge"],[1,"fz"],[1,"ip"],[1,"in"],[1,"ij"],[1,"cr"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"ij"],[0,"in"],[0,"ip"],[0,"fz"],[0,"ge"]],[[1,"ag"],[1,"af"],[1,"mj"],[1,"cz"],[1,"dp"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"dp"],[0,"cz"],[0,"mj"],[0,"af"],[0,"ag"]],[[1,"am"],[1,"mg"],[1,"mi"],[1,"io"],[1,"ci"],[1,"hx"],[1,"aa"],[1,"cq"],[],[],[],[],[],[],[],[],[],[0,"cq"],[0,"aa"],[0,"hx"],[0,"ci"],[0,"io"],[0,"mi"],[0,"mg"],[0,"am"]],[[1,"an"],[1,"hr"],[1,"gn"],[1,"mr"],[1,"gm"],[1,"hv"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"hv"],[0,"gm"],[0,"gk"],[0,"gn"],[0,"hr"],[0,"an"]],[[1,"ct"],[1,"ga"],[1,"cn"],[1,"ml"],[1,"im"],[1,"gl"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"gl"],[0,"im"],[0,"ml"],[0,"cn"],[0,"ga"],[0,"ct"]],[[1,"ae"],[1,"ad"],[1,"is"],[1,"hh"],[1,"il"],[1,"ds"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ds"],[0,"il"],[0,"hl"],[0,"gd"],[0,"ad"],[0,"ae"]],[[1,"ii"],[1,"fy"],[1,"ir"],[1,"co"],[1,"iu"],[1,"dr"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"dr"],[0,"gh"],[0,"cp"],[0,"iq"],[0,"fx"],[0,"ih"]],[[1,"ix"],[1,"cg"],[1,"gj"],[1,"bl"],[1,"cf"],[1,"go"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"go"],[0,"cf"],[0,"bl"],[0,"gj"],[0,"cg"],[0,"ix"]],[[1,"ih"],[1,"fx"],[1,"iq"],[1,"cp"],[1,"gh"],[1,"dr"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"dr"],[0,"iu"],[0,"co"],[0,"ir"],[0,"fy"],[0,"ii"]],[[1,"ae"],[1,"ad"],[1,"gd"],[1,"hl"],[1,"il"],[1,"ds"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ds"],[0,"il"],[0,"hh"],[0,"is"],[0,"ad"],[0,"ae"]],[[1,"ct"],[1,"ga"],[1,"cn"],[1,"ml"],[1,"im"],[1,"gl"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"gl"],[0,"im"],[0,"ml"],[0,"cn"],[0,"ga"],[0,"ct"]],[[1,"an"],[1,"hr"],[1,"gn"],[1,"gk"],[1,"gm"],[1,"hv"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"hv"],[0,"gm"],[0,"mr"],[0,"gn"],[0,"hr"],[0,"an"]],[[1,"am"],[1,"mg"],[1,"mi"],[1,"io"],[1,"ci"],[1,"hx"],[1,"aa"],[1,"cq"],[],[],[],[],[],[],[],[],[],[0,"cq"],[0,"aa"],[0,"hx"],[0,"ci"],[0,"io"],[0,"mi"],[0,"mg"],[0,"am"]],[[1,"ag"],[1,"af"],[1,"mj"],[1,"cz"],[1,"dp"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"dp"],[0,"cz"],[0,"mj"],[0,"af"],[0,"ag"]],[[1,"ge"],[1,"fz"],[1,"ip"],[1,"in"],[1,"ij"],[1,"cr"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cr"],[0,"ij"],[0,"in"],[0,"ip"],[0,"fz"],[0,"ge"]],[[1,"gf"],[1,"hg"],[1,"dt"],[1,"ho"],[1,"dq"],[1,"cy"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cy"],[0,"dq"],[0,"hn"],[0,"dt"],[0,"hg"],[0,"gf"]],[[1,"dv"],[1,"ac"],[1,"du"],[1,"hp"],[1,"ik"],[1,"it"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"it"],[0,"ik"],[0,"hp"],[0,"du"],[0,"ac"],[0,"dv"]],[[1,"cv"],[1,"db"],[1,"mk"],[1,"cl"],[1,"hm"],[1,"hj"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"hj"],[0,"hm"],[0,"cl"],[0,"mk"],[0,"db"],[0,"cv"]],[[1,"hu"],[1,"mh"],[1,"cu"],[1,"fh"],[1,"mp"],[1,"hi"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"hi"],[0,"ht"],[0,"fh"],[0,"cu"],[0,"mh"],[0,"mq"]],[[1,"ab"],[1,"cm"],[1,"gc"],[1,"mo"],[1,"hy"],[1,"ia"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ia"],[0,"hz"],[0,"mo"],[0,"gc"],[0,"cm"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","am","an","bl","cf","cg","ci","cl","cm","cn","co","cp","cq","cr","cs","ct","cu","cv","cx","cy","cz","db","dh","do","dp","dq","dr","ds","dt","du","dv","fh","fx","fy","fz","ga","gb","gc","gd","ge","gf","gh","gj","gk","gl","gm","gn","go","hb","hc","he","hg","hh","hi","hj","hl","hm","hn","ho","hp","hq","hr","ht","hu","hv","hx","hy","hz","ia","id","ie","ig","ih","ii","ij","ik","il","im","in","io","ip","iq","ir","is","it","iu","ix","jb","jo","jp","jq","jr","js","jt","ju","jv","jw","jx","jy","jz","ka","kb","kc","kd","ke","kf","kg","kh","lf","mg","mh","mi","mj","mk","ml","mo","mp","mq","mr"],name:"泰将棋",nari:{aa:"do",ab:"do",ac:"do",ad:"ka",ae:"jz",af:"do",ag:"do",am:null,an:null,bl:"ie",cf:"cg",cg:null,ci:"kb",cl:"ju",cm:"do",cn:"jt",co:"hb",cp:"he",cq:"kh",cr:"do",cs:"do",ct:null,cu:"do",cv:"do",cy:"do",cz:"do",db:"do",dp:"kc",dq:"ke",dr:"jx",ds:"cx",dt:"kg",du:"do",dv:"do",fh:"fz",fx:"do",fy:"do",fz:"do",ga:"do",gc:"do",gd:"do",ge:"do",gf:"do",gh:"do",gj:"jr",gk:"jp",gl:"gb",gm:"js",gn:"id",go:"ig",hg:"do",hh:"do",hi:"ct",hj:"ge",hl:"do",hm:"do",hn:"dh",ho:"jq",hp:"lf",hq:"do",hr:"do",ht:"do",hu:"do",hv:"do",hx:"do",hy:"do",hz:"do",ia:"do",ih:"jz",ii:"jb",ij:"kd",ik:"kf",il:"jw",im:"jv",in:"jo",io:"id",ip:"jy",iq:"do",ir:"do",is:"do",it:"do",iu:"do",ix:null,mg:"do",mh:"do",mi:"do",mj:"do",mk:"do",ml:"do",mo:"do",mp:"do",mq:"do",mr:"hc"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000025")},{$ref:"koma",$id:n("4e48cbb94325a2633e000039")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000040")},{$ref:"koma",$id:n("4e48cbb94325a2633e000041")},{$ref:"koma",$id:n("4e48cbb94325a2633e000042")},{$ref:"koma",$id:n("4e48cbb94325a2633e000043")},{$ref:"koma",$id:n("4e48cbb94325a2633e000044")},{$ref:"koma",$id:n("4e48cbb94325a2633e000045")},{$ref:"koma",$id:n("4e48cbb94325a2633e000046")},{$ref:"koma",$id:n("4e48cbb94325a2633e000047")},{$ref:"koma",$id:n("4e48cbb94325a2633e000048")},{$ref:"koma",$id:n("4e48cbb94325a2633e000049")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000055")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000060")},{$ref:"koma",$id:n("4e48cbb94325a2633e000061")},{$ref:"koma",$id:n("4e48cbb94325a2633e000062")},{$ref:"koma",$id:n("4e48cbb94325a2633e000063")},{$ref:"koma",$id:n("4e48cbb94325a2633e000089")},{$ref:"koma",$id:n("4e48cbb94325a2633e000099")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00009f")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a5")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a6")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000aa")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000b7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000b8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000ba")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bc")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000be")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bf")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c2")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c5")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c6")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000ca")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cb")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cf")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d6")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d7")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d8")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000da")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000db")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000dc")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000dd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000de")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000df")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e2")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e7")},{$ref:"koma",$id:n("4e48cbba4325a2633e0000eb")},{$ref:"koma",$id:n("4e48cbba4325a2633e0000f8")},{$ref:"koma",$id:n("4e48cbba4325a2633e0000f9")},{$ref:"koma",$id:n("4e48cbba4325a2633e0000fa")},{$ref:"koma",$id:n("4e48d3214325a21149000011")},{$ref:"koma",$id:n("4e48d3214325a21149000012")},{$ref:"koma",$id:n("4e48d3214325a21149000013")},{$ref:"koma",$id:n("4e48d3214325a21149000014")},{$ref:"koma",$id:n("4e48d3214325a21149000015")},{$ref:"koma",$id:n("4e48d3214325a21149000016")},{$ref:"koma",$id:n("4e48d3214325a21149000017")},{$ref:"koma",$id:n("4e48d3214325a21149000018")},{$ref:"koma",$id:n("4e48d3214325a21149000019")},{$ref:"koma",$id:n("4e48d3214325a2114900001a")},{$ref:"koma",$id:n("4e48d3214325a2114900001b")},{$ref:"koma",$id:n("4e48d3214325a2114900001c")},{$ref:"koma",$id:n("4e48d3214325a2114900001d")},{$ref:"koma",$id:n("4e48d3214325a2114900001e")},{$ref:"koma",$id:n("4e48d3214325a2114900001f")},{$ref:"koma",$id:n("4e48d3214325a21149000020")},{$ref:"koma",$id:n("4e48d3214325a21149000021")},{$ref:"koma",$id:n("4e48d3214325a21149000039")},{$ref:"koma",$id:n("4e48d3214325a21149000054")},{$ref:"koma",$id:n("4e48d3214325a21149000055")},{$ref:"koma",$id:n("4e48d3214325a21149000056")},{$ref:"koma",$id:n("4e48d3214325a21149000057")},{$ref:"koma",$id:n("4e48d3214325a21149000058")},{$ref:"koma",$id:n("4e48d3214325a21149000059")},{$ref:"koma",$id:n("4e48d3214325a2114900005c")},{$ref:"koma",$id:n("4e48d3214325a2114900005d")},{$ref:"koma",$id:n("4e48d3214325a2114900005e")},{$ref:"koma",$id:n("4e48d3214325a2114900005f")}],size:[25,25],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},Promotion:{Capture:{must:!0}}},winkoma:["ix","cg"]}),r.getCollection("rule").insert({_id:64,abstract:"36x36。209種類の駒がある。",img:{height:29,width:26},init:{ban:[[[1,"ab"],[1,"cm"],[1,"ot"],[1,"pq"],[1,"qc"],[1,"qm"],[1,"qu"],[1,"qy"],[1,"fb"],[1,"sk"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sv"],[0,"fb"],[0,"qy"],[0,"qu"],[0,"qm"],[0,"qc"],[0,"pq"],[0,"ot"],[0,"cm"],[0,"ab"]],[[1,"mq"],[1,"wj"],[1,"vy"],[1,"pp"],[1,"vg"],[1,"cu"],[1,"qs"],[1,"tb"],[1,"fj"],[1,"sj"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sj"],[0,"fj"],[0,"ue"],[0,"qs"],[0,"cu"],[0,"vg"],[0,"pp"],[0,"vy"],[0,"wp"],[0,"xc"]],[[1,"wr"],[1,"nw"],[1,"or"],[1,"ac"],[1,"af"],[1,"ib"],[1,"qq"],[1,"td"],[1,"fi"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"fi"],[0,"td"],[0,"qq"],[0,"ib"],[0,"af"],[0,"ac"],[0,"or"],[0,"nw"],[0,"wr"]],[[1,"cv"],[1,"nv"],[1,"oq"],[1,"pn"],[1,"ag"],[1,"cr"],[1,"ug"],[1,"qw"],[1,"rq"],[1,"cy"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cy"],[0,"rq"],[0,"qw"],[0,"ug"],[0,"cr"],[0,"ag"],[0,"pn"],[0,"oq"],[0,"nv"],[0,"cv"]],[[1,"wu"],[1,"nt"],[1,"wa"],[1,"pl"],[1,"qb"],[1,"va"],[1,"uh"],[1,"dz"],[1,"ro"],[1,"sh"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sh"],[0,"ro"],[0,"dz"],[0,"uh"],[0,"va"],[0,"qb"],[0,"pl"],[0,"wa"],[0,"nt"],[0,"wu"]],[[1,"nc"],[1,"nr"],[1,"wc"],[1,"pj"],[1,"qa"],[1,"fh"],[1,"hx"],[1,"dy"],[1,"rm"],[1,"sf"],[1,"aa"],[1,"xf"],[],[],[],[],[],[],[],[],[],[],[],[],[0,"xf"],[0,"aa"],[0,"sf"],[0,"rm"],[0,"dy"],[0,"hx"],[0,"fh"],[0,"qa"],[0,"pj"],[0,"wc"],[0,"nr"],[0,"nc"]],[[1,"wh"],[1,"np"],[1,"oo"],[1,"ph"],[1,"py"],[1,"cl"],[1,"uj"],[1,"dt"],[1,"sy"],[1,"se"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"se"],[0,"sy"],[0,"dt"],[0,"uj"],[0,"cl"],[0,"py"],[0,"ph"],[0,"om"],[0,"np"],[0,"wh"]],[[1,"mz"],[1,"nn"],[1,"ok"],[1,"pf"],[1,"px"],[1,"vd"],[1,"dr"],[1,"ei"],[1,"rk"],[1,"sc"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sc"],[0,"rk"],[0,"ei"],[0,"dr"],[0,"vd"],[0,"px"],[0,"pf"],[0,"oi"],[0,"nn"],[0,"mz"]],[[1,"mx"],[1,"nm"],[1,"og"],[1,"pd"],[1,"vi"],[1,"ve"],[1,"ul"],[1,"gn"],[1,"hm"],[1,"am"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"am"],[0,"hm"],[0,"gn"],[0,"ul"],[0,"ve"],[0,"vi"],[0,"pd"],[0,"og"],[0,"nm"],[0,"mx"]],[[1,"wf"],[1,"nl"],[1,"oe"],[1,"pb"],[1,"pv"],[1,"hg"],[1,"ea"],[1,"cn"],[1,"ri"],[1,"an"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"an"],[0,"ri"],[0,"cn"],[0,"ea"],[0,"hg"],[0,"pv"],[0,"pb"],[0,"oe"],[0,"nl"],[0,"wf"]],[[1,"mv"],[1,"nj"],[1,"oc"],[1,"mj"],[1,"pu"],[1,"ed"],[1,"io"],[1,"eg"],[1,"ik"],[1,"sa"],[1,"aa"],[1,"cq"],[],[],[],[],[],[],[],[],[],[],[],[],[0,"cq"],[0,"aa"],[0,"sa"],[0,"ik"],[0,"eg"],[0,"io"],[0,"ed"],[0,"pu"],[0,"mj"],[0,"oc"],[0,"nj"],[0,"mv"]],[[1,"mu"],[1,"nh"],[1,"we"],[1,"mi"],[1,"ps"],[1,"ee"],[1,"in"],[1,"iw"],[1,"rg"],[1,"sn"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sn"],[0,"rg"],[0,"iw"],[0,"in"],[0,"ee"],[0,"ps"],[0,"mi"],[0,"we"],[0,"nh"],[0,"ni"]],[[1,"ww"],[1,"ng"],[1,"wg"],[1,"bl"],[1,"vj"],[1,"ef"],[1,"uq"],[1,"tg"],[1,"dq"],[1,"sp"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sp"],[0,"dq"],[0,"tg"],[0,"uw"],[0,"ef"],[0,"vj"],[0,"bl"],[0,"wg"],[0,"ng"],[0,"ww"]],[[1,"ct"],[1,"ne"],[1,"ml"],[1,"oz"],[1,"vl"],[1,"qk"],[1,"ur"],[1,"th"],[1,"re"],[1,"ry"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ry"],[0,"re"],[0,"th"],[0,"uu"],[0,"qk"],[0,"vl"],[0,"oz"],[0,"ml"],[0,"ne"],[0,"ct"]],[[1,"ms"],[1,"is"],[1,"ob"],[1,"oy"],[1,"vn"],[1,"qi"],[1,"eb"],[1,"tj"],[1,"ij"],[1,"rw"],[1,"aa"],[1,"xf"],[],[],[],[],[],[],[],[],[],[],[],[],[0,"xf"],[0,"aa"],[0,"rw"],[0,"ij"],[0,"tj"],[0,"eb"],[0,"qi"],[0,"vn"],[0,"oy"],[0,"ob"],[0,"wo"],[0,"ms"]],[[1,"wx"],[1,"wm"],[1,"oa"],[1,"ox"],[1,"vp"],[1,"vf"],[1,"ec"],[1,"im"],[1,"rc"],[1,"sr"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sr"],[0,"rc"],[0,"im"],[0,"ec"],[0,"cp"],[0,"vp"],[0,"ox"],[0,"oa"],[0,"wn"],[0,"xa"]],[[1,"ae"],[1,"ad"],[1,"ci"],[1,"ov"],[1,"vr"],[1,"iu"],[1,"us"],[1,"tm"],[1,"dp"],[1,"ru"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ru"],[0,"dp"],[0,"tm"],[0,"us"],[0,"gh"],[0,"vr"],[0,"ov"],[0,"ci"],[0,"ad"],[0,"ae"]],[[1,"wz"],[1,"gj"],[1,"nz"],[1,"qj"],[1,"vt"],[1,"qe"],[1,"qo"],[1,"fc"],[1,"ra"],[1,"st"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"rs"],[0,"rb"],[0,"tn"],[0,"qp"],[0,"qg"],[0,"vv"],[0,"xe"],[0,"ny"],[0,"cf"],[0,"cg"]],[[1,"cg"],[1,"cf"],[1,"ny"],[1,"xe"],[1,"vv"],[1,"qg"],[1,"qp"],[1,"tn"],[1,"rb"],[1,"rs"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"st"],[0,"ra"],[0,"fc"],[0,"qo"],[0,"qe"],[0,"vt"],[0,"qj"],[0,"nz"],[0,"gj"],[0,"wz"]],[[1,"ae"],[1,"ad"],[1,"ci"],[1,"ov"],[1,"vr"],[1,"gh"],[1,"us"],[1,"tm"],[1,"dp"],[1,"ru"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ru"],[0,"dp"],[0,"tm"],[0,"us"],[0,"iu"],[0,"vr"],[0,"ov"],[0,"ci"],[0,"ad"],[0,"ae"]],[[1,"xa"],[1,"wn"],[1,"oa"],[1,"ox"],[1,"vp"],[1,"cp"],[1,"ec"],[1,"im"],[1,"rc"],[1,"sr"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sr"],[0,"rc"],[0,"im"],[0,"ec"],[0,"vf"],[0,"vp"],[0,"ox"],[0,"oa"],[0,"wm"],[0,"wx"]],[[1,"ms"],[1,"wo"],[1,"ob"],[1,"oy"],[1,"vn"],[1,"qi"],[1,"eb"],[1,"tj"],[1,"ij"],[1,"rw"],[1,"aa"],[1,"xf"],[],[],[],[],[],[],[],[],[],[],[],[],[0,"xf"],[0,"aa"],[0,"rw"],[0,"ij"],[0,"tj"],[0,"eb"],[0,"qi"],[0,"vn"],[0,"oy"],[0,"ob"],[0,"is"],[0,"ms"]],[[1,"ct"],[1,"ne"],[1,"ml"],[1,"oz"],[1,"vl"],[1,"qk"],[1,"uu"],[1,"th"],[1,"re"],[1,"ry"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"ry"],[0,"re"],[0,"th"],[0,"ur"],[0,"qk"],[0,"vl"],[0,"oz"],[0,"ml"],[0,"ne"],[0,"ct"]],[[1,"ww"],[1,"ng"],[1,"wg"],[1,"bl"],[1,"vj"],[1,"ef"],[1,"uw"],[1,"tg"],[1,"dq"],[1,"sp"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sp"],[0,"dq"],[0,"tg"],[0,"uq"],[0,"ef"],[0,"vj"],[0,"bl"],[0,"wg"],[0,"ng"],[0,"ww"]],[[1,"ni"],[1,"nh"],[1,"we"],[1,"mi"],[1,"ps"],[1,"ee"],[1,"in"],[1,"iw"],[1,"rg"],[1,"sn"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sn"],[0,"rg"],[0,"iw"],[0,"in"],[0,"ee"],[0,"ps"],[0,"mi"],[0,"we"],[0,"nh"],[0,"mu"]],[[1,"mv"],[1,"nj"],[1,"oc"],[1,"mj"],[1,"pu"],[1,"ed"],[1,"io"],[1,"eg"],[1,"ik"],[1,"sa"],[1,"aa"],[1,"cq"],[],[],[],[],[],[],[],[],[],[],[],[],[0,"cq"],[0,"aa"],[0,"sa"],[0,"ik"],[0,"eg"],[0,"io"],[0,"ed"],[0,"pu"],[0,"mj"],[0,"oc"],[0,"nj"],[0,"mv"]],[[1,"wf"],[1,"nl"],[1,"oe"],[1,"pb"],[1,"pv"],[1,"hg"],[1,"ea"],[1,"cn"],[1,"ri"],[1,"an"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"an"],[0,"ri"],[0,"cn"],[0,"ea"],[0,"hg"],[0,"pv"],[0,"pb"],[0,"oe"],[0,"nl"],[0,"wf"]],[[1,"mx"],[1,"nm"],[1,"og"],[1,"pd"],[1,"vi"],[1,"ve"],[1,"ul"],[1,"gn"],[1,"hm"],[1,"am"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"am"],[0,"hm"],[0,"gn"],[0,"ul"],[0,"ve"],[0,"vi"],[0,"pd"],[0,"og"],[0,"nm"],[0,"mx"]],[[1,"mz"],[1,"nn"],[1,"oi"],[1,"pf"],[1,"px"],[1,"vd"],[1,"dr"],[1,"ei"],[1,"rk"],[1,"sc"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sc"],[0,"rk"],[0,"ei"],[0,"dr"],[0,"vd"],[0,"px"],[0,"pf"],[0,"ok"],[0,"nn"],[0,"mz"]],[[1,"wh"],[1,"np"],[1,"om"],[1,"ph"],[1,"py"],[1,"cl"],[1,"uj"],[1,"dt"],[1,"sy"],[1,"se"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"se"],[0,"sy"],[0,"dt"],[0,"uj"],[0,"cl"],[0,"py"],[0,"ph"],[0,"oo"],[0,"np"],[0,"wh"]],[[1,"nb"],[1,"nr"],[1,"wc"],[1,"pj"],[1,"qa"],[1,"fh"],[1,"hx"],[1,"dy"],[1,"rm"],[1,"sf"],[1,"aa"],[1,"xf"],[],[],[],[],[],[],[],[],[],[],[],[],[0,"xf"],[0,"aa"],[0,"sf"],[0,"rm"],[0,"dy"],[0,"hx"],[0,"fh"],[0,"qa"],[0,"pj"],[0,"wc"],[0,"nr"],[0,"nb"]],[[1,"wu"],[1,"nt"],[1,"wa"],[1,"pl"],[1,"qb"],[1,"va"],[1,"uh"],[1,"dz"],[1,"ro"],[1,"sh"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sh"],[0,"ro"],[0,"dz"],[0,"uh"],[0,"va"],[0,"qb"],[0,"pl"],[0,"wa"],[0,"nt"],[0,"wu"]],[[1,"cv"],[1,"nv"],[1,"oq"],[1,"pn"],[1,"ag"],[1,"cr"],[1,"ug"],[1,"qw"],[1,"rq"],[1,"cy"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cy"],[0,"rq"],[0,"qw"],[0,"ug"],[0,"cr"],[0,"ag"],[0,"pn"],[0,"oq"],[0,"nv"],[0,"cv"]],[[1,"wr"],[1,"nw"],[1,"or"],[1,"ac"],[1,"af"],[1,"ia"],[1,"qq"],[1,"td"],[1,"fi"],[1,"cs"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"cs"],[0,"fi"],[0,"td"],[0,"qq"],[0,"ia"],[0,"af"],[0,"ac"],[0,"or"],[0,"nw"],[0,"wr"]],[[1,"xc"],[1,"wp"],[1,"vy"],[1,"pp"],[1,"vg"],[1,"cu"],[1,"qs"],[1,"ue"],[1,"fj"],[1,"sj"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sj"],[0,"fj"],[0,"tb"],[0,"qs"],[0,"cu"],[0,"vg"],[0,"pp"],[0,"vy"],[0,"wj"],[0,"mq"]],[[1,"ab"],[1,"cm"],[1,"ot"],[1,"pq"],[1,"qc"],[1,"qm"],[1,"qu"],[1,"qy"],[1,"fb"],[1,"sv"],[1,"aa"],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[0,"aa"],[0,"sk"],[0,"fb"],[0,"qy"],[0,"qu"],[0,"qm"],[0,"qc"],[0,"pq"],[0,"ot"],[0,"cm"],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","am","an","bl","cf","cg","ci","cl","cm","cn","cp","cq","cr","cs","ct","cu","cv","cw","cy","dd","de","df","dg","dh","dj","dl","dm","do","dp","dq","dr","dt","dy","dz","ea","eb","ec","ed","ee","ef","eg","ei","ej","eo","er","es","et","ex","fb","fc","fh","fi","fj","gh","gj","gn","hg","hm","hx","ia","ib","ie","ij","ik","im","in","io","is","iu","iw","iz","jt","ju","jv","jx","kq","kw","ky","mi","mj","ml","mq","ms","mt","mu","mv","mw","mx","my","mz","na","nb","nc","nd","ne","nf","ng","nh","ni","nj","nk","nl","nm","nn","no","np","nq","nr","ns","nt","nu","nv","nw","nx","ny","nz","oa","ob","oc","od","oe","of","og","oh","oi","oj","ok","ol","om","on","oo","op","oq","or","os","ot","ou","ov","ow","ox","oy","oz","pa","pb","pc","pd","pe","pf","pg","ph","pi","pj","pk","pl","pm","pn","po","pp","pq","pr","ps","pt","pu","pv","pw","px","py","pz","qa","qb","qc","qd","qe","qf","qg","qh","qi","qj","qk","ql","qm","qn","qo","qp","qq","qr","qs","qt","qu","qv","qw","qx","qy","qz","ra","rb","rc","rd","re","rf","rg","rh","ri","rj","rk","rl","rm","rn","ro","rp","rq","rr","rs","rt","ru","rv","rw","rx","ry","rz","sa","sb","sc","sd","se","sf","sg","sh","si","sj","sk","sl","sm","sn","so","sp","sq","sr","ss","st","su","sv","sw","sx","sy","sz","ta","tb","tc","td","te","tf","tg","th","ti","tj","tk","tl","tm","tn","uc","ue","uf","ug","uh","ui","uj","uk","ul","um","un","uo","up","uq","ur","us","ut","uu","uv","uw","ux","uy","uz","va","vb","vc","vd","ve","vf","vg","vh","vi","vj","vk","vl","vm","vn","vp","vq","vr","vs","vt","vu","vv","vw","vx","vy","vz","wa","wb","wc","wd","we","wf","wg","wh","wj","wk","wl","wm","wn","wo","wp","wq","wr","ws","wt","wu","wv","ww","wx","wy","wz","xa","xb","xc","xd","xe","xf","xg","xh"],name:"大局将棋",nari:{aa:"do",ab:"vx",ac:"ky",ad:"de",ae:"dd",af:"dl",ag:"dm",am:"pz",an:"nd",bl:"ie",cf:"uc",cg:"wz",ci:"df",cl:"dg",cm:"vw",cn:"cw",cp:"uv",cq:"xh",cr:"pc",cs:"qr",ct:"qj",cu:"ux",cv:"wt",cy:"sm",dp:"rj",dq:"rj",dr:"uk",dt:"dl",dy:"eo",dz:"te",ea:"un",eb:"er",ec:"es",ed:"et",ee:"ej",ef:"eo",eg:"sz",ei:"ex",fb:"sx",fc:null,fh:"vc",fi:"kq",fj:"kw",gh:null,gj:"pe",gn:"cw",hg:"gh",hm:"ta",hx:"ui",ia:"uy",ib:"uz",ij:"rj",ik:"rj",im:"tl",in:"up",io:"uo",is:"wl",iu:"gh",iw:"tf",mi:"vx",mj:"vw",ml:"wh",mq:"wq",ms:"mt",mu:null,mv:"mw",mx:"my",mz:"na",nb:"nd",nc:"nd",ne:"nf",ng:"jt",nh:"ni",ni:null,nj:"nk",nl:"jv",nm:"ju",nn:"no",np:"nq",nr:"ns",nt:"nu",nv:"dd",nw:"nx",ny:null,nz:null,oa:"nz",ob:"ny",oc:"od",oe:"of",og:"oh",oi:"oj",ok:"ol",om:"on",oo:"op",oq:"jx",or:"os",ot:"ou",ov:"ow",ox:"ns",oy:"os",oz:"pa",pb:"pc",pd:"pe",pf:"pg",ph:"pi",pj:"pk",pl:"pm",pn:"po",pp:"nf",pq:"pr",ps:"pt",pu:"ns",pv:"pw",px:"jt",py:"pz",qa:"dd",qb:"jx",qc:"qd",qe:"qf",qg:"qh",qi:"qj",qj:null,qk:"ql",qm:"qn",qo:null,qp:null,qq:"qr",qs:"qt",qu:"qv",qw:"qx",qy:"qz",ra:null,rb:null,rc:"rd",re:"rf",rg:"rh",ri:"rj",rk:"rl",rm:"rn",ro:"rp",rq:"rr",rs:"rt",ru:"rv",rw:"rx",ry:"rz",sa:"sb",sc:"sd",se:"dl",sf:"sg",sh:"si",sj:"ky",sk:"sl",sn:"so",sp:"sq",sr:"ss",st:"su",sv:"sw",sy:"rb",tb:"tc",td:"mu",tg:"cw",th:"ti",tj:"tk",tm:"ns",tn:null,ue:"uf",ug:"mu",uh:"dj",uj:"pc",ul:"um",uq:"rt",ur:"dh",us:"ut",uu:"uv",uw:"ni",va:"vb",vd:"nd",ve:"dm",vf:"uv",vg:"vh",vi:"qx",vj:"vk",vl:"vm",vn:"qr",vp:"vq",vr:"vs",vt:"vu",vv:"iz",vy:"vz",wa:"wb",wc:"wd",we:"wf",wf:"dj",wg:"wh",wh:null,wj:"wk",wm:"wl",wn:"wl",wo:"wl",wp:"wk",wr:"ws",wu:"wv",ww:"dj",wx:"wy",wz:null,xa:"xb",xc:"xd",xe:"qj",xf:"xg"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")},{$ref:"koma",$id:n("4e48cbb94325a2633e000025")},{$ref:"koma",$id:n("4e48cbb94325a2633e000039")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00003f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000040")},{$ref:"koma",$id:n("4e48cbb94325a2633e000041")},{$ref:"koma",$id:n("4e48cbb94325a2633e000043")},{$ref:"koma",$id:n("4e48cbb94325a2633e000044")},{$ref:"koma",$id:n("4e48cbb94325a2633e000045")},{$ref:"koma",$id:n("4e48cbb94325a2633e000046")},{$ref:"koma",$id:n("4e48cbb94325a2633e000047")},{$ref:"koma",$id:n("4e48cbb94325a2633e000048")},{$ref:"koma",$id:n("4e48cbb94325a2633e000049")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00004c")},{$ref:"koma",$id:n("4e48cbb94325a2633e000051")},{$ref:"koma",$id:n("4e48cbb94325a2633e000052")},{$ref:"koma",$id:n("4e48cbb94325a2633e000053")},{$ref:"koma",$id:n("4e48cbb94325a2633e000054")},{$ref:"koma",$id:n("4e48cbb94325a2633e000055")},{$ref:"koma",$id:n("4e48cbb94325a2633e000057")},{$ref:"koma",$id:n("4e48cbb94325a2633e000059")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005e")},{$ref:"koma",$id:n("4e48cbb94325a2633e00005f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000061")},{$ref:"koma",$id:n("4e48cbb94325a2633e000066")},{$ref:"koma",$id:n("4e48cbb94325a2633e000067")},{$ref:"koma",$id:n("4e48cbb94325a2633e000068")},{$ref:"koma",$id:n("4e48cbb94325a2633e000069")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006c")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006d")},{$ref:"koma",$id:n("4e48cbb94325a2633e00006e")},{$ref:"koma",$id:n("4e48cbb94325a2633e000070")},{$ref:"koma",$id:n("4e48cbb94325a2633e000071")},{$ref:"koma",$id:n("4e48cbb94325a2633e000076")},{$ref:"koma",$id:n("4e48cbb94325a2633e000079")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007b")},{$ref:"koma",$id:n("4e48cbb94325a2633e00007f")},{$ref:"koma",$id:n("4e48cbb94325a2633e000083")},{$ref:"koma",$id:n("4e48cbb94325a2633e000084")},{$ref:"koma",$id:n("4e48cbb94325a2633e000089")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008a")},{$ref:"koma",$id:n("4e48cbb94325a2633e00008b")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a3")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a5")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000a9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000bc")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000c2")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000cd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d0")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d1")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000d9")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000da")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000dc")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000dd")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000de")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e2")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e4")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e6")},{$ref:"koma",$id:n("4e48cbb94325a2633e0000e9")},{$ref:"koma",$id:n("4e48d3214325a21149000013")},{$ref:"koma",$id:n("4e48d3214325a21149000014")},{$ref:"koma",$id:n("4e48d3214325a21149000015")},{$ref:"koma",$id:n("4e48d3214325a21149000017")},{$ref:"koma",$id:n("4e48d3214325a2114900002a")},{$ref:"koma",$id:n("4e48d3214325a21149000030")},{$ref:"koma",$id:n("4e48d3214325a21149000032")},{$ref:"koma",$id:n("4e48d3214325a21149000056")},{$ref:"koma",$id:n("4e48d3214325a21149000057")},{$ref:"koma",$id:n("4e48d3214325a21149000059")},{$ref:"koma",$id:n("4e48d3214325a2114900005e")},{$ref:"koma",$id:n("4e48d3214325a21149000060")},{$ref:"koma",$id:n("4e48d3214325a21149000061")},{$ref:"koma",$id:n("4e48d3214325a21149000062")},{$ref:"koma",$id:n("4e48d3214325a21149000063")},{$ref:"koma",$id:n("4e48d3214325a21149000064")},{$ref:"koma",$id:n("4e48d3214325a21149000065")},{$ref:"koma",$id:n("4e48d3214325a21149000066")},{$ref:"koma",$id:n("4e48d3214325a21149000067")},{$ref:"koma",$id:n("4e48d3214325a21149000068")},{$ref:"koma",$id:n("4e48d3214325a21149000069")},{$ref:"koma",$id:n("4e48d3214325a2114900006a")},{$ref:"koma",$id:n("4e48d3214325a2114900006b")},{$ref:"koma",$id:n("4e48d3214325a2114900006c")},{$ref:"koma",$id:n("4e48d3214325a2114900006d")},{$ref:"koma",$id:n("4e48d3214325a2114900006e")},{$ref:"koma",$id:n("4e48d3214325a2114900006f")},{$ref:"koma",$id:n("4e48d3214325a21149000070")},{$ref:"koma",$id:n("4e48d3214325a21149000071")},{$ref:"koma",$id:n("4e48d3214325a21149000072")},{$ref:"koma",$id:n("4e48d3214325a21149000073")},{$ref:"koma",$id:n("4e48d3214325a21149000074")},{$ref:"koma",$id:n("4e48d3214325a21149000075")},{$ref:"koma",$id:n("4e48d3214325a21149000076")},{$ref:"koma",$id:n("4e48d3214325a21149000077")},{$ref:"koma",$id:n("4e48d3214325a21149000078")},{$ref:"koma",$id:n("4e48d3214325a21149000079")},{$ref:"koma",$id:n("4e48d3214325a2114900007a")},{$ref:"koma",$id:n("4e48d3214325a2114900007b")},{$ref:"koma",$id:n("4e48d3214325a2114900007c")},{$ref:"koma",$id:n("4e48d3214325a2114900007d")},{$ref:"koma",$id:n("4e48d3214325a2114900007e")},{$ref:"koma",$id:n("4e48d3214325a2114900007f")},{$ref:"koma",$id:n("4e48d3214325a21149000080")},{$ref:"koma",$id:n("4e48d3214325a21149000081")},{$ref:"koma",$id:n("4e48d3214325a21149000082")},{$ref:"koma",$id:n("4e48d3214325a21149000083")},{$ref:"koma",$id:n("4e48d3214325a21149000084")},{$ref:"koma",$id:n("4e48d3214325a21149000085")},{$ref:"koma",$id:n("4e48d3214325a21149000086")},{$ref:"koma",$id:n("4e48d3214325a21149000087")},{$ref:"koma",$id:n("4e48d3214325a21149000088")},{$ref:"koma",$id:n("4e48d3214325a21149000089")},{$ref:"koma",$id:n("4e48d3214325a2114900008a")},{$ref:"koma",$id:n("4e48d3214325a2114900008b")},{$ref:"koma",$id:n("4e48d3214325a2114900008c")},{$ref:"koma",$id:n("4e48d3214325a2114900008d")},{$ref:"koma",$id:n("4e48d3214325a2114900008e")},{$ref:"koma",$id:n("4e48d3214325a2114900008f")},{$ref:"koma",$id:n("4e48d3214325a21149000090")},{$ref:"koma",$id:n("4e48d3214325a21149000091")},{$ref:"koma",$id:n("4e48d3214325a21149000092")},{$ref:"koma",$id:n("4e48d3214325a21149000093")},{$ref:"koma",$id:n("4e48d3214325a21149000094")},{$ref:"koma",$id:n("4e48d3214325a21149000095")},{$ref:"koma",$id:n("4e48d3214325a21149000096")},{$ref:"koma",$id:n("4e48d3214325a21149000097")},{$ref:"koma",$id:n("4e48d3214325a21149000098")},{$ref:"koma",$id:n("4e48d3214325a21149000099")},{$ref:"koma",$id:n("4e48d3214325a2114900009a")},{$ref:"koma",$id:n("4e48d3214325a2114900009b")},{$ref:"koma",$id:n("4e48d3214325a2114900009c")},{$ref:"koma",$id:n("4e48d3214325a2114900009d")},{$ref:"koma",$id:n("4e48d3214325a2114900009e")},{$ref:"koma",$id:n("4e48d3214325a2114900009f")},{$ref:"koma",$id:n("4e48d3214325a211490000a0")},{$ref:"koma",$id:n("4e48d3214325a211490000a1")},{$ref:"koma",$id:n("4e48d3214325a211490000a2")},{$ref:"koma",$id:n("4e48d3214325a211490000a3")},{$ref:"koma",$id:n("4e48d3214325a211490000a4")},{$ref:"koma",$id:n("4e48d3214325a211490000a5")},{$ref:"koma",$id:n("4e48d3214325a211490000a6")},{$ref:"koma",$id:n("4e48d3214325a211490000a7")},{$ref:"koma",$id:n("4e48d3214325a211490000a8")},{$ref:"koma",$id:n("4e48d3214325a211490000a9")},{$ref:"koma",$id:n("4e48d3214325a211490000aa")},{$ref:"koma",$id:n("4e48d3214325a211490000ab")},{$ref:"koma",$id:n("4e48d3214325a211490000ac")},{$ref:"koma",$id:n("4e48d3214325a211490000ad")},{$ref:"koma",$id:n("4e48d3214325a211490000ae")},{$ref:"koma",$id:n("4e48d3214325a211490000af")},{$ref:"koma",$id:n("4e48d3214325a211490000b0")},{$ref:"koma",$id:n("4e48d3214325a211490000b1")},{$ref:"koma",$id:n("4e48d3214325a211490000b2")},{$ref:"koma",$id:n("4e48d3214325a211490000b3")},{$ref:"koma",$id:n("4e48d3214325a211490000b4")},{$ref:"koma",$id:n("4e48d3214325a211490000b5")},{$ref:"koma",$id:n("4e48d3214325a211490000b6")},{$ref:"koma",$id:n("4e48d3214325a211490000b7")},{$ref:"koma",$id:n("4e48d3214325a211490000b8")},{$ref:"koma",$id:n("4e48d3214325a211490000b9")},{$ref:"koma",$id:n("4e48d3214325a211490000ba")},{$ref:"koma",$id:n("4e48d3214325a211490000bb")},{$ref:"koma",$id:n("4e48d3214325a211490000bc")},{$ref:"koma",$id:n("4e48d3214325a211490000bd")},{$ref:"koma",$id:n("4e48d3214325a211490000be")},{$ref:"koma",$id:n("4e48d3214325a211490000bf")},{$ref:"koma",$id:n("4e48d3214325a211490000c0")},{$ref:"koma",$id:n("4e48d3214325a211490000c1")},{$ref:"koma",$id:n("4e48d3214325a211490000c2")},{$ref:"koma",$id:n("4e48d3214325a211490000c3")},{$ref:"koma",$id:n("4e48d3214325a211490000c4")},{$ref:"koma",$id:n("4e48d3214325a211490000c5")},{$ref:"koma",$id:n("4e48d3214325a211490000c6")},{$ref:"koma",$id:n("4e48d3214325a211490000c7")},{$ref:"koma",$id:n("4e48d3214325a211490000c8")},{$ref:"koma",$id:n("4e48d3214325a211490000c9")},{$ref:"koma",$id:n("4e48d3214325a211490000ca")},{$ref:"koma",$id:n("4e48d3214325a211490000cb")},{$ref:"koma",$id:n("4e48d3214325a211490000cc")},{$ref:"koma",$id:n("4e48d3214325a211490000cd")},{$ref:"koma",$id:n("4e48d3224325a211490000ce")},{$ref:"koma",$id:n("4e48d3224325a211490000cf")},{$ref:"koma",$id:n("4e48d3224325a211490000d0")},{$ref:"koma",$id:n("4e48d3224325a211490000d1")},{$ref:"koma",$id:n("4e48d3224325a211490000d2")},{$ref:"koma",$id:n("4e48d3224325a211490000d3")},{$ref:"koma",$id:n("4e48d3224325a211490000d4")},{$ref:"koma",$id:n("4e48d3224325a211490000d5")},{$ref:"koma",$id:n("4e48d3224325a211490000d6")},{$ref:"koma",$id:n("4e48d3224325a211490000d7")},{$ref:"koma",$id:n("4e48d3224325a211490000d8")},{$ref:"koma",$id:n("4e48d3224325a211490000d9")},{$ref:"koma",$id:n("4e48d3224325a211490000da")},{$ref:"koma",$id:n("4e48d3224325a211490000db")},{$ref:"koma",$id:n("4e48d3224325a211490000dc")},{$ref:"koma",$id:n("4e48d3224325a211490000dd")},{$ref:"koma",$id:n("4e48d3224325a211490000de")},{$ref:"koma",$id:n("4e48d3224325a211490000df")},{$ref:"koma",$id:n("4e48d3224325a211490000e0")},{$ref:"koma",$id:n("4e48d3224325a211490000e1")},{$ref:"koma",$id:n("4e48d3224325a211490000e2")},{$ref:"koma",$id:n("4e48d3224325a211490000e3")},{$ref:"koma",$id:n("4e48d3224325a211490000e4")},{$ref:"koma",$id:n("4e48d3224325a211490000e5")},{$ref:"koma",$id:n("4e48d3224325a211490000e6")},{$ref:"koma",$id:n("4e48d3224325a211490000e7")},{$ref:"koma",$id:n("4e48d3224325a211490000e8")},{$ref:"koma",$id:n("4e48d3224325a211490000e9")},{$ref:"koma",$id:n("4e48d3224325a211490000ea")},{$ref:"koma",$id:n("4e48d3224325a211490000eb")},{$ref:"koma",$id:n("4e48d3224325a211490000ec")},{$ref:"koma",$id:n("4e48d3224325a211490000ed")},{$ref:"koma",$id:n("4e48d3224325a211490000ee")},{$ref:"koma",$id:n("4e48d3224325a211490000ef")},{$ref:"koma",$id:n("4e48d3224325a211490000f0")},{$ref:"koma",$id:n("4e48d3224325a211490000f1")},{$ref:"koma",$id:n("4e48d3224325a211490000f2")},{$ref:"koma",$id:n("4e48d3224325a211490000f3")},{$ref:"koma",$id:n("4e48d3224325a211490000f4")},{$ref:"koma",$id:n("4e48d3224325a211490000f5")},{$ref:"koma",$id:n("4e48d3224325a211490000f6")},{$ref:"koma",$id:n("4e48d3224325a211490000f7")},{$ref:"koma",$id:n("4e48d3224325a211490000f8")},{$ref:"koma",$id:n("4e48d3224325a211490000f9")},{$ref:"koma",$id:n("4e48d3224325a211490000fa")},{$ref:"koma",$id:n("4e48d3224325a211490000fb")},{$ref:"koma",$id:n("4e48d3224325a211490000fc")},{$ref:"koma",$id:n("4e48d3224325a211490000fd")},{$ref:"koma",$id:n("4e48d3224325a211490000fe")},{$ref:"koma",$id:n("4e48d3224325a211490000ff")},{$ref:"koma",$id:n("4e48d3224325a21149000100")},{$ref:"koma",$id:n("4e48d3224325a21149000101")},{$ref:"koma",$id:n("4e48d3224325a21149000102")},{$ref:"koma",$id:n("4e48d3224325a21149000103")},{$ref:"koma",$id:n("4e48d3224325a21149000104")},{$ref:"koma",$id:n("4e48d3224325a21149000105")},{$ref:"koma",$id:n("4e48d3224325a21149000106")},{$ref:"koma",$id:n("4e48d3224325a21149000107")},{$ref:"koma",$id:n("4e48d3224325a21149000108")},{$ref:"koma",$id:n("4e48d3224325a21149000109")},{$ref:"koma",$id:n("4e48d3224325a2114900010a")},{$ref:"koma",$id:n("4e48d3224325a2114900010b")},{$ref:"koma",$id:n("4e48d3224325a2114900010c")},{$ref:"koma",$id:n("4e48d3224325a2114900010d")},{$ref:"koma",$id:n("4e48d3224325a2114900010e")},{$ref:"koma",$id:n("4e48d3224325a2114900010f")},{$ref:"koma",$id:n("4e48d3224325a21149000110")},{$ref:"koma",$id:n("4e48d3224325a21149000111")},{$ref:"koma",$id:n("4e48d3224325a21149000120")},{$ref:"koma",$id:n("4e48d3224325a21149000122")},{$ref:"koma",$id:n("4e48d3224325a21149000123")},{$ref:"koma",$id:n("4e48d3224325a21149000124")},{$ref:"koma",$id:n("4e48d3224325a21149000125")},{$ref:"koma",$id:n("4e48d3224325a21149000126")},{$ref:"koma",$id:n("4e48d3224325a21149000127")},{$ref:"koma",$id:n("4e48d3224325a21149000128")},{$ref:"koma",$id:n("4e48d3224325a21149000129")},{$ref:"koma",$id:n("4e48d3224325a2114900012a")},{$ref:"koma",$id:n("4e48d3224325a2114900012b")},{$ref:"koma",$id:n("4e48d3224325a2114900012c")},{$ref:"koma",$id:n("4e48d3224325a2114900012d")},{$ref:"koma",$id:n("4e48d3224325a2114900012e")},{$ref:"koma",$id:n("4e48d3224325a2114900012f")},{$ref:"koma",$id:n("4e48d3224325a21149000130")},{$ref:"koma",$id:n("4e48d3224325a21149000131")},{$ref:"koma",$id:n("4e48d3224325a21149000132")},{$ref:"koma",$id:n("4e48d3224325a21149000133")},{$ref:"koma",$id:n("4e48d3224325a21149000134")},{$ref:"koma",$id:n("4e48d3224325a21149000135")},{$ref:"koma",$id:n("4e48d3224325a21149000136")},{$ref:"koma",$id:n("4e48d3224325a21149000137")},{$ref:"koma",$id:n("4e48d3224325a21149000138")},{$ref:"koma",$id:n("4e48d3224325a21149000139")},{$ref:"koma",$id:n("4e48d3224325a2114900013a")},{$ref:"koma",$id:n("4e48d3224325a2114900013b")},{$ref:"koma",$id:n("4e48d3224325a2114900013c")},{$ref:"koma",$id:n("4e48d3224325a2114900013d")},{$ref:"koma",$id:n("4e48d3224325a2114900013e")},{$ref:"koma",$id:n("4e48d3224325a2114900013f")},{$ref:"koma",$id:n("4e48d3224325a21149000140")},{$ref:"koma",$id:n("4e48d3224325a21149000141")},{$ref:"koma",$id:n("4e48d3224325a21149000142")},{$ref:"koma",$id:n("4e48d3224325a21149000143")},{$ref:"koma",$id:n("4e48d3224325a21149000144")},{$ref:"koma",$id:n("4e48d3224325a21149000145")},{$ref:"koma",$id:n("4e48d3224325a21149000147")},{$ref:"koma",$id:n("4e48d3224325a21149000148")},{$ref:"koma",$id:n("4e48d3224325a21149000149")},{$ref:"koma",$id:n("4e48d3224325a2114900014a")},{$ref:"koma",$id:n("4e48d3224325a2114900014b")},{$ref:"koma",$id:n("4e48d3224325a2114900014c")},{$ref:"koma",$id:n("4e48d3224325a2114900014d")},{$ref:"koma",$id:n("4e48d3224325a2114900014e")},{$ref:"koma",$id:n("4e48d3224325a2114900014f")},{$ref:"koma",$id:n("4e48d3224325a21149000150")},{$ref:"koma",$id:n("4e48d3224325a21149000151")},{$ref:"koma",$id:n("4e48d3224325a21149000152")},{$ref:"koma",$id:n("4e48d3224325a21149000153")},{$ref:"koma",$id:n("4e48d3224325a21149000154")},{$ref:"koma",$id:n("4e48d3224325a21149000155")},{$ref:"koma",$id:n("4e48d3224325a21149000156")},{$ref:"koma",$id:n("4e48d3224325a21149000157")},{$ref:"koma",$id:n("4e48d3224325a21149000158")},{$ref:"koma",$id:n("4e48d3224325a21149000159")},{$ref:"koma",$id:n("4e48d3224325a2114900015b")},{$ref:"koma",$id:n("4e48d3224325a2114900015c")},{$ref:"koma",$id:n("4e48d3224325a2114900015d")},{$ref:"koma",$id:n("4e48d3224325a2114900015e")},{$ref:"koma",$id:n("4e48d3224325a2114900015f")},{$ref:"koma",$id:n("4e48d3224325a21149000160")},{$ref:"koma",$id:n("4e48d3224325a21149000161")},{$ref:"koma",$id:n("4e48d3224325a21149000162")},{$ref:"koma",$id:n("4e48d3224325a21149000163")},{$ref:"koma",$id:n("4e48d3224325a21149000164")},{$ref:"koma",$id:n("4e48d3224325a21149000165")},{$ref:"koma",$id:n("4e48d3224325a21149000166")},{$ref:"koma",$id:n("4e48d3224325a21149000167")},{$ref:"koma",$id:n("4e48d3224325a21149000168")},{$ref:"koma",$id:n("4e48d3224325a21149000169")},{$ref:"koma",$id:n("4e48d3224325a2114900016a")},{$ref:"koma",$id:n("4e48d3224325a2114900016b")},{$ref:"koma",$id:n("4e48d3224325a2114900016c")},{$ref:"koma",$id:n("4e48d3224325a2114900016d")},{$ref:"koma",$id:n("4e48d3224325a2114900016e")},{$ref:"koma",$id:n("4e48d3224325a2114900016f")},{$ref:"koma",$id:n("4e48d3224325a21149000170")},{$ref:"koma",$id:n("4e48d3224325a21149000171")},{$ref:"koma",$id:n("4e48d3224325a21149000172")},{$ref:"koma",$id:n("4e48d3224325a21149000173")}],size:[36,36],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},Promotion:{Normal:{must:!0,dan:11}}},winkoma:["wz","cg","uc"]}),r.getCollection("rule").insert({_id:73,abstract:"敵味方の駒が目の前に向かい合ったとき、互いの駒が入れ替わる。向きは対面を保ったまま、駒の中間を中心に１８０度回転する。また、自分や相手が二歩になるような着手はできない。",extend:{$ref:"rule",$id:0},name:"どんでん返し",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Donden:!0},Nifu:{Whole:!0},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:75,abstract:"３手ずつ指す。ただし、３手とも別の駒でなくてはならない。",extend:{$ref:"rule",$id:0},name:"バレーボール",players:[0,0,0,1,1,1],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveControl:{Volleyball:!0}}}),r.getCollection("rule").insert({_id:76,abstract:"チェス。",img:{height:48,width:48},init:{ban:[[[1,"vo"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"vo"]],[[1,"kk"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"kk"]],[[1,"ud"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"ud"]],[[1,"yl"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"yl"]],[[1,"yk"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"yk"]],[[1,"ud"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"ud"]],[[1,"kk"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"kk"]],[[1,"vo"],[1,"ki"],[],[],[],[],[0,"ki"],[0,"vo"]]],mochigoma:[[],[]]},koma:["ki","kk","ud","vo","yk","yl"],name:"チェス",nari:{ki:"yk",kk:null,ud:null,vo:null,yk:null,yl:null},noRoom:!0,noreverse:"koma",players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48d3214325a21149000022")},{$ref:"koma",$id:n("4e48d3214325a21149000024")},{$ref:"koma",$id:n("4e48d3224325a21149000121")},{$ref:"koma",$id:n("4e48d3224325a21149000146")},{$ref:"koma",$id:n("4e48d3224325a21149000190")},{$ref:"koma",$id:n("4e48d3224325a21149000191")}],size:[8,8],strategy:{MochigomaIO:{NoUse:!0},Promotion:{Normal:{dan:1}}},winkoma:["yl"]}),r.getCollection("rule").insert({_id:77,abstract:"盤面の端とつながっていない駒は盤上から消える。駒が縦横に連なっていて端とつながっていればよい。",extend:{$ref:"rule",$id:0},name:"水中将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MoveEffect:{Underwater:!0}}}),r.getCollection("rule").insert({_id:79,abstract:"狭い。",init:{ban:[[[1,"ab"],[],[1,"aa"],[],[0,"aa"],[],[0,"ab"]],[[1,"ac"],[],[1,"aa"],[],[0,"aa"],[0,"ag"],[0,"ac"]],[[1,"ad"],[1,"af"],[1,"aa"],[],[0,"aa"],[],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[],[1,"aa"],[],[0,"aa"],[0,"af"],[0,"ad"]],[[1,"ac"],[1,"ag"],[1,"aa"],[],[0,"aa"],[],[0,"ac"]],[[1,"ab"],[],[1,"aa"],[],[0,"aa"],[],[0,"ab"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an"],name:"狭い将棋",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")}],size:[9,7],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:80,abstract:"普通のオセロです。",img:{height:48,width:48},init:{ban:[[[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[]],[[],[],[],[0,"yo"],[1,"yo"],[],[],[]],[[],[],[],[1,"yo"],[0,"yo"],[],[],[]],[[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[]]],mochigoma:[[],[]]},name:"オセロ",nari:[],noreverse:"koma",players:[0,1],refKoma:[{$ref:"koma",$id:n("4e490b014325a21249000059")}],size:[8,8],strategy:{Judge:{Othello:!0},MochigomaIO:{Infinity:{autoput:!0}},MoveEffect:{Othello:{must:!0}},TebanRotation:{Othello:!0}}}),r.getCollection("rule").insert({_id:81,abstract:"普通の五目並べです。三三(「３個連続」または「１つ空きで３つが並んでいる」、かつ「両端が空いている」という状態が２方向に発生した場合)は禁止です。",css:"igo",img:{height:30,width:30},init:{ban:[[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]],mochigoma:[[],[]]},name:"五目並べ",nari:[],noreverse:"ban",players:[0,1],refKoma:[{$ref:"koma",$id:n("4e490b014325a21249000059")}],size:[19,19],strategy:{Judge:{Gomoku:{moku:5,sansan:!0}},MochigomaIO:{Infinity:{autoput:!0}}}}),r.getCollection("rule").insert({_id:82,abstract:"下方向へ落ちる四目並べです。",img:{height:48,width:48},init:{ban:[[[],[],[],[],[],[]],[[],[],[],[],[],[]],[[],[],[],[],[],[]],[[],[],[],[],[],[]],[[],[],[],[],[],[]],[[],[],[],[],[],[]],[[],[],[],[],[],[]]],mochigoma:[[],[]]},name:"重力四目並べ",nari:[],noreverse:"ban",players:[0,1],refKoma:[{$ref:"koma",$id:n("4e490b014325a21249000059")}],size:[7,6],strategy:{Destination:{Gravity:!0},Judge:{Gomoku:{moku:4}},MochigomaIO:{Infinity:{autoput:!0}}}}),r.getCollection("rule").insert({_id:83,abstract:"最初の黒以外は２手ずつ打つ六目並べ。",css:"igo",img:{height:30,width:30},init:{ban:[[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]],mochigoma:[[],[]]},name:"六目並べ",nari:[],noreverse:"ban",players:[0,1,1,0],refKoma:[{$ref:"koma",$id:n("4e490b014325a21249000059")}],size:[19,19],strategy:{Judge:{Gomoku:{moku:6}},MochigomaIO:{Infinity:{autoput:!0}}}}),r.getCollection("rule").insert({_id:86,abstract:"味方の駒が横に複数並んだとき、左からn番目の駒の性能が右からn番目の駒の性能になる。",extend:{$ref:"rule",$id:0},name:"横ネコ鮮将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Yokonekosen:!0},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:87,abstract:"敵味方関わらず駒が横に複数並んだとき、左からn番目の駒の性能が右からn番目の駒の性能になる。",extend:{$ref:"rule",$id:0},name:"横ネコネコ鮮将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},KomaSuggest:{Yokonekonekosen:!0},Promotion:{Normal:{illegal:!0}}}}),r.getCollection("rule").insert({_id:90,abstract:"せっまい。",init:{ban:[[[1,"ac"],[],[1,"aa"],[],[0,"aa"],[],[0,"ab"]],[[1,"ad"],[1,"af"],[1,"aa"],[],[0,"aa"],[0,"ag"],[0,"ad"]],[[1,"ae"],[],[1,"aa"],[],[0,"aa"],[],[0,"ae"]],[[1,"ah"],[],[1,"aa"],[],[0,"aa"],[],[0,"ah"]],[[1,"ae"],[],[1,"aa"],[],[0,"aa"],[],[0,"ae"]],[[1,"ad"],[1,"ag"],[1,"aa"],[],[0,"aa"],[0,"af"],[0,"ad"]],[[1,"ab"],[],[1,"aa"],[],[0,"aa"],[],[0,"ac"]]],mochigoma:[[],[]]},koma:["aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an"],name:"せっまい将棋",nari:{aa:"ai",ab:"aj",ac:"ak",ad:"al",ae:null,af:"am",ag:"an",ah:null},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48b9cf4325a2053f000000")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000001")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000002")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000003")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000004")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000005")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000006")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000007")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000008")},{$ref:"koma",$id:n("4e48b9cf4325a2053f000009")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000a")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000b")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000c")},{$ref:"koma",$id:n("4e48b9cf4325a2053f00000d")}],size:[7,7],strategy:null,winkoma:["ah"]}),r.getCollection("rule").insert({_id:93,abstract:"駒を取ると、駒台にその駒が２つ乗る。",extend:{$ref:"rule",$id:0},name:"増殖将棋",strategy:{MochigomaIO:{Double:!0}}}),r.getCollection("rule").insert({_id:100,abstract:"北尾女流の案。原図: http://p.twipple.jp/RAzTY 2〜4筋の手前2段目は宮であり、仕と師はそこから出られない。3段目と4段目の間には河があり、相は越えられず、兵は越えると成る。",init:{ban:[[[1,"yu"],[1,"yx"],[],[],[0,"yx"],[0,"yv"]],[[1,"yt"],[],[],[],[],[0,"ys"]],[[1,"yr"],[1,"yw"],[1,"yx"],[0,"yx"],[0,"yw"],[0,"yr"]],[[1,"ys"],[],[],[],[],[0,"yt"]],[[1,"yv"],[1,"yx"],[],[],[0,"yx"],[0,"yu"]]],mochigoma:[[],[]]},koma:["yr","ys","yt","yu","yv","yw","yx","yy"],name:"ミニシャンチー1(仮)",nari:{yr:null,ys:null,yt:null,yu:null,yv:null,yw:null,yx:"yy"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48d3224325a21149000197")},{$ref:"koma",$id:n("4e48d3224325a21149000198")},{$ref:"koma",$id:n("4e48d3224325a21149000199")},{$ref:"koma",$id:n("4e48d3224325a2114900019a")},{$ref:"koma",$id:n("4e48d3224325a2114900019b")},{$ref:"koma",$id:n("4e48d3224325a2114900019c")},{$ref:"koma",$id:n("4e48d3224325a2114900019d")},{$ref:"koma",$id:n("4e48d3224325a2114900019e")}],size:[5,6],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},MoveControl:{NoTaimen:{species:["yr"]}},MoveFilter:{Restricted:{place:[{species:["yr","ys"],min:{x:2,y:5},max:{x:4,y:6}},{species:["yu"],min:{x:1,y:4},max:{x:5,y:6}}]}},Promotion:{Normal:{must:!0}}},winkoma:["yr"]}),r.getCollection("rule").insert({_id:102,abstract:"@yon_ichiroさんの案2つ目。原図: http://twitpic.com/5hpm2f 2〜4筋の手前3段目は宮であり、仕と師はそこから出られない。3段目と4段目の間には河があり、相は越えられず、兵は越えると成る。",init:{ban:[[[1,"yt"],[],[],[],[],[0,"yw"]],[[],[],[],[0,"yx"],[],[]],[[1,"yr"],[1,"ys"],[1,"yu"],[0,"yu"],[0,"ys"],[0,"yr"]],[[],[],[1,"yx"],[],[],[]],[[1,"yw"],[],[],[],[],[0,"yt"]]],mochigoma:[[],[]]},koma:["yr","ys","yt","yu","yw","yx","yy"],name:"ミニシャンチー3(仮)",nari:{yr:null,ys:null,yt:null,yu:null,yw:null,yx:"yy"},players:[0,1],refKoma:[{$ref:"koma",$id:n("4e48d3224325a21149000197")},{$ref:"koma",$id:n("4e48d3224325a21149000198")},{$ref:"koma",$id:n("4e48d3224325a21149000199")},{$ref:"koma",$id:n("4e48d3224325a2114900019a")},{$ref:"koma",$id:n("4e48d3224325a2114900019c")},{$ref:"koma",$id:n("4e48d3224325a2114900019d")},{$ref:"koma",$id:n("4e48d3224325a2114900019e")}],size:[5,6],strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},MochigomaIO:{NoUse:!0},MoveControl:{NoTaimen:{species:["yr"]}},MoveFilter:{Restricted:{place:[{species:["yr","ys"],min:{x:2,y:4},max:{x:4,y:6}},{species:["yu"],min:{x:1,y:4},max:{x:5,y:6}}]}},Promotion:{Normal:{must:!0}}},winkoma:["yr"]}),r.getCollection("rule").insert({_id:24,abstract:"味方の駒も取って持ち駒にできる。",eatfriend:!0,extend:{$ref:"rule",$id:0},name:"仲間割れ将棋",strategy:{CaptureControl:{Nakamaware:!0},Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}}}}),r.getCollection("rule").insert({_id:107,abstract:"持った駒が、移動可能範囲の中からランダムに選ばれたマスに移動する。持ち駒の打ち場所もランダム。",extend:{$ref:"rule",$id:0},name:"ランダム将棋",strategy:{Judge:{Oute:{ignore:!0},Tsumi:{ignore:!0}},Destination:{Random:[]}}})},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=o(12),s=i(o(4)),m=o(9),p=o(8),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="持ち駒",t}return r(t,e),t.prototype.executeIn=function(e,t){var o,a;try{for(var r=n(this.arrayStrategies),i=r.next();!i.done;i=r.next()){var c=i.value;c.checkDirection(this.ban.parent.fromDirection)&&c.executeIn(e,t)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.executeOut=function(e,t){var o,a;try{for(var r=n(this.arrayStrategies),i=r.next();!i.done;i=r.next()){var c=i.value;c.checkDirection(this.ban.parent.fromDirection)&&c.executeOut(e,t)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.getStrategyGenre=function(){return this.abstract},t}(s.StrategyContainer);t.MochigomaIOStrategyContainer=u;var l=function(e){function t(t,o){var a=e.call(this)||this;return a.abstract="持ち駒",a.mochigoma=t.parent.mochigoma,a.setting=o,a}return r(t,e),t.prototype.execute=function(){throw"This strategy doesn't expect calling execute()"},t.prototype.executeOut=function(e,t){this.mochigoma.remove(e,t)},t.create=function(e,t,o){return new(0,$[e])(t,o)},t}(s.default);t.MochigomaIOStrategy=l;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="通常",t}return r(t,e),t.prototype.executeIn=function(e,t){e.promote(c.PromotionMode.FRONT),this.mochigoma.add(e.species,t,1)},t}(l),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="不使用",t}return r(t,e),t.prototype.executeIn=function(e,t){},t.prototype.toHTML=function(){return this.abstract},t}(l),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="持ち駒共有(取った駒は両方の駒台に乗り、片方が使うと両方の駒が消える)",t}return r(t,e),t.prototype.executeIn=function(e,t){var o,a;e.promote(0);try{for(var r=n(this.mochigoma.parent.teban.getIterator()),i=r.next();!i.done;i=r.next()){var c=i.value;this.mochigoma.add(e.species,c,1)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.executeOut=function(e,t){var o,a;try{for(var r=n(this.mochigoma.parent.teban.getIterator()),i=r.next();!i.done;i=r.next()){var c=i.value;this.mochigoma.remove(e,c,1)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.toHTML=function(){return this.abstract},t}(l),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="取った駒が2枚に増えて駒台に乗る。",t}return r(t,e),t.prototype.executeIn=function(e,t){e.promote(0),this.mochigoma.add(e.species,t,2)},t.prototype.toHTML=function(){return this.abstract},t}(l),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="駒をとると表裏の駒が駒台に乗り、どちらの面でも打つことが出来る。",t}return r(t,e),t.prototype.executeIn=function(e,t){var o,a;try{for(var r=n(this.getBothFace(e.species)),i=r.next();!i.done;i=r.next()){var c=i.value;this.mochigoma.add(c,t,1)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.executeOut=function(e,t){var o,a;try{for(var r=n(this.getBothFace(e)),i=r.next();!i.done;i=r.next()){var c=i.value;this.mochigoma.remove(c,t,1)}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.getBothFace=function(e){var t=[e],o=this.mochigoma.parent.getPromoted(e,2);return o!=e&&t.push(o),t},t.prototype.toHTML=function(){return this.abstract},t}(l),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="無限に打てる。",t}return r(t,e),t.prototype.isDuplicable=function(e){return e==(this.setting.species||"yo")},t.prototype.executeIn=function(e,t){e.promote(0),this.isDuplicable(e.species)||this.mochigoma.add(e.species,t,1)},t.prototype.executeOut=function(e,t){var o=this.setting.directions;(!o||o.indexOf(t)>=0)&&this.isDuplicable(e)||this.mochigoma.remove(e,t)},t.prototype.toHTML=function(){var e=this.setting.species||"yo";return(this.setting.common.directions?this.setting.common.directions.map((function(e){return m.Teban.tebanName[0][e]})).join(" ")+"は":"")+"<a href='/koma/"+e+"'>"+p.shogitterDB.getKoma(e,"name")+"</a>を無限に打てる"},t}(l),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="種類変換",t}return r(t,e),t.prototype.executeIn=function(e,t){e.promote(0);var o=this.setting[e.direction][e.species];o&&this.mochigoma.add(o,t,1)},t.prototype.toHTML=function(){var e="持ち駒を取る時";for(var t in this.setting){var o=this.setting[t];for(var a in o){var r=o[a];e+=" "+m.Teban.tebanName[0][t]+"の<a href='/koma/{from}'>"+p.shogitterDB.getKoma(a,"name")+"</a>は<a href='/koma/{to}'>"+p.shogitterDB.getKoma(r,"name")+"</a>に"}}return e+"置き換えられる"},t}(l),k=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="持ち駒判定",t}r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract}}(s.StrategyContainer),function(e){function t(t,o){var a=e.call(this)||this;return a.abstract="持ち駒判定",a.mochigoma=t.parent.mochigoma,a.setting=o,a}return r(t,e),t}(s.default)),$=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="通常",t}r(t,e),t.prototype.execute=function(e){}}(k),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="三枚目になると勝ち。",t}r(t,e),t.prototype.execute=function(e){if(this.mochigoma.count(e)>=3){var t=0==e?1:0;this.mochigoma.parent.gameEnd(t,e,"勝ち","３枚目です。"+this.mochigoma.parent.teban.getName(e)+"の勝ちです。")}},t.prototype.toHTML=function(){return this.abstract}}(k),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.abstract="五枚目になると負け。",t}r(t,e),t.prototype.execute=function(e){this.mochigoma.count(e)>=5&&this.mochigoma.parent.gameEnd(e,e,"負け","持ち駒が5枚に達しました。"+this.mochigoma.parent.teban.getName(e)+"の負けです。")},t.prototype.toHTML=function(){return this.abstract}}(k),{Normal:f,NoUse:y,Share:d,Double:v,BothFace:h,Infinity:b,Exchange:g})},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i(o(4)),m=c(o(6)),p=o(2),u=function(e){function t(t){var o=e.call(this)||this;return o.ban=t,o}return r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract},t.create=function(e,t,o){return new(0,l[e])(t,o)},t.abstract="駒の性能",t}(s.default);t.default=u;var l={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){return[e.species]},t.abstract="通常",t}(u),Annan:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=new m.RelXY(0,1);t.turn(e.direction);var o=e.XY.getCloneRel(t);return this.ban.isLegal(o)&&e.ban.exists(o)&&e.ban.getDirection(o)==e.direction?[e.ban.getSpecies(o)]:[e.species]},t.prototype.toHTML=function(){return this.abstract},t.abstact="後ろに味方の駒があればその動きをする。",t}(u),Anhoku:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=new m.RelXY(0,-1);t.turn(e.direction);var o=e.XY.getCloneRel(t);return this.ban.isLegal(o)&&e.ban.exists(o)&&e.ban.getDirection(o)==e.direction?[e.ban.getSpecies(o)]:[e.species]},t.prototype.toHTML=function(){return this.abstract},t.abstact="前に味方の駒があればその動きをする。",t}(u),Tenjiku:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=[e.species],o=new m.RelXY(0,1);o.turn(e.direction);var a=e.XY.getCloneRel(o);return this.ban.isLegal(a)&&e.ban.exists(a)&&e.ban.getDirection(a)==e.direction&&t.push(e.ban.getSpecies(a)),t},t.prototype.toHTML=function(){return this.abstract},t.abstact="元の動きに加え、後ろに味方の駒があればその動きをする。",t}(u),Nekosen:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){for(var t=e.XY.getClone(0,-1);this.ban.isLegal(t)&&e.ban.exists(t)&&e.ban.getDirection(t)==e.direction;)t.add(0,-1);var o=t.y;t=e.XY.getClone(0,1);for(var a=e.XY.y;this.ban.isLegal(t)&&e.ban.exists(t)&&e.ban.getDirection(t)==e.direction;)t.add(0,1);return a=t.y,[e.ban.getSpecies(new m.default(e.XY.x,e.XY.y+(a-e.XY.y)+(o-e.XY.y)))]},t.prototype.toHTML=function(){return this.abstract},t.abstact="味方の駒が縦に複数並んだとき、上からn番目の駒の性能と下からn番目の駒の性能が入れ替わる。",t}(u),Nekonekosen:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){for(var t=e.XY.getClone(0,-1);this.ban.isLegal(t)&&e.ban.exists(t);)t.add(0,-1);var o=t.y;t=e.XY.getClone(0,1);for(var a=e.XY.y;this.ban.isLegal(t)&&e.ban.exists(t);)t.add(0,1);return a=t.y,[e.ban.getSpecies(new m.default(e.XY.x,e.XY.y+(a-e.XY.y)+(o-e.XY.y)))]},t.prototype.toHTML=function(){return this.abstract},t.abstact="敵味方に関わらず、駒が横に複数並んだとき、上からn番目の駒の性能と下からn番目の駒の性能が入れ替わる。",t}(u),Yokonekosen:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){for(var t=e.XY.getClone(-1,0);this.ban.isLegal(t)&&e.ban.exists(t)&&e.ban.getDirection(t)==e.direction;)t.add(-1,0);var o=t.x;for(t=e.XY.getClone(1,0);this.ban.isLegal(t)&&e.ban.exists(t)&&e.ban.getDirection(t)==e.direction;)t.add(1,0);var a=t.x;return[e.ban.getSpecies(new m.default(e.XY.x+(a-e.XY.x)+(o-e.XY.x),e.XY.y))]},t.prototype.toHTML=function(){return this.abstract},t.abstact="味方の駒が横に複数並んだとき、左からn番目の駒の性能と右からn番目の駒の性能が入れ替わる。",t}(u),Yokonekonekosen:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){for(var t=e.XY.getClone(-1,0);this.ban.isLegal(t)&&e.ban.exists(t);)t.add(-1,0);var o=t.x;for(t=e.XY.getClone(1,0);this.ban.isLegal(t)&&e.ban.exists(t);)t.add(1,0);var a=t.x;return[e.ban.getSpecies(new m.default(e.XY.x+(a-e.XY.x)+(o-e.XY.x),e.XY.y))]},t.prototype.toHTML=function(){return this.abstract},t.abstact="敵味方に関わらず、駒が横に複数並んだとき、左からn番目の駒の性能と右からn番目の駒の性能が入れ替わる。",t}(u),Taimen:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=new m.RelXY(0,-1);t.turn(e.direction);var o=e.XY.getCloneRel(t);return this.ban.isLegal(o)&&e.ban.exists(o)&&e.ban.getDirection(o)!=e.direction?[e.ban.getSpecies(o)]:[e.species]},t.prototype.toHTML=function(){return this.abstract},t.abstact="前のマスに相手の駒があったら、その動きをする。",t}(u),Haimen:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=new m.RelXY(0,1);t.turn(e.direction);var o=e.XY.getCloneRel(t);return this.ban.isLegal(o)&&e.ban.exists(o)&&e.ban.getDirection(o)!=e.direction?[e.ban.getSpecies(o)]:[e.species]},t.prototype.toHTML=function(){return this.abstract},t.abstact="後ろのマスに相手の駒があったら、その動きをする。",t}(u),Anki:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t,o,a=[new m.RelXY(2,1),new m.RelXY(2,-1),new m.RelXY(-2,1),new m.RelXY(-2,-1),new m.RelXY(1,2),new m.RelXY(1,-2),new m.RelXY(-1,2),new m.RelXY(-1,-2)],r=[];try{for(var i=n(a),c=i.next();!c.done;c=i.next()){var s=c.value,p=e.XY.getCloneRel(s);if(this.ban.isLegal(p)){var u=e.ban.get(p);u.isNull()||u.direction==e.direction&&r.push(u.species)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return r.length>0?r:[e.species]},t.prototype.toHTML=function(){return this.abstract},t.abstact="八方桂の位置に相手の駒があったら、その動きをする。",t}(u),Antouzai:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t,o,a=[new m.RelXY(1,0),new m.RelXY(-1,0)],r=[];try{for(var i=n(a),c=i.next();!c.done;c=i.next()){var s=c.value,p=e.XY.getCloneRel(s);if(this.ban.isLegal(p)){var u=e.ban.get(p);u.isNull()||u.direction==e.direction&&r.push(u.species)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return r.length>0?r:[e.species]},t.prototype.toHTML=function(){return this.abstract},t.abstact="左右のマスに相手の駒があったら、その動きをする。",t}(u),Quantum:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.koma=["aa","ab","ac","ad","ae","af","ag","ah"],t.komaProm=["ai","aj","ak","al","am","an"],t}return r(t,e),t.prototype.execute=function(e){var t="fg"==e.species,o=this.findPos(e.XY);return null!==o?this.mapConvertName(this.obj[o.direction].d.kinds[o.position],t):p.array_diff(t?this.komaProm:this.koma,this.mapConvertName(this.obj[e.direction].d.fulls,t))},t.prototype.findPos=function(e){var t,o,a=e.toString();try{for(var r=n([0,1]),i=r.next();!i.done;i=r.next()){var c=i.value;for(var s in this.obj[c].xys)if(a==this.obj[c].xys[s])return{direction:c,position:s}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}return null},t.prototype.deserialize=function(e){var t,o,a=e.quantum;try{for(var r=n([0,1]),i=r.next();!i.done;i=r.next()){var c=i.value;a[c].xys||(a[c].xys=[]),a[c].d.fulls||(a[c].d.fulls=[])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}this.obj=a},t.prototype.mapConvertName=function(e,t){var o=this;return e.map((function(e){return o.convertName(e,t)}))},t.prototype.convertName=function(e,t){switch(e){case"Fu":return t?"ai":"aa";case"Ky":return t?"aj":"ab";case"Ke":return t?"ak":"ac";case"Gi":return t?"al":"ad";case"Ki":return t?null:"ae";case"Ka":return t?"am":"af";case"Hi":return t?"an":"ag";case"Ou":return t?null:"ah"}},t}(u)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t){var o=e.call(this)||this;return o.ban=t,o.mochigoma=t.parent.mochigoma,o}return r(t,e),t.prototype.execute=function(e,t){if(this.ban.exists(e))return this.capture(e,t),!0},t.prototype.capture=function(e,t){this.mochigoma.strategy.MochigomaIO.executeIn(this.ban.take(e),t),this.mochigoma.strategy.MochigomaControl.execute(t)},t.prototype.getStrategyGenre=function(){return this.abstract},t.create=function(e,t,o){return new(0,s[e])(t,o)},t.abstract="駒取り",t}(i(o(4)).default);t.default=c;var s={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.abstract="通常",t}(c),Kiruke:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){var o,a,r=this.ban.get(e);if(!r.isNull()){var i=r.getPromoted(0);try{for(var c=n(this.ban.getNearestInitPlace(r.direction,i,e)),s=c.next();!s.done;s=c.next()){var m=s.value;if(this.ban.get(m).isNull())return r.species=i,this.ban.move(m,e),!1}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return this.capture(e,t),!0}},t.prototype.toHTML=function(){return"キルケ("+this.abstract+")"},t.abstract="取られた駒の初期位置マスが空いていればそこに戻す",t}(c)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(o(6)),s=o(4),m=o(2),p=function(e){function t(t){var o=e.call(this)||this;return o.ban=t,o}return r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract},t.create=function(e,t,o){return new(0,u[e])(t,o)},t.abstract="行き先",t}(s.BeforeAfterDropStrategy);t.default=p;var u={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e,t){void 0===t&&(t=null)},t.prototype.executeAfter=function(e){},t.prototype.executeDrop=function(e){},t}(p),Gravity:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e,t){void 0===t&&(t=null)},t.prototype.executeAfter=function(e){},t.prototype.executeDrop=function(e){for(e.y=this.ban.y;;){if(0==e.y)throw new m.Exception("そこには置けません。");if(!this.ban.exists(e))break;e.add(0,-1)}},t.prototype.toHTML=function(){return this.abstract},t.abstract="下段へ落ちる",t}(p),Random:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e,t){var o,a;void 0===t&&(t=null);var r=this.ban.get(e),i=r.direction,c=r.getMovable();m.shuffle(c);try{for(var s=n(c),p=s.next();!p.done;p=s.next()){var u=p.value;if(!this.ban.exists(u.XY)||this.ban.get(u.XY).direction!=i)return void t.set(u.XY.x,u.XY.y)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new m.Exception("動けません")},t.prototype.executeAfter=function(e){},t.prototype.executeDrop=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null);for(var a=[],r=[],n=1;n<=this.ban.x;n++)for(var i=1;i<=this.ban.y;i++){var s=new c.default(n,i);if(this.ban.exists(s)){var p=this.ban.get(s);"aa"==t&&p.direction==o&&"aa"==p.species&&r.push(n)}else a.push(s)}if(0==(a=a.filter((function(e){return-1==r.indexOf(e.x)}))).length)throw new m.Exception("その駒は打てません。");var u=a[Math.floor(Math.random()*a.length)];e.set(u.x,u.y)},t}(p)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=i(o(4)),s=i(o(6)),m=o(12),p=o(8),u=o(2),l=o(15),f=o(26),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getAbstract=function(){return this.abstract},t.prototype.getStrategyGenre=function(){return this.abstract},t.abstract="勝利判定",t.defaultSetting={WinKoma:{},Oute:{},Tsumi:{}},t}(c.StrategyContainer);t.JudgeStrategyContainer=y;var d=function(e){function t(t,o){var a=e.call(this)||this;return a.ban=t,a.setting=o,a}return r(t,e),t.prototype.gameEnd=function(e,t,o,a){this.ban.parent.gameEnd(e,t,o,a)},t.create=function(e,t,o){return new(0,v[e])(t,o)},t.abstract="勝利判定",t}(c.default);t.default=d;var v={"":d,Normal:d,WinKoma:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t,o,a,r,i,c;if(this.ban.parent.rule.winkoma){var s=this.ban.countSpecies(),p="";try{e:for(var u=n(this.ban.parent.teban.getIterator()),l=u.next();!l.done;l=u.next()){var f=l.value;try{for(var y=(a=void 0,n(this.ban.parent.rule.winkoma)),d=y.next();!d.done;d=y.next()){var v=d.value;if(s[f][v]>0)continue e}}catch(e){a={error:e}}finally{try{d&&!d.done&&(r=y.return)&&r.call(y)}finally{if(a)throw a.error}}try{for(var h=(i=void 0,n(this.ban.parent.rule.winkoma)),b=h.next();!b.done;b=h.next()){v=b.value;p+=" "+m.Koma.getStatelessData(v,"name")}}catch(e){i={error:e}}finally{try{b&&!b.done&&(c=h.return)&&c.call(h)}finally{if(i)throw i.error}}this.gameEnd(f,f,"負け",this.ban.parent.teban.getName(f)+"の"+p+" が取られました。")}}catch(e){t={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}}}},t.prototype.toHTML=function(){var e,t;if(!this.ban.parent.rule.winkoma)return null;var o="王将駒 =";try{for(var a=n(this.ban.parent.rule.winkoma),r=a.next();!r.done;r=a.next()){var i=r.value;o+=" <a href='/koma/"+i+"'>"+p.shogitterDB.getKoma(i,"name")+"</a>"}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o+=""},t.abstract="玉がない",t}(d),Oute:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=this;if(!this.setting.ignore)if(this.setting.fatal){var o=0;if(this.ban.checkOute().forEach((function(e,a){var r=0===a?1:0;t.ban.parent.gameEnd(a,r,"勝ち",t.ban.parent.teban.getName(a)+"玉に王手がかかりました。"+t.ban.parent.teban.getName(r)+"の勝ちです。"),o++})),o>1)throw new u.Exception("複数の玉に王手がかかっています。")}else if(this.ban.checkOuteByDirection(this.ban.get(e).direction))throw new u.Exception("王手を放置しています。")},t.prototype.toHTML=function(){return this.setting.ignore?"王手判定なし":this.setting.fatal?"王手をすれば勝ち":null},t.abstract="王手",t}(d),Tsumi:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){var o,a;if(void 0===t&&(t=!1),!this.setting.ignore){var r=this.ban.get(e);try{for(var i=n(this.ban.parent.teban.getIterator()),c=i.next();!c.done;c=i.next()){var s=c.value;r.direction!=s&&(this.isTsumi(s)&&(!this.setting.uchifu&&t&&"aa"==r.species?this.ban.parent.gameEnd(r.direction,s,"反則勝ち","打ち歩詰めです。"+this.ban.parent.teban.getName(s)+"の勝ちです。"):this.ban.parent.gameEnd(s,s,"詰み",this.ban.parent.teban.getName(s)+"玉が詰みました。"+this.ban.parent.teban.getName(r.direction)+"の勝ちです。")))}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}}},t.prototype.isTsumi=function(e){var t,o,a,r,i,c,s,m,p,u,f,y,d,v,h,b,g,k,$;if(!this.ban.checkOuteByDirection(e))return!1;var w=[];try{for(var x=n(this.ban.getIterator()),C=x.next();!C.done;C=x.next()){var _=C.value;_.isNull()||_.direction!=e||this.ban.parent.rule.winkoma.indexOf(_.species)>=0&&w.push(_.XY)}}catch(e){t={error:e}}finally{try{C&&!C.done&&(o=x.return)&&o.call(x)}finally{if(t)throw t.error}}try{for(var O=n(w),j=O.next();!j.done;j=O.next()){var S=j.value,T=this.ban.parent.clone();T.ban.remove(S);var E=T.ban.mapKiki(e);try{for(var M=(i=void 0,n(this.ban.get(S).getMovable())),D=M.next();!D.done;D=M.next()){var P=D.value;if(!((null===(h=E.enemy[P.XY.x])||void 0===h?void 0:h[P.XY.y])||this.ban.exists(P.XY)&&this.ban.getDirection(P.XY)==e))return!1}}catch(e){i={error:e}}finally{try{D&&!D.done&&(c=M.return)&&c.call(M)}finally{if(i)throw i.error}}if((null===(g=null===(b=E.enemy[S.x])||void 0===b?void 0:b[S.y])||void 0===g?void 0:g.length)>0)try{for(var I=(s=void 0,n(E.enemy[S.x][S.y])),N=I.next();!N.done;N=I.next()){var R=N.value;if((null===($=null===(k=E.friend[R.x])||void 0===k?void 0:k[R.y])||void 0===$?void 0:$.length)>0)try{for(var A=(p=void 0,n(E.friend[R.x][R.y])),q=A.next();!q.done;q=A.next()){var z=q.value,L=this.ban.parent.clone();0;try{return L.teban.rotate(),L.move(z,R,!1),!1}catch(e){}}}catch(e){p={error:e}}finally{try{q&&!q.done&&(u=A.return)&&u.call(A)}finally{if(p)throw p.error}}try{for(var Y=(f=void 0,n(l.BanScanIterator.getBetween(this.ban,R,S))),X=Y.next();!X.done;X=Y.next()){var B=X.value;if(this.ban.parent.mochigoma.arrayMochigoma[e].length>0)for(var K in this.ban.parent.mochigoma.arrayMochigoma[e]){var H=this.ban.parent.clone();try{return H.put(B,K,e,null),!1}catch(e){}}if(E.friend[B.x]&&E.friend[B.x][B.y])try{for(var F=(d=void 0,n(E.friend[B.x][B.y])),J=F.next();!J.done;J=F.next()){var U=J.value;0;var W=this.ban.parent.clone();try{return W.teban.rotate(),W.move(U,B,!1),!1}catch(e){}}}catch(e){d={error:e}}finally{try{J&&!J.done&&(v=F.return)&&v.call(F)}finally{if(d)throw d.error}}}}catch(e){f={error:e}}finally{try{X&&!X.done&&(y=Y.return)&&y.call(Y)}finally{if(f)throw f.error}}}}catch(e){s={error:e}}finally{try{N&&!N.done&&(m=I.return)&&m.call(I)}finally{if(s)throw s.error}}}}catch(e){a={error:e}}finally{try{j&&!j.done&&(r=O.return)&&r.call(O)}finally{if(a)throw a.error}}return!0},t.prototype.toHTML=function(){return this.setting.ignore?"詰み判定なし":this.setting.uchifu?"打ち歩詰め判定なし":null},t.abstract="詰み",t}(d),Othello:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){if(!this.ban.canOthello()){var t=this.ban.count(),o=void 0,a=void 0,r=void 0,n=void 0;t[0]==t[1]?(o="引き分け",a="引き分け",n=9,r=9):t[0]>t[1]?(o="黒の勝ち",a="勝ち",n=1,r=0):(o="白の勝ち",a="勝ち",n=0,r=1),this.ban.parent.gameEnd(n,r,a,(t[0]||0)+"対"+(t[1]||0)+"で"+o+"です")}},t.prototype.toHTML=function(){return"駒が打てなくなった時点で駒が多いほうが勝ち"},t.abstract="オセロ",t}(d),Gomoku:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t,o,a,r;if(this.setting.sansan&&this.sansan(e))a=1==(r=this.ban.getDirection(e))?0:1,this.gameEnd(r,a,"反則負け","三三です。"+this.ban.parent.teban.getName(r)+"の負けです。");else if(this.gomoku(e,this.setting.moku))r=1==(a=this.ban.getDirection(e))?0:1,this.gameEnd(r,a,"勝ち",f.num2kan_decimal(this.setting.moku)+"目並びました。"+this.ban.parent.teban.getName(a)+"の勝ちです。");else{try{for(var i=n(this.ban.getIterator()),c=i.next();!c.done;c=i.next()){if(c.value.isNull())return}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}this.ban.parent.gameEnd(9,9,"引き分け","全て埋まりました。引き分けです。")}},t.prototype.gomoku=function(e,t){var o,a,r,i,c=this.ban.get(e).direction;try{for(var m=n(s.RelXY.getVector(s.RelativeType.HALFROUND)),p=m.next();!p.done;p=m.next()){var u=p.value,l=1;try{for(var f=(r=void 0,n([1,-1])),y=f.next();!y.done;y=f.next())for(var d=y.value,v=e.clone();v.addRel(u,d),this.ban.isLegal(v)&&this.ban.exists(v)&&this.ban.get(v).direction==c;)l++}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}if(l>=t)return!0}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}return!1},t.prototype.sansan=function(e){var t,o,a,r,i,c,m=this.ban.get(e),p=[];try{e:for(var u=n(s.RelXY.getVector(s.RelativeType.HALFROUND)),l=u.next();!l.done;l=u.next()){var f=l.value,y=1,d=[],v=0;try{for(var h=(a=void 0,n([1,-1])),b=h.next();!b.done;b=h.next()){for(var g=b.value,k=e.clone(),$=0,w=0;;){k.addRel(f,g);var x=this.ban.isLegal(k);if(x&&!this.ban.exists(k)){if(0!=w)break;w=1}else{if(!x||this.ban.get(k).isEnemy(m)){if(0==w){v=1;break}continue e}0==w?y++:$++}}d.push($)}}catch(e){a={error:e}}finally{try{b&&!b.done&&(r=h.return)&&r.call(h)}finally{if(a)throw a.error}}p.push(Math.max(d[0],d[1])+(1==v?0:y))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(t)throw t.error}}var C=[];try{for(var _=n(p),O=_.next();!O.done;O=_.next()){var j=O.value;C[j]||(C[j]=0),C[j]++}}catch(e){i={error:e}}finally{try{O&&!O.done&&(c=_.return)&&c.call(_)}finally{if(i)throw i.error}}return C[3]>=2},t.prototype.toHTML=function(){return this.setting.moku+"目並べると勝ち"},t.abstract="n目並べ",t}(d),Igo:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=this.ban.parent.kifu.getTesuu();if(t>1&&this.ban.parent.getHash()==this.ban.parent.kifu.getHash(t-2))throw new u.Exception("コウは禁止です。")},t.prototype.toHTML=function(){return"コウ禁止"},t.abstract="囲碁",t}(d),Try:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t=this.ban.get(e);if(!this.ban.checkOuteByDirection(t.direction)&&-1!=this.setting.species.indexOf(t.species)){var o=new s.RelXY(0,-1);if(o.turn(t.direction),!this.ban.isLegal(t.XY.getCloneRel(o))){var a=t.direction,r=0==a?1:0;this.ban.parent.gameEnd(r,a,"トライ","トライしました。"+this.ban.parent.teban.getName(a)+"の勝ちです。")}}},t.prototype.toHTML=function(){return"トライルール(敵陣一段目に入れば勝ち)"},t.abstract="トライ",t}(d),Count:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t,o,a=this.ban.count();try{for(var r=n(this.ban.parent.teban.getIterator()),i=r.next();!i.done;i=r.next()){var c=i.value;if(this.setting.lte&&a[c]<=this.setting.lte){var s=1==(m=c)?0:1;this.ban.parent.gameEnd(c,s,"勝ち",this.ban.parent.teban.getName(m)+"の駒が"+this.setting.lte+"枚以下になりました。"+this.ban.parent.teban.getName(s)+"の勝ちです。");break}if(this.setting.gte&&this.setting.gte<=a[c]){var m;s=1==(m=c)?0:1;this.ban.parent.gameEnd(c,s,"勝ち",this.ban.parent.teban.getName(m)+"の駒が"+this.setting.gte+"枚以上になりました。"+this.ban.parent.teban.getName(s)+"の勝ちです。");break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}},t.prototype.toHTML=function(){return"駒が"+(this.setting.lte?this.setting.lte+"枚以下":this.setting.gte+"枚以上")+"になったら負け"},t.abstract="枚数",t}(d),NoMove:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){var t,o,a=this.ban.get(e).direction;try{for(var r=n(this.ban.getIterator()),i=r.next();!i.done;i=r.next()){var c=i.value;if(!c.isNull()&&c.direction!=a&&c.getMovable().length>0)return}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}var s=a,m=0==s?1:0;this.ban.parent.gameEnd(m,s,"勝ち","動ける駒がなくなりました。"+this.ban.parent.teban.getName(s)+"の勝ちです。")},t.prototype.toHTML=function(){return"動ける駒がなくなったら負け"},t.abstract="動ける駒がなくなったら負け",t}(d)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),c=o(6),s=o(2),m=o(8),p=o(9),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract},t.abstract="移動許可",t}(i.BeforeAfterDropStrategyContainer);t.MoveControlStrategyContainer=u;var l=function(e){function t(t,o){var a=e.call(this)||this;return a.ban=t,a.setting=o,a}return r(t,e),t.prototype.executeBefore=function(e){},t.prototype.executeAfter=function(e){},t.prototype.executeDrop=function(e){this.executeAfter(e)},t.prototype.getStrategyGenre=function(){return this.abstract},t.create=function(e,t,o){return new(0,f[e])(t,o)},t.abstract="移動許可",t}(i.BeforeAfterDropStrategy);t.default=l;var f={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){},t.abstract="通常",t}(l),Freeze:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){if(this.isKanashibari(e))throw new s.Exception("その駒は金縛りにあっています。")},t.prototype.isKanashibari=function(e){return!!this.ban.existsMovable(e,this.ban.get(e).direction,{igai:!0})},t.prototype.toHTML=function(){return this.abstract},t.abstract="金縛り(相手の駒の利きがある駒は動けない)",t}(l),Madras:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){if(this.isMadorasi(e))throw new s.Exception("その駒はマドラシ金縛りにあっています。")},t.prototype.isMadorasi=function(e){var t,o,a=this.ban.get(e);try{for(var r=n(this.ban.arrayKikiInSpeDir(a.species,!1,a.direction,!0,!1)),i=r.next();!i.done;i=r.next()){if(i.value.XY.equals(e))return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}return!1},t.prototype.toHTML=function(){return this.abstract},t.abstract="マドラシ(敵同士で同じ種類の駒が互いに利いている場合、お互い動けない)",t}(l),Volleyball:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){if(!this.isVolleyball(e))throw new s.Exception("バレーボールの３回のうち同じ駒を２回動かしてはいけません。")},t.prototype.isVolleyball=function(e){var t;switch(this.ban.parent.kifu.getTesuu()%6){case 5:case 2:if(t=this.ban.parent.kifu.getXYByTesuu(this.ban.parent.kifu.getTesuu()-2),e.equals(t.to))return!1;case 4:case 1:if(t=this.ban.parent.kifu.getXYByTesuu(this.ban.parent.kifu.getTesuu()-1),e.equals(t.to))return!1}return!0},t.prototype.toHTML=function(){return this.abstract},t.abstract="バレーボール(3手ずつ指す。ただし、3つとも別の駒でなくてはならない)",t}(l),NoTaimen:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){},t.prototype.executeAfter=function(e){var t,o,a=this.ban.get(e).direction,r=new c.RelXY(0,-1);r.turn(a);try{for(var i=n(this.ban.getIterator()),m=i.next();!m.done;m=i.next()){var p=m.value;if(!p.isNull()&&p.direction==a&&-1!==this.setting.species.indexOf(p.species))for(var u=p.XY.clone();u.addRel(r),this.ban.isLegal(u);){var l=this.ban.get(u);if(!l.isNull()){if(l.direction==a)break;if(l.species==p.species)throw new s.Exception(p.get("name")+"が対面してはいけません。");break}}}}catch(e){t={error:e}}finally{try{m&&!m.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}},t.prototype.toHTML=function(){return this.setting.species.map((function(e){return"<a href='/koma/{sp}'>"+m.shogitterDB.getKoma(e,"name")+"</a>"})).join(" ")+"どうしが対面してはいけない"},t.abstract="同じ種類の駒が対面してはならない",t}(l),Same:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){var t=this.ban.parent.kifu,o=t.getTesuu();if(o>0){var a=t.getXYByTesuu(o-1);if(t.get(o-1)[0]==this.ban.get(e).direction&&!a.to.equals(e))throw new s.Exception(a.to+"の駒を動かしてください")}},t.prototype.toHTML=function(){return this.abstract},t.abstract="連続して動く場合は同じ駒でなければならない",t}(l),Igo:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){},t.prototype.executeAfter=function(e){if(this.ban.getSurroundedByEnemy(e).length>0)throw new s.Exception("自殺手は禁じ手です。")},t.prototype.toHTML=function(){return(this.setting.common.directions?this.setting.common.directions.map((function(e){return p.Teban.tebanName[0][e]})).join(" ")+"は":"")+this.abstract},t.abstract="相手の駒が縦横で囲んでいるマスには打つこと(自殺手)ができない。",t}(l)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=o(4),s=i(o(6)),m=o(2),p=o(9),u=o(8),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract},t.abstract="移動処理",t}(c.BeforeAfterDropStrategyContainer);t.MoveEffectStrategyContainer=l;var f=function(e){function t(t,o){var a=e.call(this)||this;return a.ban=t,a.setting=o,a}return r(t,e),t.prototype.executeBefore=function(e){},t.prototype.executeAfter=function(e,t){void 0===t&&(t=!1)},t.prototype.executeDrop=function(e,t){},t.create=function(e,t,o){return new(0,y[e])(t,o)},t.abstract="移動処理",t}(c.BeforeAfterDropStrategy);t.default=f;var y={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){},t.abstract="通常",t}(f),Coin:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){var t,o,a;try{for(var r=n(this.ban.getIterator()),i=r.next();!i.done;i=r.next()){var c=i.value;if(!c.isNull()&&c.species===this.setting.coin){a=c.XY;break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}a?(this.relXY=new s.RelXY(a.x-e.x,a.y-e.y),this.koma=this.ban.cut(a)):this.relXY=this.koma=null},t.prototype.executeAfter=function(e){if(this.relXY){var t=e.getCloneRel(this.relXY);if(!this.ban.isLegal(t))throw new m.Exception("コインが盤からはみ出してしまいます");if(this.ban.exists(t))throw new m.Exception("コインがほかの駒と重なってしまいます。");this.ban.set(t,this.koma)}},t.prototype.toHTML=function(){return this.abstract},t.abstract="駒が動くと同時にコインもそれと平行移動する。コインが他の駒に重なるような手は指せない。",t}(f),Hasami:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){var t,o,a,r,i,c;try{for(var m=n(s.RelXY.getVector(s.RelativeType.TATEYOKO)),p=m.next();!p.done;p=m.next()){var u=p.value,l=e.getCloneRel(u);if(this.ban.isLegal(l)){if(this.ban.exists(l)&&this.ban.get(l).isEnemy(this.ban.get(e)))try{for(var f=(a=void 0,n(this.ban.getSurroundedByEnemy(l))),y=f.next();!y.done;y=f.next()){var d=y.value;this.ban.remove(d)}}catch(e){a={error:e}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(a)throw a.error}}try{for(var v=(i=void 0,n(this.ban.getNipped(e,u))),h=v.next();!h.done;h=v.next()){var b=h.value;this.ban.remove(b)}}catch(e){i={error:e}}finally{try{h&&!h.done&&(c=v.return)&&c.call(v)}finally{if(i)throw i.error}}}}}catch(e){t={error:e}}finally{try{p&&!p.done&&(o=m.return)&&o.call(m)}finally{if(t)throw t.error}}},t.prototype.toHTML=function(){return this.abstract},t.abstract="相手の駒を味方の駒で縦か横にはさむか、囲碁のように縦横全てを囲んだ時、その駒を取り去る。",t}(f),Othello:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){var t,o,a,r,i=this.ban.getDirection(e),c=!1;try{for(var p=n(s.RelXY.getVector(s.RelativeType.ALLROUND)),u=p.next();!u.done;u=p.next()){var l=u.value;try{for(var f=(a=void 0,n(this.ban.getNipped(e,l))),y=f.next();!y.done;y=f.next()){var d=y.value;c=!0,this.ban.get(d).direction=i}}catch(e){a={error:e}}finally{try{y&&!y.done&&(r=f.return)&&r.call(f)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(o=p.return)&&o.call(p)}finally{if(t)throw t.error}}if(this.setting.must&&!c)throw new m.Exception("ひっくり返す必要があります。")},t.prototype.executeDrop=function(e){this.executeAfter(e)},t.prototype.toHTML=function(){return this.abstract},t.abstract="相手の駒を縦横斜めにはさんだ時、その駒を味方の駒にする。",t}(f),Donden:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){var t=this.ban.get(e);if(!t.isNull()){var o=new s.RelXY(0,-1);o.turn(t.direction);var a=e.getCloneRel(o);if(this.ban.isLegal(a)){var r=this.ban.get(a);if(!r.isNull()&&t.isEnemy(r)){var n=t.species;t.species=r.species,r.species=n}}}},t.prototype.toHTML=function(){return this.abstract},t.abstract="相手の駒の前のマスに味方の駒が移動した時、互いの駒の場所と向きが入れ替わる。2つの駒の間にどんでん返しがあり、180度回転するイメージ。",t}(f),Underwater:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){this.from=e},t.prototype.executeAfter=function(e){this.suityuuOne(e),this.suityuu(this.from)},t.prototype.executeDrop=function(e){this.suityuuOne(e)},t.prototype.suityuu=function(e){var t,o,a,r;try{for(var i=n(s.RelXY.getVector(s.RelativeType.TATEYOKO)),c=i.next();!c.done;c=i.next()){var m=c.value,p=e.getCloneRel(m);if(this.ban.isLegal(p)&&this.ban.exists(p))try{for(var u=(a=void 0,n(this.ban.getSurroundedBySpace(p))),l=u.next();!l.done;l=u.next()){var f=l.value;this.ban.remove(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}},t.prototype.suityuuOne=function(e){var t,o;try{for(var a=n(this.ban.getSurroundedBySpace(e)),r=a.next();!r.done;r=a.next()){var i=r.value;this.ban.remove(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}},t.prototype.toHTML=function(){return this.abstract},t.abstract="外周1マスにある駒と、それらに縦横でつながった駒以外は消える。",t}(f),Nuclear:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){var t,o,a=this.ban.get(e);try{for(var r=n(a.getMovable()),i=r.next();!i.done;i=r.next()){var c=i.value,s=this.ban.get(c.XY);!s.isNull()&&a.isEnemy(s)&&s.promote(2)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}},t.prototype.executeDrop=function(e){this.executeAfter(e)},t.prototype.toHTML=function(){return this.abstract},t.abstract="駒を動かした時、その駒の利きにある相手の駒を全て裏返す。",t}(f),Igo:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){var t,o,a,r;try{for(var i=n(s.RelXY.getVector(s.RelativeType.TATEYOKO)),c=i.next();!c.done;c=i.next()){var m=c.value,p=e.getCloneRel(m);if(this.ban.isLegal(p)&&(this.ban.exists(p)&&this.ban.get(p).isEnemy(this.ban.get(e))))try{for(var u=(a=void 0,n(this.ban.getSurroundedByEnemy(p))),l=u.next();!l.done;l=u.next()){var f=l.value;this.ban.strategy.Capture.execute(f,this.ban.get(e).direction)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}},t.prototype.executeDrop=function(e){this.executeAfter(e)},t.prototype.toHTML=function(){return this.abstract},t.abstract="相手の駒を縦横で囲んだら取る。",t}(f),Gravity:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){for(var t=1;t<=this.ban.y;t++)for(var o=1,a=1;a<=this.ban.x;a++)this.ban.exists(new s.default(a,t))&&(this.ban.move(new s.default(o,t),new s.default(a,t)),o++)},t.prototype.executeDrop=function(e){this.executeAfter(e)},t.prototype.toHTML=function(){return this.abstract},t.abstract="すべての駒は、盤の端か駒にぶつかるまで横方向(数字の小さい方)に滑る。",t}(f),Checker:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){this.from=e,this.flagCanJump=this.canJump(this.ban.get(e).direction)},t.prototype.executeAfter=function(e){var t=this.from;if(Math.abs(t.x-e.x)<2&&Math.abs(t.y-e.y)<2){if(this.flagCanJump)throw new m.Exception("取れる駒を取ってください")}else this.ban.remove(new s.default(Math.floor((t.x+e.x)/2),Math.floor((t.y+e.y)/2)))},t.prototype.canJump=function(e){var t,o,a,r;try{for(var i=n(this.ban.getIterator()),c=i.next();!c.done;c=i.next()){var s=c.value;if(!s.isNull()&&s.direction==e)try{for(var m=(a=void 0,n(s.getMovable())),p=m.next();!p.done;p=m.next()){var u=p.value;if(2==Math.abs(s.XY.x-u.XY.x)&&2==Math.abs(s.XY.y-u.XY.y))return!0}}catch(e){a={error:e}}finally{try{p&&!p.done&&(r=m.return)&&r.call(m)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return!1},t.prototype.toHTML=function(){return this.abstract},t.abstract="飛び越えた駒を取る。飛び越えられる場合は必ず取らなくてはならない。",t}(f),FlipPut:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){},t.prototype.executeDrop=function(e){var t=this.ban.get(e);this.setting.species==t.species&&t.flip()},t.prototype.toHTML=function(){return(this.setting.common.directions?this.setting.common.directions.map((function(e){return p.Teban.tebanName[0][e]})).join(" ")+"は":"")+"<a href='/koma/"+this.setting.species+"'>"+u.shogitterDB.getKoma(this.setting.species,"name")+"</a>を相手の駒のまま打つ"},t.abstract="持ち駒を相手の駒のまま打つ",t}(f),HasamiTenbinHashiotoshi:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e){var t,o;try{for(var a=n(this.ban.getNipped8(e).concat(this.ban.getTenbined(e),this.ban.getHashiotoshied(e))),r=a.next();!r.done;r=a.next()){var i=r.value;this.ban.remove(i)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}},t.prototype.toHTML=function(){return this.abstract},t.abstract="はさみ：相手の駒を味方の駒で縦か横か斜めにはさむと取れる。天秤：相手にはさまれる手を指した時、はさんだ相手の駒を取れる。端落とし：自分の駒と盤の端ではさむと取れる。",t}(f),Epoxy:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeBefore=function(e){var t,o;this.from=e,this.moving=[];try{for(var a=n(this.ban.getEpoxied(e)),r=a.next();!r.done;r=a.next()){var i=r.value;i.equals(e)||this.moving.push({piece:this.ban.cut(i),from:i})}}catch(e){t={error:e}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}},t.prototype.executeAfter=function(e){var t,o,a=this.from.to(e);try{for(var r=n(this.moving),i=r.next();!i.done;i=r.next()){var c=i.value,s=c.from.getCloneRel(a);if(!this.ban.isLegal(s))throw new m.Exception("駒が盤外にはみ出ます");if(this.ban.exists(s))throw new m.Exception("駒が重なります");this.ban.set(s,c.piece)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}},t.prototype.toHTML=function(){return this.abstract},t.abstract="前後左右に敵駒がいると接着して同時に動く",t}(f),Antikiruke:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.executeAfter=function(e,t){var o,a;if(void 0===t&&(t=!1),t){var r=this.ban.get(e);if(r)try{for(var i=n(this.ban.getNearestInitPlace(r.direction,r.getPromoted(0),e)),c=i.next();!c.done;c=i.next()){var s=c.value;if(!this.ban.exists(s))return void this.ban.move(s,e)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}}},t.prototype.toHTML=function(){return"アンチキルケ("+this.abstract+")"},t.abstract="駒を取った時に取った駒が初期位置に戻る。",t}(f),Quantum:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.deserialize=function(e){var t,o,a=e.quantum;try{for(var r=n([0,1]),i=r.next();!i.done;i=r.next()){var c=i.value;a[c].xys||(a[c].xys=[]),a[c].d.native||(a[c].d.native="[]"),a[c].d.fulls||(a[c].d.fulls=[])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}this.obj=a},t.prototype.serialize=function(e){return e.quantum=this.obj,e},t.prototype.command=function(e,t,o,a,r){void 0===t&&(t=null);var n=JSON.parse("");if(!n)throw new m.Exception("内部エラー");if(n.err){if(0===n.message.indexOf("invalid move combination"))throw new m.Exception("可能性がなくなってしまいます");throw new m.Exception(n.message)}return{fulls:n.fulls,native:n.native,kinds:n.kinds}},t.prototype.findPos=function(e){var t,o,a=e.toString();try{for(var r=n([0,1]),i=r.next();!i.done;i=r.next())for(var c=i.value,s=0;s<this.obj[c].xys.length;s++)if(a===this.obj[c].xys[s])return{direction:c,position:s}}catch(e){t={error:e}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}return null},t.prototype.allocatePos=function(e){return{direction:e,position:this.obj[e].xys.length}},t.prototype.findMochigoma=function(e,t){var o,a;try{for(var r=n([0,1]),i=r.next();!i.done;i=r.next())for(var c=i.value,s=0;s<this.obj[c].xys.length;s++)if("mochi"+e+"-"+t===this.obj[c].xys[s])return{direction:c,position:s}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}throw new m.Exception("持ち駒が見つかりません")},t.prototype.countMochigoma=function(e){var t,o,a,r,i=0;try{for(var c=n([0,1]),s=c.next();!s.done;s=c.next()){var m=s.value;try{for(var p=(a=void 0,n(this.obj[m].xys)),u=p.next();!u.done;u=p.next()){0===u.value.indexOf("mochi{direction}-")&&i++}}catch(e){a={error:e}}finally{try{u&&!u.done&&(r=p.return)&&r.call(p)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}return i},t.prototype.shiftMochigoma=function(e,t){var o,a;try{for(var r=n([0,1]),i=r.next();!i.done;i=r.next()){var c=i.value;for(var s in this.obj[c].xys){var m=this.obj[c].xys[s];if(0===m.indexOf("mochi{direction}-")){var p=parseInt(m.substr(7));p>t&&(this.obj[c].xys[s]="mochi"+e+"-"+(p-1))}}}}catch(e){o={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}},t.prototype.executeBefore=function(e){var t=this.ban.get(e);this.prom="fg"===t.species,this.from=e,this.direction=t.direction},t.prototype.executeAfter=function(e,t){var o;void 0===t&&(t=!1),this.promNow=!this.prom&&"fg"===this.ban.get(e).species,this.to=e,this.captured=t,this.captured&&(o=this.findPos(this.to));var a=this.from.to(this.to);a.turn(this.direction),a.x>2&&(a.x=2),a.x<-2&&(a.x=-2),a.y>2&&(a.y=2),a.y<-2&&(a.y=-2);var r=this.findPos(this.from);null===r&&(r=this.allocatePos(this.direction));var n=this.ban.calcDan(this.to,this.direction),i=this.promNow?"Promote":!this.prom&&n<=2?"NoPromote"+n:"Normal";this.obj[r.direction].xys[r.position]=this.to.toString(),this.obj[r.direction].d=this.command(r.position,a,this.prom,i,this.obj[r.direction].d.native);var c=!1;if(this.captured){if(!o)throw"TODO: to check";var s=this.obj[o.direction].d.kinds[o.position];1==s.length&&"Ou"==s[0]&&(this.ban.parent.gameEnd(1-this.direction,this.direction,"勝ち","王に確定した駒を取りました"),c=!0),this.obj[o.direction].xys[o.position]="mochi{this.direction}-{this.countMochigoma(this.direction)}",c||(this.obj[o.direction].d=this.command(o.position,null,null,"Captured",this.obj[o.direction].d.native))}},t.prototype.executeDrop=function(e,t){this.drop=!0,this.to=e,this.id=t,this.direction=this.ban.get(e).direction;var o=this.findMochigoma(this.direction,this.id);this.obj[o.direction].xys[o.position]=this.to.toString(),this.shiftMochigoma(this.direction,this.id);var a=this.ban.calcDan(this.to,this.direction);a<=2&&(this.obj[o.direction].d=this.command(o.position,null,this.prom,"NoPromote"+a,this.obj[o.direction].d.native))},t}(f)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=i(o(4)),s=o(6),m=o(8),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o,a,r){var i,c;try{for(var s=n(this.arrayStrategies),m=s.next();!m.done;m=s.next()){e=m.value.execute(e,t,o,a,r)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(c=s.return)&&c.call(s)}finally{if(i)throw i.error}}return e},t.prototype.getStrategyGenre=function(){return this.abstract},t.abstract="移動制限",t}(c.StrategyContainer);t.MoveFilterStrategyContainer=p;var u=function(e){function t(t,o){var a=e.call(this)||this;return a.ban=t,a.setting=o,a}return r(t,e),t.create=function(e,t,o){return new(0,l[e])(t,o)},t.abstract="移動制限",t}(c.default);t.default=u;var l={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o,a,r){return e},t.abstract="特になし",t}(u),Dash:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o,a,r){var n=new s.RelXY(0,1);return n.turn(o),e.filter((function(e){var o=t.to(e.XY);return!(n.x*o.x>0)&&!(n.y*o.y>0)}))},t.prototype.toHTML=function(){return this.abstract},t.abstract="後方に進む事が出来ない",t}(u),Restricted:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o,a,r){var i,c;if(!this.setting.place)return e;var s=void 0!==r.directionCalcingAllowed?r.directionCalcingAllowed:o,m=function(t){if(-1===t.species.indexOf(a))return"continue";var o,r;0==s?(o=t.min,r=t.max):(o={x:p.ban.x-t.max.x+1,y:p.ban.y-t.max.y+1},r={x:p.ban.x-t.min.x+1,y:p.ban.y-t.min.y+1}),e=e.filter((function(e){return o.x<=e.XY.x&&e.XY.x<=r.x&&o.y<=e.XY.y&&e.XY.y<=r.y}))},p=this;try{for(var u=n(this.setting.place),l=u.next();!l.done;l=u.next()){m(l.value)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}return e},t.prototype.toHTML=function(){var e,t,o="";try{for(var a=n(this.setting.place),r=a.next();!r.done;r=a.next()){var i=r.value;o+=" "+i.species.map((function(e){return"<a href='/koma/{sp}'>"+m.shogitterDB.getKoma(e,"name")+"</a>"}))+"は"+i.min.x+"〜"+i.max.x+"列"+i.min.y+"〜"+i.max.y+"段"}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o+="のみ移動可能"},t.abstract="決まった領域にしか動く事ができない",t}(u)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(o(4)),s=o(12),m=o(6),p=o(2),u=function(e){function t(t){var o=e.call(this)||this;return o.ban=t,o}return r(t,e),t.prototype.execute=function(e,t){void 0===t&&(t=null),this.checker.execute(e,t)},t.prototype.getStrategyGenre=function(){return this.abstract},t.create=function(e,t,o){return new(0,C[e])(t,o)},t.abstract="二歩",t}(c.default);t.default=u;var l=function(e){function t(t){var o=e.call(this,t)||this;return o.checker=new b(o.ban,new w(o.ban)),o}return r(t,e),t.abstract="禁止",t}(u),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){void 0===t&&(t=null)},t.prototype.toHTML=function(){return this.abstract},t.abstract="許可",t}(u),y=function(e){function t(t){var o=e.call(this,t)||this;return o.checker=new g(o.ban,new w(o.ban)),o}return r(t,e),t.prototype.toHTML=function(){return this.abstract},t.abstract="斜め方向の二歩が禁止",t}(u),d=function(e){function t(t){var o=e.call(this,t)||this;return o.checker=new k(o.ban,new w(o.ban)),o}return r(t,e),t.prototype.toHTML=function(){return this.abstract},t.abstract="着手した駒だけでなく全ての駒を調べる",t}(u),v=function(e){function t(t){var o=e.call(this,t)||this;return o.checker=new k(o.ban,new x(o.ban)),o}return r(t,e),t.prototype.toHTML=function(){return this.abstract},t.abstract="二歩は即負け。着手した駒だけでなく全ての駒を調べる。",t}(u),h=function(){function e(e,t){this.onFound=t,this.ban=e}return e.prototype.scan=function(e,t,o,a){var r,i;void 0===a&&(a={limitJump:-1});var c=0;try{for(var s=n(this.ban.getScanIterator(t,o,a)),m=s.next();!m.done;m=s.next()){var p=m.value;e.equals(this.ban.get(p))&&c++}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return c},e.prototype.scanBoth=function(e,t,o){var a=this.scan(e,t,o);return o.turn(1),a+=this.scan(e,t,o)},e}(),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){void 0===t&&(t=null),null==t&&(t=this.ban.get(e));var o=t.get("nifu");if(o){var a=new m.RelXY(0,-1);a.turn(t.direction),1+this.scanBoth(t,e,a)>=o&&this.onFound.execute(t.direction)}},t}(h),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){void 0===t&&(t=null),null==t&&(t=this.ban.get(e));var o=t.get("nifu");if(o){var a=new m.RelXY(-1,-1);a.turn(t.direction),1+this.scanBoth(t,e,a)>=o&&this.onFound.execute(t.direction)}},t}(h),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t){var o,a;void 0===t&&(t=null);var r=this.ban.get(e).direction,i=[];try{for(var c=n(this.ban.getIterator()),m=c.next();!m.done;m=c.next()){var p=m.value;p&&(p.get("nifu")&&(i[p.XY.x]||(i[p.XY.x]={}),i[p.XY.x][p.species]||(i[p.XY.x][p.species]=[]),i[p.XY.x][p.species][p.direction]||(i[p.XY.x][p.species][p.direction]=0),i[p.XY.x][p.species][p.direction]++))}}catch(e){o={error:e}}finally{try{m&&!m.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}for(var u in i)for(var l in i[u]){var f=i[u][l],y=f[r];if(s.Koma.getStatelessData(l,"nifu")<=y)return void this.onFound.execute(r);for(var d=0;d<f.length;d++){var v=f[d];if(d!=r&&s.Koma.getStatelessData(l,"nifu")<=v)return void this.onFound.execute(d)}}},t}(h),$=function(e){this.ban=e},w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){throw new p.Exception("二歩です。")},t}($),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){this.ban.parent.gameEnd(e,e,"反則負け","二歩です。"+this.ban.parent.teban.getName(e)+"の負けです。")},t}($),C={Normal:l,No:f,Naname:y,Whole:d,Penalty:v}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(o(4)),c=o(2),s=function(e){function t(t,o){var a=e.call(this)||this;return a.flag=!1,a.ban=t,a.setting=o,a}return r(t,e),t.prototype.execute=function(e,t,o,a){this.flag=!1;var r=this.ban.get(e);return this.canPromote(t,e,o,r.direction)&&(this.setting.reversible||this.ban.parent.rule.nari[r.species])?1==a||!this.setting.illegal&&!r.isLegal()||this.setting.must?(this.promote(e),"成"):"不成":""},t.prototype.promote=function(e){this.flag=!0,this.ban.get(e).promote(this.setting.reversible?2:1)},t.prototype.executeLegal=function(e){if(!this.setting.illegal&&!this.ban.get(e).isLegal())throw new c.Exception("行きどころがありません。")},t.prototype.toHTML=function(){var e=[];return this.setting.illegal&&e.push("<li>行き所のない駒を許可する"),this.setting.reversible&&e.push("<li>表裏交互に成る"),this.setting.must&&e.push("<li>成れる時は必ず成る"),0==e.length?null:"<ul>"+e.join("")+"</ul>"},t.prototype.getStrategyGenre=function(){return this.abstract},t.prototype.shouldAskPromotion=function(e,t,o,a){return!this.willMustPromote(e,t)&&this.canPromote(e,t,o,a)},t.prototype.willMustPromote=function(e,t){if(this.setting.must)return!0;var o=this.ban.get(t).clone();return o.setXY(e),!o.isLegal()},t.create=function(e,t,o){return new(0,p[e])(t,o)},t.abstract="成り",t}(i.default);t.default=s;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.canPromote=function(e,t,o,a){var r,n,i=this.ban.get(t).species,c=null===(r=this.setting.species)||void 0===r?void 0:r[i];return n=c||(this.setting.dan||3),(this.ban.calcDan(t,a)<=n||this.ban.calcDan(e,a)<=n)&&!!this.ban.parent.rule.nari[i]},t.prototype.toHTML=function(){return(this.setting.dan||3)+"段目"+e.prototype.toHTML.call(this)},t.abstract="n段目",t}(s),p={Normal:m,Capture:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.canPromote=function(e,t,o,a){return!!o},t.prototype.toHTML=function(){return this.abstract+e.prototype.toHTML.call(this)},t.abstract="駒をとった時",t}(s),All:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o,a){return this.promote(e),""},t.prototype.canPromote=function(e,t,o,a){return!0},t.prototype.toHTML=function(){return this.abstract+e.prototype.toHTML.call(this)},t.abstract="動くたび",t}(s),Naname:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.canPromote=function(e,t,o,a){var r=e.x+e.y,n=t.x+t.y;if(0==a);else{if(1!=a)throw new c.Exception("斜め将棋で想定されていない向きです");var i=this.ban.x+this.ban.y+2;r=i-r,n=i-n}var s=this.setting.dan||6;return r-1<=s||n-1<=s},t.prototype.execute=function(e,t,o,a){this.flag=!1;var r=this.ban.get(e);if(this.canPromote(t,e,o,r.direction))return this.promote(e),""},t.prototype.toHTML=function(){return this.abstract+e.prototype.toHTML.call(this)},t.abstract="斜め将棋",t}(s),Speed:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.canPromote=function(t,o,a,r){var n=this.ban.parent.kifu,i=n.getTesuu();if(i>0&&n.get(i-1)[0]==r)return!1;return e.prototype.canPromote.call(this,t,o,a,r)},t.prototype.toHTML=function(){return e.prototype.toHTML.call(this)+", "+this.abstract},t.abstract="連続して動く場合は成れない",t}(m)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(o(4)),s=o(2),m=function(e){function t(t){var o=e.call(this)||this;return o.ban=t,o}return r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract},t.create=function(e,t,o){return new(0,u[e])(t,o)},t.abstract="手番",t}(c.default);t.default=m;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o,a,r){e?this.ban.parent.kifu.setLastMoving():this.ban.parent.teban.rotate()},t.prototype.canPass=function(){return!1},t.abstract="通常",t}(m),u={Normal:p,Othello:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.canPass=function(){if(this.ban.canOthello(this.ban.parent.teban.getNowDirection()))throw new s.Exception("置ける場所があるためパスできません。");return!0},t.prototype.toHTML=function(){return this.abstract},t.abstract="置けない場合はパスできる",t}(p),Speed:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o){e||!t&&!o?this.ban.parent.kifu.setLastMoving():this.ban.parent.teban.rotate()},t.prototype.canPass=function(){var e=this.ban.parent.kifu,t=e.getTesuu();return!(t<1)&&e.get(t-1)[0]==this.ban.parent.teban.getNowDirection()},t.prototype.toHTML=function(){return this.abstract},t.abstract="1手以上動かしてからパスで移動を確定",t}(m),Checker:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e,t,o,a,r){var i,c;if(2==Math.abs(r.x-a.x)||2==Math.abs(r.y-a.y))try{for(var s=n(this.ban.get(a).getMovable()),m=s.next();!m.done;m=s.next()){var p=m.value;if(2==Math.abs(p.XY.x-a.x)||2==Math.abs(p.XY.y-a.y))return}}catch(e){i={error:e}}finally{try{m&&!m.done&&(c=s.return)&&c.call(s)}finally{if(i)throw i.error}}this.ban.parent.teban.rotate()},t.prototype.canPass=function(){return!1},t.prototype.toHTML=function(){return this.abstract},t.abstract="飛び越せる駒がある場合は連続して指す",t}(m)}},function(e,t,o){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(o(4)),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getStrategyGenre=function(){return this.abstract},t.abstract="持ち駒判定",t}(i.StrategyContainer);t.MochigomaControlStrategyContainer=c;var s=function(e){function t(t,o){var a=e.call(this)||this;return a.mochigoma=t.parent.mochigoma,a.setting=o,a}return r(t,e),t.create=function(e,t,o){return new(0,m[e])(t,o)},t.abstract="持ち駒判定",t}(i.default);t.default=s;var m={Normal:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){},t.abstract="通常",t}(s),WinThird:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){if(this.mochigoma.count(e)>=3){var t=0==e?1:0;this.mochigoma.parent.gameEnd(t,e,"勝ち","３枚目です。"+this.mochigoma.parent.teban.getName(e)+"の勝ちです。")}},t.prototype.toHTML=function(){return this.abstract},t.abstract="三枚目になると勝ち。",t}(s),LoseFifth:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.execute=function(e){this.mochigoma.count(e)>=5&&this.mochigoma.parent.gameEnd(e,e,"負け","持ち駒が5枚に達しました。"+this.mochigoma.parent.teban.getName(e)+"の負けです。")},t.prototype.toHTML=function(){return this.abstract},t.abstract="五枚目になると負け。",t}(s)}},function(e,t,o){"use strict";var a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],a=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(12),i=r(o(6)),c=function(){function e(e){this.arrayKifu=[],this.parent=e}return e.prototype.toString=function(){for(var e="",t=this.arrayKifu.length,o=0;o<t;o++){e+="|"+this.getKifu(o)+"|"+this.getHash(o)+"\n"}return e},e.prototype.getTeban=function(e){return this.get(e)[0]},e.prototype.update=function(e){for(var t,o=e.slice();t=o.shift();)this.add(t)},e.prototype.updateByJSON=function(e){var t,o;void 0===e&&(e=[]);try{for(var r=a(e),n=r.next();!n.done;n=r.next()){var i=n.value;this.addArray(i)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}},e.prototype.getArray=function(){return this.arrayKifu},e.prototype.getTesuu=function(){return this.arrayKifu.length},e.prototype.addArray=function(e,t){void 0===t&&(t=!1);var o=this.getTesuu()-1;o>=0&&this.isResign(o)?this.arrayKifu.splice(o,0,e):this.arrayKifu.push(e),t&&this.checkSennichite()&&(this.parent.status={num:2,message:"千日手です。同一局面が四回現れました。"},this.add(["_",[9]],"千日手"))},e.prototype.isResign=function(e){if(e<0)throw"isResign shouldn't be called for tesuu "+e;return"_"===this.get(e)[0]},e.prototype.add=function(e,t,o){void 0===o&&(o={});var a={move:e,disp:t,data:this.parent.ban.serialize()};o.hash&&(a.hash=this.parent.getHash()),this.addArray(a,o.hash)},e.prototype.checkSennichite=function(){var e=0,t=this.getTesuu()-1,o=this.getTeban(t),a=this.getHash(t);if(""==a)return!1;for(var r=t;r>=0;r--)this.getTeban(r)==o&&this.getHash(r)==a&&e++;return e>=4},e.prototype.get=function(e){if(e<0)throw"num must be non-negative: "+e+" ";return this.arrayKifu[e].move},e.prototype.getKifu=function(e){if(e<0)throw"num must be non-negative: "+e+" ";return this.arrayKifu[e].disp},e.prototype.getHash=function(e){return this.arrayKifu[e].hash},e.prototype.getMoving=function(e){var t;return!!(null===(t=this.arrayKifu[e])||void 0===t?void 0:t.moving)},e.prototype.getLastMoving=function(){return this.getMoving(this.getTesuu()-1)},e.prototype.unsetLastMoving=function(){delete this.arrayKifu[this.getTesuu()-1].moving},e.prototype.setLastMoving=function(){this.arrayKifu[this.getTesuu()-1].moving=!0},e.prototype.remove=function(){return this.arrayKifu.pop()},e.prototype.clear=function(){this.arrayKifu=[]},e.prototype.getXYByKifu=function(e){if(4==e[2].length){var t=e[2];return{to:new i.default(e[1][0],e[1][1]),from:new i.default(t[0],t[1])}}t=e[2];return{to:new i.default(e[1][0],e[1][1]),koma:t[2]}},e.prototype.getXYByTesuu=function(e){return e<0?null:this.getXYByKifu(this.get(e))},e.prototype.getDataByKifu=function(e){if("_"===e[0])return null;for(var t=[],o=e,a=1,r=o.length;a<r;a++)if(3==o[a].length){var c=o[a];t.push({value:c[0],direction:c[1],species:c[2]})}else{c=o[a];t.push({XY:new i.default(c[0],c[1]),before:new n.Koma(c[2][1],c[2][0]),after:new n.Koma(c[3][1],c[3][0])})}return t},e.prototype.get2DataByKifu=function(e){var t=this.getXYByKifu(e);return"koma"in t?{teban:e[0],to:{XY:t.to,before:new n.Koma(e[1][2][1],e[1][2][0]),after:new n.Koma(e[1][3][1],e[1][3][0])},koma:t.koma}:{teban:e[0],to:{XY:t.to,before:new n.Koma(e[1][2][1],e[1][2][0]),after:new n.Koma(e[1][3][1],e[1][3][0])},from:{XY:t.from,before:new n.Koma(e[2][2][1],e[2][2][0]),after:new n.Koma(e[2][3][1],e[2][3][0])}}},e.prototype.getDataByTesuu=function(e){return this.get2DataByKifu(this.get(e))},e.prototype.isInitial=function(e){for(var t=this.getTesuu(),o=0;o<t;o++){var a=this.getXYByTesuu(o);if("from"in a&&a.from.equals(e)||a.to.equals(e))return!1}return!0},e}();t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.javaHashCode=function(e){var t=0;if(0==e.length)return t;for(var o=0;o<e.length;o++){t=(t<<5)-t+e.charCodeAt(o),t&=t}return t}},function(e,t,o){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(o(0));t.default=function(e){var t=e.data;return r.default.createElement("div",{style:{overflowY:"scroll",height:"100%"}},r.default.createElement("ol",null,t.map((function(e,t){return r.default.createElement("li",{key:t},e.disp)}))))}},function(e,t,o){"use strict";var a=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=function(){return(r=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},n=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o},i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c,s=o(31),m=o(0),p=i(o(57)),u=o(16);t.default=function(e){var t=e.board,o=e.activeCells,i=e.moving,l=e.previousMove,f=n(e,["board","activeCells","moving","previousMove"]),y=m.useContext(u.RuleContext).size,d=[],v=function(e,a,n){var c=o.filter((function(t){return t.x==e&&t.y==a})).length>0,m=!!l&&l.to.x==e&&l.to.y==a;n.push(s.jsx("td",{key:e},s.jsx(p.default,r({data:t[e-1][a-1],xy:{x:e,y:a},active:c,moving:null!==i&&"x"in i&&i.x==e&&i.y==a},f,{lastTo:m}))))};if(m.useContext(u.ReverseContext))for(var h=y[1];h>=1;h--){for(var b=[],g=1;g<=y[0];g++)v(g,h,b);d.push(s.jsx("tr",{key:h},b))}else for(h=1;h<=y[1];h++){for(b=[],g=y[0];g>=1;g--)v(g,h,b);d.push(s.jsx("tr",{key:h},b))}return s.jsx("div",null,s.jsx("table",{css:s.css(c||(c=a(["\nborder-collapse: collapse;\nmargin: 0 auto;\n\ntd {\n    border: 1px black solid;\n    padding: 0;\n}\n"],["\nborder-collapse: collapse;\nmargin: 0 auto;\n\ntd {\n    border: 1px black solid;\n    padding: 0;\n}\n"])))},s.jsx("tbody",null,d)))}},function(e,t,o){"use strict";var a=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n,i=o(31),c=o(0),s=o(13),m=o(30),p=r(o(20)),u=o(16),l=function(e,t,o){return e?"#ddd":t?"#aaf":o?"burlywood":""};t.default=function(e){var t,o=e.data,r=e.onClick,f=e.onDrag,y=e.onDrop,d=e.onClear,v=e.xy,h=e.active,b=e.moving,g=e.lastTo,k=s.useDrop({accept:m.ItemTypes.PIECE_ON_BOARD,drop:function(){y(v)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),$=k[0],w=($.isOver,$.canDrop,k[1]);c.useContext(u.ZoomContext);return t=0==o.length?i.jsx(p.NullPiece,{onClick:function(){return r(v)}}):i.jsx(p.default,{direction:o[0],species:o[1],onClick:r,position:v,onDrag:f,onClear:d}),i.jsx("div",{ref:w,css:i.css(n||(n=a(["\nbackground-color: ",";\n    "],["\nbackground-color: ",";\n    "])),l(b,h,g))},t)}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,o){"use strict";e.exports=o(60)},function(e,t,o){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a="function"==typeof Symbol&&Symbol.for,r=a?Symbol.for("react.element"):60103,n=a?Symbol.for("react.portal"):60106,i=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,s=a?Symbol.for("react.profiler"):60114,m=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,u=a?Symbol.for("react.async_mode"):60111,l=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,y=a?Symbol.for("react.suspense"):60113,d=a?Symbol.for("react.suspense_list"):60120,v=a?Symbol.for("react.memo"):60115,h=a?Symbol.for("react.lazy"):60116,b=a?Symbol.for("react.block"):60121,g=a?Symbol.for("react.fundamental"):60117,k=a?Symbol.for("react.responder"):60118,$=a?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case l:case i:case s:case c:case y:return e;default:switch(e=e&&e.$$typeof){case p:case f:case h:case v:case m:return e;default:return t}}case n:return t}}}function x(e){return w(e)===l}t.AsyncMode=u,t.ConcurrentMode=l,t.ContextConsumer=p,t.ContextProvider=m,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=h,t.Memo=v,t.Portal=n,t.Profiler=s,t.StrictMode=c,t.Suspense=y,t.isAsyncMode=function(e){return x(e)||w(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===p},t.isContextProvider=function(e){return w(e)===m},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===h},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===n},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===c},t.isSuspense=function(e){return w(e)===y},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===l||e===s||e===c||e===y||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===v||e.$$typeof===m||e.$$typeof===p||e.$$typeof===f||e.$$typeof===g||e.$$typeof===k||e.$$typeof===$||e.$$typeof===b)},t.typeOf=w},function(e,t,o){"use strict";var a=o(62);function r(){}function n(){}n.resetWarningCache=r,e.exports=function(){function e(e,t,o,r,n,i){if(i!==a){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return o.PropTypes=o,o}},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,o){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o},n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(o(0)),c=n(o(20)),s=o(9);t.default=function(e){var t=e.data,o=e.direction,n=e.turnDirection,m=e.moving,p=r(e,["data","direction","turnDirection","moving"]),u=[];for(var l in t.mochigoma)for(var f=0;f<t.mochigoma[l];f++)u.push(i.default.createElement("div",{key:l+f,style:{display:"inline-block",backgroundColor:m&&"species"in m&&m.species==l&&m.direction==o?"#bbb":"inherit"}},i.default.createElement(c.default,a({species:l,direction:o},p,{position:{direction:o,species:l}}))));return i.default.createElement("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"#eee",height:"100%"}},i.default.createElement("div",{style:{backgroundColor:n==o?"#aaf":"#ddd",textAlign:"center"}},s.Teban.getMark(o),t.user.map((function(e){return e.name})).join(" ")||i.default.createElement(i.default.Fragment,null," ")),i.default.createElement("div",{style:{height:"100%"}},u))}},function(e,t,o){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(o(65)),n=a(o(74)),i=o(22),c={backends:[{backend:r.default,preview:!0,transition:i.MouseTransition},{backend:n.default,options:{enableMouseEvents:!0},preview:!0,transition:i.TouchTransition}]};t.default=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=o(66),n=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){return new n.default(e)}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}();function r(e){return{x:e.clientX,y:e.clientY}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.sourceNodes={},this.sourceNodesOptions={},this.sourcePreviewNodes={},this.sourcePreviewNodesOptions={},this.targetNodes={},this.targetNodeOptions={},this.mouseClientOffset={},this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleWindowMoveStart=this.handleWindowMoveStart.bind(this),this.handleWindowMoveStartCapture=this.handleWindowMoveStartCapture.bind(this),this.handleWindowMoveCapture=this.handleWindowMoveCapture.bind(this),this.handleWindowMoveEndCapture=this.handleWindowMoveEndCapture.bind(this)}return a(e,[{key:"setup",value:function(){if("undefined"!=typeof window){if(this.constructor.isSetUp)throw new Error("Cannot have two DnD Mouse backend at the same time");this.constructor.isSetUp=!0,window.addEventListener("mousedown",this.handleWindowMoveStartCapture,!0),window.addEventListener("mousedown",this.handleWindowMoveStart),window.addEventListener("mousemove",this.handleWindowMoveCapture,!0),window.addEventListener("mouseup",this.handleWindowMoveEndCapture,!0)}}},{key:"getSourceClientOffset",value:function(e){return function(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var o=t.getBoundingClientRect(),a=o.top;return{x:o.left,y:a}}(this.sourceNodes[e])}},{key:"teardown",value:function(){"undefined"!=typeof window&&(this.constructor.isSetUp=!1,this.mouseClientOffset={},window.removeEventListener("mousedown",this.handleWindowMoveStartCapture,!0),window.removeEventListener("mousedown",this.handleWindowMoveStart),window.removeEventListener("mousemove",this.handleWindowMoveCapture,!0),window.removeEventListener("mouseup",this.handleWindowMoveEndCapture,!0))}},{key:"connectDragSource",value:function(e,t){var o=this;this.sourceNodes[e]=t;var a=this.handleMoveStart.bind(this,e);return t.addEventListener("mousedown",a),function(){delete o.sourceNodes[e],t.removeEventListener("mousedown",a)}}},{key:"connectDragPreview",value:function(e,t,o){var a=this;return this.sourcePreviewNodesOptions[e]=o,this.sourcePreviewNodes[e]=t,function(){delete a.sourcePreviewNodes[e],delete a.sourcePreviewNodesOptions[e]}}},{key:"connectDropTarget",value:function(e,t){var o=this;return this.targetNodes[e]=t,function(){delete o.targetNodes[e]}}},{key:"handleWindowMoveStartCapture",value:function(){this.moveStartSourceIds=[]}},{key:"handleMoveStart",value:function(e,t){(function(e){return"which"in e?3===e.which:"button"in e&&2===e.button})(t)||this.moveStartSourceIds.unshift(e)}},{key:"handleWindowMoveStart",value:function(e){var t=r(e);t&&(this.mouseClientOffset=t)}},{key:"handleWindowMoveCapture",value:function(e){var t=this,o=this.moveStartSourceIds,a=r(e);if(a&&(this.monitor.isDragging()||!this.mouseClientOffset.hasOwnProperty("x")||!o||this.mouseClientOffset.x===a.x&&this.mouseClientOffset.y===a.y||(this.moveStartSourceIds=null,this.actions.beginDrag(o,{clientOffset:this.mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),this.monitor.isDragging())){var n=this.sourceNodes[this.monitor.getSourceId()];this.installSourceNodeRemovalObserver(n),this.actions.publishDragSource(),e.preventDefault();var i=Object.keys(this.targetNodes).filter((function(e){var o=t.targetNodes[e].getBoundingClientRect();return a.x>=o.left&&a.x<=o.right&&a.y>=o.top&&a.y<=o.bottom}));this.actions.hover(i,{clientOffset:a})}}},{key:"handleWindowMoveEndCapture",value:function(e){this.monitor.isDragging()&&!this.monitor.didDrop()?(e.preventDefault(),this.mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=null}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new window.MutationObserver((function(){e.parentElement||(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),document.body.appendChild(this.draggedSourceNode)}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=null,this.draggedSourceNode=null}}]),e}();t.default=n},function(e,t,o){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),n=a(o(6));o(14);t.default=function(e,t){var o=r.useState([]),a=o[0],i=o[1],c=r.useState(null),s=c[0],m=c[1];r.useEffect((function(){i([]),m(null)}),[e]);var p=r.useCallback((function(t){console.log("drag",t),m(t),"x"in t&&setTimeout((function(){var o=e.ban.get(new n.default(t.x,t.y)).getMovable().map((function(e){return{x:e.XY.x,y:e.XY.y}}));i(o)}))}),[e]),u=r.useCallback((function(o){if(null!==s){if("species"in s)return t({type:"put",put:s.species,direction:s.direction,to:[o.x,o.y],id:0}),l(),!0;if(a.filter((function(e){return e.x==o.x&&e.y==o.y})).length>0){console.log("drop: execute",o);var r=new n.default(s.x,s.y),i=new n.default(o.x,o.y),c=e.shouldAskPromotion(i,r);return t({type:"move",from:[s.x,s.y],to:[o.x,o.y],nari:c&&confirm("Promote?")}),l(),!0}return"x"in s&&o.x==s.x&&o.y==s.y||!e.ban.exists(new n.default(o.x,o.y))?(console.log("drop: clear",o),l(),!0):(console.log("drop: drag",o),!1)}}),[e,s,a]),l=r.useCallback((function(){m(null),i([])}),[e]),f=r.useCallback((function(t){var o=t.x,a=t.y;console.log("click");var r=new n.default(o,a);s?u({x:o,y:a})||p({x:o,y:a}):e.ban.exists(r)&&p({x:o,y:a})}),[e,s,a]),y=r.useCallback((function(e){console.log("hand click"),s&&(l(),"species"in s&&s.direction==e.direction&&s.species==e.species)||p(e)}),[e,s]);return{moving:s,activeCells:a,onDrag:p,onDrop:u,onClear:l,onCellClick:f,onHandClick:y}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(69),r=o(21);t.default=function(){var e=a.useMediaQuery({query:"(min-width: "+r.lgBreakPoint+"px)"}),t=a.useMediaQuery({query:"(min-width: "+r.mdBreakPoint+"px)"});return e?"lg":t?"md":"sm"}},function(e,t,o){var a;"undefined"!=typeof self&&self,e.exports=(a=o(0),function(e){function t(a){if(o[a])return o[a].exports;var r=o[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,a){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,o){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],a=!0,r=!1,n=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=o(1),n=o.n(r),i=o(7),c=o.n(i),s=o(2),m=o(9),p=o.n(m),u=o(10),l=o(5),f=function(e){if(!e)return null;var t=Object.keys(e);return 0===t.length?null:t.reduce((function(t,o){return t[Object(s.a)(o)]=e[o],t}),{})},y=function(){var e=n.a.useRef(!1);return n.a.useEffect((function(){e.current=!0}),[]),e.current},d=function(e){var t=function(){return function(e){return e.query||Object(u.a)(e)}(e)},o=a(n.a.useState(t),2),r=o[0],i=o[1];return n.a.useEffect((function(){var e=t();r!==e&&i(e)}),[e]),r};t.a=function(e,t,o){var r=function(e){var t=n.a.useContext(l.a),o=function(){return f(e)||f(t)},r=a(n.a.useState(o),2),i=r[0],c=r[1];return n.a.useEffect((function(){var e=o();p()(i,e)||c(e)}),[e,t]),i}(t),i=d(e);if(!i)throw new Error("Invalid or missing MediaQuery!");var s=function(e){var t=a(n.a.useState(e.matches),2),o=t[0],r=t[1];return n.a.useEffect((function(){var t=function(){r(e.matches)};return e.addListener(t),t(),function(){e.removeListener(t)}}),[e]),o}(function(e,t){var o=function(){return c()(e,t||{},!!t)},r=a(n.a.useState(o),2),i=r[0],s=r[1],m=y();return n.a.useEffect((function(){return m&&s(o()),function(){i.dispose()}}),[e,t]),i}(i,r)),m=y();return n.a.useEffect((function(){m&&o&&o(s)}),[s]),s}},function(e,t){e.exports=a},function(e,t,o){"use strict";function a(e){return"-"+e.toLowerCase()}var r=/[A-Z]/g,n=/^ms-/,i={};t.a=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(r,a);return i[e]=n.test(t)?"-"+t:t}},function(e,t,o){"use strict";e.exports=o(13)},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,o){"use strict";var a=o(1),r=o.n(a).a.createContext();t.a=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),r=o(17),n=o(5);o.d(t,"default",(function(){return r.a})),o.d(t,"useMediaQuery",(function(){return a.a})),o.d(t,"Context",(function(){return n.a}))},function(e,t,o){"use strict";function a(e,t,o){function a(e){i.matches=e.matches,i.media=e.media}var i=this;if(n&&!o){var c=n.call(window,e);this.matches=c.matches,this.media=c.media,c.addListener(a)}else this.matches=r(e,t),this.media=e;this.addListener=function(e){c&&c.addListener(e)},this.removeListener=function(e){c&&c.removeListener(e)},this.dispose=function(){c&&c.removeListener(a)}}var r=o(8).match,n="undefined"!=typeof window?window.matchMedia:null;e.exports=function(e,t,o){return new a(e,t,o)}},function(e,t,o){"use strict";function a(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(c),o=t[1],a=t[2],r=t[3]||"",n={};return n.inverse=!!o&&"not"===o.toLowerCase(),n.type=a?a.toLowerCase():"all",r=r.match(/\([^\)]+\)/g)||[],n.expressions=r.map((function(e){var t=e.match(s),o=t[1].toLowerCase().match(m);return{modifier:o[1],feature:o[2],value:t[2]}})),n}))}function r(e){var t,o=Number(e);return o||(o=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),o}function n(e){var t=parseFloat(e);switch(String(e).match(u)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function i(e){var t=parseFloat(e);switch(String(e).match(p)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=function(e,t){return a(e).some((function(e){var o=e.inverse,a="all"===e.type||t.type===e.type;if(a&&o||!a&&!o)return!1;var c=e.expressions.every((function(e){var o=e.feature,a=e.modifier,c=e.value,s=t[o];if(!s)return!1;switch(o){case"orientation":case"scan":return s.toLowerCase()===c.toLowerCase();case"width":case"height":case"device-width":case"device-height":c=i(c),s=i(s);break;case"resolution":c=n(c),s=n(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":c=r(c),s=r(s);break;case"grid":case"color":case"color-index":case"monochrome":c=parseInt(c,10)||1,s=parseInt(s,10)||0}switch(a){case"min":return s>=c;case"max":return s<=c;default:return s===c}}));return c&&!o||!c&&o}))},t.parse=a;var c=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,s=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m=/^(?:(min|max)-)?(.+)/,p=/(em|rem|px|cm|mm|in|pt|pc)?$/,u=/(dpi|dpcm|dppx)?$/},function(e,t,o){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var o=Object.keys(e),a=Object.keys(t),r=o.length;if(a.length!==r)return!1;for(var n=0;n<r;n++){var i=o[n];if(e[i]!==t[i])return!1}return!0}},function(e,t,o){"use strict";var a=o(2),r=o(11);t.a=function(e){var t=[];return Object.keys(r.a.all).forEach((function(o){var r=e[o];null!=r&&t.push(function(e,t){var o=Object(a.a)(e);return"number"==typeof t&&(t="".concat(t,"px")),!0===t?o:!1===t?"not ".concat(o):"(".concat(o,": ").concat(t,")")}(o,r))})),t.join(" and ")}},function(e,t,o){"use strict";function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(o,!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var i=o(12),c=o.n(i),s=c.a.oneOfType([c.a.string,c.a.number]),m={orientation:c.a.oneOf(["portrait","landscape"]),scan:c.a.oneOf(["progressive","interlace"]),aspectRatio:c.a.string,deviceAspectRatio:c.a.string,height:s,deviceHeight:s,width:s,deviceWidth:s,color:c.a.bool,colorIndex:c.a.bool,monochrome:c.a.bool,resolution:s},p=r({minAspectRatio:c.a.string,maxAspectRatio:c.a.string,minDeviceAspectRatio:c.a.string,maxDeviceAspectRatio:c.a.string,minHeight:s,maxHeight:s,minDeviceHeight:s,maxDeviceHeight:s,minWidth:s,maxWidth:s,minDeviceWidth:s,maxDeviceWidth:s,minColor:c.a.number,maxColor:c.a.number,minColorIndex:c.a.number,maxColorIndex:c.a.number,minMonochrome:c.a.number,maxMonochrome:c.a.number,minResolution:s,maxResolution:s},m),u={all:c.a.bool,grid:c.a.bool,aural:c.a.bool,braille:c.a.bool,handheld:c.a.bool,print:c.a.bool,projection:c.a.bool,screen:c.a.bool,tty:c.a.bool,tv:c.a.bool,embossed:c.a.bool},l=r({},u,{},p);m.type=Object.keys(u),t.a={all:l,types:u,matchers:m,features:p}},function(e,t,o){var a=o(3);e.exports=o(14)(a.isElement,!0)},function(e,t,o){"use strict";!function(){function e(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:var o=e.type;switch(o){case u:case l:case i:case s:case c:case y:return o;default:var a=o&&o.$$typeof;switch(a){case p:case f:case m:return a;default:return t}}case h:case v:case n:return t}}}function o(t){return e(t)===l}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&Symbol.for,r=a?Symbol.for("react.element"):60103,n=a?Symbol.for("react.portal"):60106,i=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,s=a?Symbol.for("react.profiler"):60114,m=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,u=a?Symbol.for("react.async_mode"):60111,l=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,y=a?Symbol.for("react.suspense"):60113,d=a?Symbol.for("react.suspense_list"):60120,v=a?Symbol.for("react.memo"):60115,h=a?Symbol.for("react.lazy"):60116,b=a?Symbol.for("react.fundamental"):60117,g=a?Symbol.for("react.responder"):60118,k=function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var r=0,n="Warning: "+e.replace(/%s/g,(function(){return o[r++]}));"undefined"!=typeof console&&console.warn(n);try{throw new Error(n)}catch(e){}},$=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var o=arguments.length,a=Array(o>2?o-2:0),r=2;r<o;r++)a[r-2]=arguments[r];k.apply(void 0,[t].concat(a))}},w=u,x=l,C=p,_=m,O=r,j=f,S=i,T=h,E=v,M=n,D=s,P=c,I=y,N=!1;t.typeOf=e,t.AsyncMode=w,t.ConcurrentMode=x,t.ContextConsumer=C,t.ContextProvider=_,t.Element=O,t.ForwardRef=j,t.Fragment=S,t.Lazy=T,t.Memo=E,t.Portal=M,t.Profiler=D,t.StrictMode=P,t.Suspense=I,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===l||e===s||e===c||e===y||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===v||e.$$typeof===m||e.$$typeof===p||e.$$typeof===f||e.$$typeof===b||e.$$typeof===g)},t.isAsyncMode=function(t){return N||(N=!0,$(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),o(t)||e(t)===u},t.isConcurrentMode=o,t.isContextConsumer=function(t){return e(t)===p},t.isContextProvider=function(t){return e(t)===m},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(t){return e(t)===f},t.isFragment=function(t){return e(t)===i},t.isLazy=function(t){return e(t)===h},t.isMemo=function(t){return e(t)===v},t.isPortal=function(t){return e(t)===n},t.isProfiler=function(t){return e(t)===s},t.isStrictMode=function(t){return e(t)===c},t.isSuspense=function(t){return e(t)===y}}()},function(e,t,o){"use strict";function a(){return null}var r,n=o(3),i=o(15),c=o(4),s=o(16),m=Function.call.bind(Object.prototype.hasOwnProperty);r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function u(e){function o(o,i,s,m,u,l,f){if(m=m||g,l=l||s,f!==c){if(t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}if("undefined"!=typeof console){var d=m+":"+s;!a[d]&&n<3&&(r("You are manually calling a React.PropTypes validation function for the `"+l+"` prop on `"+m+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),a[d]=!0,n++)}}return null==i[s]?o?new p(null===i[s]?"The "+u+" `"+l+"` is marked as required in `"+m+"`, but its value is `null`.":"The "+u+" `"+l+"` is marked as required in `"+m+"`, but its value is `undefined`."):null:e(i,s,m,u,l)}var a={},n=0,i=o.bind(null,!1);return i.isRequired=o.bind(null,!0),i}function l(e){return u((function(t,o,a,r,n,i){var c=t[o];return y(c)!==e?new p("Invalid "+r+" `"+n+"` of type `"+d(c)+"` supplied to `"+a+"`, expected `"+e+"`."):null}))}function f(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(null===t||e(t))return!0;var o=function(e){var t=e&&(h&&e[h]||e[b]);if("function"==typeof t)return t}(t);if(!o)return!1;var a,r=o.call(t);if(o!==t.entries){for(;!(a=r.next()).done;)if(!f(a.value))return!1}else for(;!(a=r.next()).done;){var n=a.value;if(n&&!f(n[1]))return!1}return!0;default:return!1}}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function d(e){if(null==e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}var h="function"==typeof Symbol&&Symbol.iterator,b="@@iterator",g="<<anonymous>>",k={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:u(a),arrayOf:function(e){return u((function(t,o,a,r,n){if("function"!=typeof e)return new p("Property `"+n+"` of component `"+a+"` has invalid PropType notation inside arrayOf.");var i=t[o];if(!Array.isArray(i))return new p("Invalid "+r+" `"+n+"` of type `"+y(i)+"` supplied to `"+a+"`, expected an array.");for(var s=0;s<i.length;s++){var m=e(i,s,a,r,n+"["+s+"]",c);if(m instanceof Error)return m}return null}))},element:u((function(t,o,a,r,n){var i=t[o];return e(i)?null:new p("Invalid "+r+" `"+n+"` of type `"+y(i)+"` supplied to `"+a+"`, expected a single ReactElement.")})),elementType:u((function(e,t,o,a,r){var i=e[t];return n.isValidElementType(i)?null:new p("Invalid "+a+" `"+r+"` of type `"+y(i)+"` supplied to `"+o+"`, expected a single ReactElement type.")})),instanceOf:function(e){return u((function(t,o,a,r,n){if(!(t[o]instanceof e)){var i=e.name||g;return new p("Invalid "+r+" `"+n+"` of type `"+((c=t[o]).constructor&&c.constructor.name?c.constructor.name:g)+"` supplied to `"+a+"`, expected instance of `"+i+"`.")}var c;return null}))},node:u((function(e,t,o,a,r){return f(e[t])?null:new p("Invalid "+a+" `"+r+"` supplied to `"+o+"`, expected a ReactNode.")})),objectOf:function(e){return u((function(t,o,a,r,n){if("function"!=typeof e)return new p("Property `"+n+"` of component `"+a+"` has invalid PropType notation inside objectOf.");var i=t[o],s=y(i);if("object"!==s)return new p("Invalid "+r+" `"+n+"` of type `"+s+"` supplied to `"+a+"`, expected an object.");for(var u in i)if(m(i,u)){var l=e(i,u,a,r,n+"."+u,c);if(l instanceof Error)return l}return null}))},oneOf:function(e){function t(t,a,r,n,i){for(var c=t[a],s=0;s<e.length;s++)if(o(c,e[s]))return null;var m=JSON.stringify(e,(function(e,t){return"symbol"===d(t)?String(t):t}));return new p("Invalid "+n+" `"+i+"` of value `"+String(c)+"` supplied to `"+r+"`, expected one of "+m+".")}return Array.isArray(e)?u(t):(r(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),a)},oneOfType:function(e){if(!Array.isArray(e))return r("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var t=0;t<e.length;t++){var o=e[t];if("function"!=typeof o)return r("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+v(o)+" at index "+t+"."),a}return u((function(t,o,a,r,n){for(var i=0;i<e.length;i++)if(null==(0,e[i])(t,o,a,r,n,c))return null;return new p("Invalid "+r+" `"+n+"` supplied to `"+a+"`.")}))},shape:function(e){return u((function(t,o,a,r,n){var i=t[o],s=y(i);if("object"!==s)return new p("Invalid "+r+" `"+n+"` of type `"+s+"` supplied to `"+a+"`, expected `object`.");for(var m in e){var u=e[m];if(u){var l=u(i,m,a,r,n+"."+m,c);if(l)return l}}return null}))},exact:function(e){return u((function(t,o,a,r,n){var s=t[o],m=y(s);if("object"!==m)return new p("Invalid "+r+" `"+n+"` of type `"+m+"` supplied to `"+a+"`, expected `object`.");var u=i({},t[o],e);for(var l in u){var f=e[l];if(!f)return new p("Invalid "+r+" `"+n+"` key `"+l+"` supplied to `"+a+"`.\nBad object: "+JSON.stringify(t[o],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=f(s,l,a,r,n+"."+l,c);if(d)return d}return null}))}};return p.prototype=Error.prototype,k.checkPropTypes=s,k.resetWarningCache=s.resetWarningCache,k.PropTypes=k,k}},function(e,t,o){"use strict";function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,c,s=a(e),m=1;m<arguments.length;m++){for(var p in o=Object(arguments[m]))n.call(o,p)&&(s[p]=o[p]);if(r){c=r(o);for(var u=0;u<c.length;u++)i.call(o,c[u])&&(s[c[u]]=o[c[u]])}}return s}},function(e,t,o){"use strict";function a(e,t,o,a,s){for(var m in e)if(c(e,m)){var p;try{if("function"!=typeof e[m]){var u=Error((a||"React class")+": "+o+" type `"+m+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[m]+"`.");throw u.name="Invariant Violation",u}p=e[m](t,m,a,o,null,n)}catch(e){p=e}if(!p||p instanceof Error||r((a||"React class")+": type specification of "+o+" `"+m+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof p+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),p instanceof Error&&!(p.message in i)){i[p.message]=!0;var l=s?s():"";r("Failed "+o+" type: "+p.message+(null!=l?l:""))}}}var r=function(){},n=o(4),i={},c=Function.call.bind(Object.prototype.hasOwnProperty);r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},a.resetWarningCache=function(){i={}},e.exports=a},function(e,t,o){"use strict";function a(e,t){if(null==e)return{};var o,a,r=function(e,t){if(null==e)return{};var o,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}t.a=function(e){var t=e.children,o=e.device,n=e.onChange,i=a(e,["children","device","onChange"]),c=Object(r.a)(i,o,n);return"function"==typeof t?t(c):c?t:null};var r=o(0)}]))},function(e,t,o){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(16),n=a(o(0));t.default=function(e){var t=e.children,o=e.zoom,a=e.rule,i=e.reverse,c=e.config;return n.default.createElement(r.ZoomContext.Provider,{value:o},n.default.createElement(r.RuleContext.Provider,{value:a},n.default.createElement(r.ReverseContext.Provider,{value:i},n.default.createElement(r.ConfigContext.Provider,{value:c},t))))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(0);t.default=function(e){var t=a.useState(e||!1),o=t[0],r=t[1];return[o,a.useCallback((function(){return r((function(e){return!e}))}),[])]}},function(e,t,o){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(o(0)),n=o(8),i=[0,44,45,46,47];t.default=function(e){var t=e.shogitter,o=e.reverse,a=e.rollback,c=e.resign,s=e.initialize,m=n.shogitterDB.getAllRules();return r.default.createElement("div",{style:{textAlign:"center"}},r.default.createElement("button",{onClick:o},"🔃"),r.default.createElement("b",null,"Rule:",r.default.createElement("select",{value:t.rule._id,onChange:function(e){var t=parseInt(e.target.value);s(t)}},r.default.createElement("optgroup",{label:"Available rules"},m.filter((function(e){return i.indexOf(e._id)>=0})).map((function(e){return r.default.createElement("option",{key:e._id,value:e._id},e._id,": ",e.name)}))),r.default.createElement("optgroup",{label:"Under construction"},m.filter((function(e){return i.indexOf(e._id)<0})).map((function(e){return r.default.createElement("option",{key:e._id,value:e._id},e._id,": ",e.name)})))))," ",r.default.createElement("button",{onClick:function(e){e.preventDefault(),alert(t.rule.abstract)}},"❓")," ",r.default.createElement("a",{href:"http://shogitter.com/rule/"+t.rule._id,target:"_blank"},"📖"),r.default.createElement("button",{onClick:a},"🤚"),r.default.createElement("button",{onClick:c},"🙇"))}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(0);t.default=function(e,t){return{rollback:a.useCallback((function(){t({type:"rollback"})}),[e]),resign:a.useCallback((function(){t({type:"resign"})}),[e]),initialize:a.useCallback((function(e){t({type:"initialize",ruleId:e})}),[e])}}},function(e,t,o){"use strict";o.r(t);var a,r=o(1);!function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"}(a||(a={}));var n=1,i=0;function c(e){return void 0===e.button||e.button===i}function s(e){return!!e.targetTouches}function m(e,t){return s(e)?function(e,t){return 1===e.targetTouches.length?m(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?m(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}var p=function(){var e=!1;try{addEventListener("test",(function(){}),Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(e){}return e}();function u(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l,f=function(){function e(t,o){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enableTouchEvents=!0,this.enableMouseEvents=!1,this.enableKeyboardEvents=!1,this.ignoreContextMenu=!1,this.enableHoverOutsideTarget=!1,this.touchSlop=0,this.scrollAngleRanges=void 0,this.context=o,this.delayTouchStart=t.delayTouchStart||t.delay||0,this.delayMouseStart=t.delayMouseStart||t.delay||0,Object.keys(t).forEach((function(e){null!=t[e]&&(a[e]=t[e])}))}var t,o,a;return t=e,(o=[{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&u(t.prototype,o),a&&u(t,a),e}();function y(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var v=(d(l={},a.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),d(l,a.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),d(l,a.keyboard,{keydown:"keydown"}),l),h=function(){function e(t,o,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getSourceClientOffset=function(e){return function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var o=t.getBoundingClientRect(),a=o.top;return{x:o.left,y:a}}}(i.sourceNodes[e])},this.handleTopMoveStartCapture=function(e){c(e)&&(i.moveStartSourceIds=[])},this.handleMoveStart=function(e){Array.isArray(i.moveStartSourceIds)&&i.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=function(e){if(c(e)){var t=m(e);t&&(s(e)&&(i.lastTargetTouchFallback=e.targetTouches[0]),i._mouseClientOffset=t),i.waitingForDelay=!1}},this.handleTopMoveStartDelay=function(e){if(c(e)){var t=e.type===v.touch.start?i.options.delayTouchStart:i.options.delayMouseStart;i.timeout=setTimeout(i.handleTopMoveStart.bind(i,e),t),i.waitingForDelay=!0}},this.handleTopMoveCapture=function(){i.dragOverTargetIds=[]},this.handleMove=function(e,t){i.dragOverTargetIds&&i.dragOverTargetIds.unshift(t)},this.handleTopMove=function(e){if(i.timeout&&clearTimeout(i.timeout),i.document&&!i.waitingForDelay){var t,o,a,r,n=i.moveStartSourceIds,c=i.dragOverTargetIds,s=i.options.enableHoverOutsideTarget,p=m(e,i.lastTargetTouchFallback);if(p)if(i._isScrolling||!i.monitor.isDragging()&&function(e,t,o,a,r){if(!r)return!1;for(var n=180*Math.atan2(a-t,o-e)/Math.PI+180,i=0;i<r.length;++i)if((null==r[i].start||n>=r[i].start)&&(null==r[i].end||n<=r[i].end))return!0;return!1}(i._mouseClientOffset.x||0,i._mouseClientOffset.y||0,p.x,p.y,i.options.scrollAngleRanges))i._isScrolling=!0;else if(!i.monitor.isDragging()&&i._mouseClientOffset.hasOwnProperty("x")&&n&&(t=i._mouseClientOffset.x||0,o=i._mouseClientOffset.y||0,a=p.x,r=p.y,Math.sqrt(Math.pow(Math.abs(a-t),2)+Math.pow(Math.abs(r-o),2))>(i.options.touchSlop?i.options.touchSlop:0))&&(i.moveStartSourceIds=void 0,i.actions.beginDrag(n,{clientOffset:i._mouseClientOffset,getSourceClientOffset:i.getSourceClientOffset,publishSource:!1})),i.monitor.isDragging()){var u=i.sourceNodes[i.monitor.getSourceId()];i.installSourceNodeRemovalObserver(u),i.actions.publishDragSource(),e.preventDefault();var l=(c||[]).map((function(e){return i.targetNodes[e]})),f=i.options.getDropTargetElementsAtPoint?i.options.getDropTargetElementsAtPoint(p.x,p.y,l):i.document.elementsFromPoint(p.x,p.y),y=[];for(var d in f)if(f.hasOwnProperty(d)){var v=f[d];for(y.push(v);v;)v=v.parentElement,-1===y.indexOf(v)&&y.push(v)}var h=y.filter((function(e){return l.indexOf(e)>-1})).map((function(e){for(var t in i.targetNodes)if(e===i.targetNodes[t])return t})).filter((function(e){return!!e})).filter((function(e,t,o){return o.indexOf(e)===t}));if(s)for(var b in i.targetNodes)if(i.targetNodes[b]&&i.targetNodes[b].contains(u)&&-1===h.indexOf(b)){h.unshift(b);break}h.reverse(),i.actions.hover(h,{clientOffset:p})}}},this.handleTopMoveEndCapture=function(e){i._isScrolling=!1,i.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0==(e.buttons&n)}(e)&&(i.monitor.isDragging()&&!i.monitor.didDrop()?(e.preventDefault(),i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.drop(),i.actions.endDrag()):i.moveStartSourceIds=void 0)},this.handleCancelOnEscape=function(e){"Escape"===e.key&&i.monitor.isDragging()&&(i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.endDrag())},this.options=new f(r,o),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes={},this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.targetNodes={},this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(a.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(a.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(a.keyboard)}var t,o,i;return t=e,(o=[{key:"setup",value:function(){this.window&&(Object(r.a)(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(this.window,"start",this.getTopMoveStartHandler()),this.addEventListener(this.window,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(this.window,"move",this.handleTopMove),this.addEventListener(this.window,"move",this.handleTopMoveCapture,!0),this.addEventListener(this.window,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(this.window,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(this.window,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){this.window&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(this.window,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(this.window,"start",this.handleTopMoveStart),this.removeEventListener(this.window,"move",this.handleTopMoveCapture,!0),this.removeEventListener(this.window,"move",this.handleTopMove),this.removeEventListener(this.window,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(this.window,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(this.window,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,o,a){var r=p?{capture:a,passive:!1}:a;this.listenerTypes.forEach((function(a){var n=v[a][t];n&&e.addEventListener(n,o,r)}))}},{key:"removeEventListener",value:function(e,t,o,a){var r=p?{capture:a,passive:!1}:a;this.listenerTypes.forEach((function(a){var n=v[a][t];n&&e.removeEventListener(n,o,r)}))}},{key:"connectDragSource",value:function(e,t){var o=this,a=this.handleMoveStart.bind(this,e);return this.sourceNodes[e]=t,this.addEventListener(t,"start",a),function(){delete o.sourceNodes[e],o.removeEventListener(t,"start",a)}}},{key:"connectDragPreview",value:function(e,t,o){var a=this;return this.sourcePreviewNodeOptions[e]=o,this.sourcePreviewNodes[e]=t,function(){delete a.sourcePreviewNodes[e],delete a.sourcePreviewNodeOptions[e]}}},{key:"connectDropTarget",value:function(e,t){var o=this;if(!this.document)return function(){return null};var a=function(a){if(o.document&&o.monitor.isDragging()){var r;switch(a.type){case v.mouse.move:r={x:a.clientX,y:a.clientY};break;case v.touch.move:r={x:a.touches[0].clientX,y:a.touches[0].clientY}}var n=null!=r?o.document.elementFromPoint(r.x,r.y):void 0,i=n&&t.contains(n);return n===t||i?o.handleMove(a,e):void 0}};return this.addEventListener(this.document.body,"move",a),this.targetNodes[e]=t,function(){o.document&&(delete o.targetNodes[e],o.removeEventListener(o.document.body,"move",a))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&y(t.prototype,o),i&&y(t,i),e}();t.default=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new h(e,t,o)}}]));
//# sourceMappingURL=Shogitter.js.map